var oC=Object.defineProperty;var Jy=n=>{throw TypeError(n)};var aC=(n,e,t)=>e in n?oC(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var de=(n,e,t)=>aC(n,typeof e!="symbol"?e+"":e,t),Eg=(n,e,t)=>e.has(n)||Jy("Cannot "+t);var u=(n,e,t)=>(Eg(n,e,"read from private field"),t?t.call(n):e.get(n)),E=(n,e,t)=>e.has(n)?Jy("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),w=(n,e,t,r)=>(Eg(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),_=(n,e,t)=>(Eg(n,e,"access private method"),t);var gn=(n,e,t,r)=>({set _(i){w(n,e,i,t)},get _(){return u(n,e,r)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var U_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bp(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var H_={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xh=Symbol.for("react.element"),lC=Symbol.for("react.portal"),uC=Symbol.for("react.fragment"),cC=Symbol.for("react.strict_mode"),hC=Symbol.for("react.profiler"),dC=Symbol.for("react.provider"),fC=Symbol.for("react.context"),pC=Symbol.for("react.forward_ref"),gC=Symbol.for("react.suspense"),mC=Symbol.for("react.memo"),vC=Symbol.for("react.lazy"),e1=Symbol.iterator;function yC(n){return n===null||typeof n!="object"?null:(n=e1&&n[e1]||n["@@iterator"],typeof n=="function"?n:null)}var V_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G_=Object.assign,W_={};function tu(n,e,t){this.props=n,this.context=e,this.refs=W_,this.updater=t||V_}tu.prototype.isReactComponent={};tu.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};tu.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function Y_(){}Y_.prototype=tu.prototype;function kv(n,e,t){this.props=n,this.context=e,this.refs=W_,this.updater=t||V_}var Pv=kv.prototype=new Y_;Pv.constructor=kv;G_(Pv,tu.prototype);Pv.isPureReactComponent=!0;var t1=Array.isArray,X_=Object.prototype.hasOwnProperty,Lv={current:null},K_={key:!0,ref:!0,__self:!0,__source:!0};function q_(n,e,t){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)X_.call(e,r)&&!K_.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Xh,type:n,key:s,ref:o,props:i,_owner:Lv.current}}function wC(n,e){return{$$typeof:Xh,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function Rv(n){return typeof n=="object"&&n!==null&&n.$$typeof===Xh}function _C(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var n1=/\/+/g;function Ag(n,e){return typeof n=="object"&&n!==null&&n.key!=null?_C(""+n.key):e.toString(36)}function Od(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case Xh:case lC:o=!0}}if(o)return o=n,i=i(o),n=r===""?"."+Ag(o,0):r,t1(i)?(t="",n!=null&&(t=n.replace(n1,"$&/")+"/"),Od(i,e,t,"",function(c){return c})):i!=null&&(Rv(i)&&(i=wC(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(n1,"$&/")+"/")+n)),e.push(i)),1;if(o=0,r=r===""?".":r+":",t1(n))for(var a=0;a<n.length;a++){s=n[a];var l=r+Ag(s,a);o+=Od(s,e,t,l,i)}else if(l=yC(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=r+Ag(s,a++),o+=Od(s,e,t,l,i);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function sd(n,e,t){if(n==null)return n;var r=[],i=0;return Od(n,r,"","",function(s){return e.call(t,s,i++)}),r}function EC(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Zt={current:null},Dd={transition:null},AC={ReactCurrentDispatcher:Zt,ReactCurrentBatchConfig:Dd,ReactCurrentOwner:Lv};function Q_(){throw Error("act(...) is not supported in production builds of React.")}we.Children={map:sd,forEach:function(n,e,t){sd(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return sd(n,function(){e++}),e},toArray:function(n){return sd(n,function(e){return e})||[]},only:function(n){if(!Rv(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};we.Component=tu;we.Fragment=uC;we.Profiler=hC;we.PureComponent=kv;we.StrictMode=cC;we.Suspense=gC;we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AC;we.act=Q_;we.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=G_({},n.props),i=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Lv.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)X_.call(e,l)&&!K_.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Xh,type:n.type,key:i,ref:s,props:r,_owner:o}};we.createContext=function(n){return n={$$typeof:fC,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:dC,_context:n},n.Consumer=n};we.createElement=q_;we.createFactory=function(n){var e=q_.bind(null,n);return e.type=n,e};we.createRef=function(){return{current:null}};we.forwardRef=function(n){return{$$typeof:pC,render:n}};we.isValidElement=Rv;we.lazy=function(n){return{$$typeof:vC,_payload:{_status:-1,_result:n},_init:EC}};we.memo=function(n,e){return{$$typeof:mC,type:n,compare:e===void 0?null:e}};we.startTransition=function(n){var e=Dd.transition;Dd.transition={};try{n()}finally{Dd.transition=e}};we.unstable_act=Q_;we.useCallback=function(n,e){return Zt.current.useCallback(n,e)};we.useContext=function(n){return Zt.current.useContext(n)};we.useDebugValue=function(){};we.useDeferredValue=function(n){return Zt.current.useDeferredValue(n)};we.useEffect=function(n,e){return Zt.current.useEffect(n,e)};we.useId=function(){return Zt.current.useId()};we.useImperativeHandle=function(n,e,t){return Zt.current.useImperativeHandle(n,e,t)};we.useInsertionEffect=function(n,e){return Zt.current.useInsertionEffect(n,e)};we.useLayoutEffect=function(n,e){return Zt.current.useLayoutEffect(n,e)};we.useMemo=function(n,e){return Zt.current.useMemo(n,e)};we.useReducer=function(n,e,t){return Zt.current.useReducer(n,e,t)};we.useRef=function(n){return Zt.current.useRef(n)};we.useState=function(n){return Zt.current.useState(n)};we.useSyncExternalStore=function(n,e,t){return Zt.current.useSyncExternalStore(n,e,t)};we.useTransition=function(){return Zt.current.useTransition()};we.version="18.3.1";H_.exports=we;var U=H_.exports;const D=bp(U);var om={},Z_={exports:{}},Ln={},J_={exports:{}},eE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(x,T){var L=x.length;x.push(T);e:for(;0<L;){var F=L-1>>>1,R=x[F];if(0<i(R,T))x[F]=T,x[L]=R,L=F;else break e}}function t(x){return x.length===0?null:x[0]}function r(x){if(x.length===0)return null;var T=x[0],L=x.pop();if(L!==T){x[0]=L;e:for(var F=0,R=x.length,O=R>>>1;F<O;){var B=2*(F+1)-1,K=x[B],P=B+1,G=x[P];if(0>i(K,L))P<R&&0>i(G,K)?(x[F]=G,x[P]=L,F=P):(x[F]=K,x[B]=L,F=B);else if(P<R&&0>i(G,L))x[F]=G,x[P]=L,F=P;else break e}}return T}function i(x,T){var L=x.sortIndex-T.sortIndex;return L!==0?L:x.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,d=null,f=3,p=!1,g=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(x){for(var T=t(c);T!==null;){if(T.callback===null)r(c);else if(T.startTime<=x)r(c),T.sortIndex=T.expirationTime,e(l,T);else break;T=t(c)}}function S(x){if(y=!1,A(x),!g)if(t(l)!==null)g=!0,le(C);else{var T=t(c);T!==null&&V(S,T.startTime-x)}}function C(x,T){g=!1,y&&(y=!1,m(M),M=-1),p=!0;var L=f;try{for(A(T),d=t(l);d!==null&&(!(d.expirationTime>T)||x&&!N());){var F=d.callback;if(typeof F=="function"){d.callback=null,f=d.priorityLevel;var R=F(d.expirationTime<=T);T=n.unstable_now(),typeof R=="function"?d.callback=R:d===t(l)&&r(l),A(T)}else r(l);d=t(l)}if(d!==null)var O=!0;else{var B=t(c);B!==null&&V(S,B.startTime-T),O=!1}return O}finally{d=null,f=L,p=!1}}var k=!1,I=null,M=-1,z=5,j=-1;function N(){return!(n.unstable_now()-j<z)}function X(){if(I!==null){var x=n.unstable_now();j=x;var T=!0;try{T=I(!0,x)}finally{T?q():(k=!1,I=null)}}else k=!1}var q;if(typeof v=="function")q=function(){v(X)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,ee=Q.port2;Q.port1.onmessage=X,q=function(){ee.postMessage(null)}}else q=function(){b(X,0)};function le(x){I=x,k||(k=!0,q())}function V(x,T){M=b(function(){x(n.unstable_now())},T)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(x){x.callback=null},n.unstable_continueExecution=function(){g||p||(g=!0,le(C))},n.unstable_forceFrameRate=function(x){0>x||125<x?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<x?Math.floor(1e3/x):5},n.unstable_getCurrentPriorityLevel=function(){return f},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(x){switch(f){case 1:case 2:case 3:var T=3;break;default:T=f}var L=f;f=T;try{return x()}finally{f=L}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(x,T){switch(x){case 1:case 2:case 3:case 4:case 5:break;default:x=3}var L=f;f=x;try{return T()}finally{f=L}},n.unstable_scheduleCallback=function(x,T,L){var F=n.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?F+L:F):L=F,x){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=L+R,x={id:h++,callback:T,priorityLevel:x,startTime:L,expirationTime:R,sortIndex:-1},L>F?(x.sortIndex=L,e(c,x),t(l)===null&&x===t(c)&&(y?(m(M),M=-1):y=!0,V(S,L-F))):(x.sortIndex=R,e(l,x),g||p||(g=!0,le(C))),x},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(x){var T=f;return function(){var L=f;f=T;try{return x.apply(this,arguments)}finally{f=L}}}})(eE);J_.exports=eE;var bC=J_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SC=U,Pn=bC;function H(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var tE=new Set,Qu={};function la(n,e){Ul(n,e),Ul(n+"Capture",e)}function Ul(n,e){for(Qu[n]=e,n=0;n<e.length;n++)tE.add(e[n])}var Ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),am=Object.prototype.hasOwnProperty,xC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,r1={},i1={};function CC(n){return am.call(i1,n)?!0:am.call(r1,n)?!1:xC.test(n)?i1[n]=!0:(r1[n]=!0,!1)}function TC(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function kC(n,e,t,r){if(e===null||typeof e>"u"||TC(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Jt(n,e,t,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var It={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){It[n]=new Jt(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];It[e]=new Jt(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){It[n]=new Jt(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){It[n]=new Jt(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){It[n]=new Jt(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){It[n]=new Jt(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){It[n]=new Jt(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){It[n]=new Jt(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){It[n]=new Jt(n,5,!1,n.toLowerCase(),null,!1,!1)});var Iv=/[\-:]([a-z])/g;function Mv(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(Iv,Mv);It[e]=new Jt(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(Iv,Mv);It[e]=new Jt(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(Iv,Mv);It[e]=new Jt(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){It[n]=new Jt(n,1,!1,n.toLowerCase(),null,!1,!1)});It.xlinkHref=new Jt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){It[n]=new Jt(n,1,!1,n.toLowerCase(),null,!0,!0)});function Ov(n,e,t,r){var i=It.hasOwnProperty(e)?It[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(kC(e,t,i,r)&&(t=null),r||i===null?CC(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var Fi=SC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,od=Symbol.for("react.element"),Sa=Symbol.for("react.portal"),xa=Symbol.for("react.fragment"),Dv=Symbol.for("react.strict_mode"),lm=Symbol.for("react.profiler"),nE=Symbol.for("react.provider"),rE=Symbol.for("react.context"),Nv=Symbol.for("react.forward_ref"),um=Symbol.for("react.suspense"),cm=Symbol.for("react.suspense_list"),Fv=Symbol.for("react.memo"),Vi=Symbol.for("react.lazy"),iE=Symbol.for("react.offscreen"),s1=Symbol.iterator;function au(n){return n===null||typeof n!="object"?null:(n=s1&&n[s1]||n["@@iterator"],typeof n=="function"?n:null)}var Qe=Object.assign,bg;function yu(n){if(bg===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);bg=e&&e[1]||""}return`
`+bg+n}var Sg=!1;function xg(n,e){if(!n||Sg)return"";Sg=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){r=c}n.call(e.prototype)}else{try{throw Error()}catch(c){r=c}n()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{Sg=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?yu(n):""}function PC(n){switch(n.tag){case 5:return yu(n.type);case 16:return yu("Lazy");case 13:return yu("Suspense");case 19:return yu("SuspenseList");case 0:case 2:case 15:return n=xg(n.type,!1),n;case 11:return n=xg(n.type.render,!1),n;case 1:return n=xg(n.type,!0),n;default:return""}}function hm(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case xa:return"Fragment";case Sa:return"Portal";case lm:return"Profiler";case Dv:return"StrictMode";case um:return"Suspense";case cm:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case rE:return(n.displayName||"Context")+".Consumer";case nE:return(n._context.displayName||"Context")+".Provider";case Nv:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Fv:return e=n.displayName||null,e!==null?e:hm(n.type)||"Memo";case Vi:e=n._payload,n=n._init;try{return hm(n(e))}catch{}}return null}function LC(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return hm(e);case 8:return e===Dv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ts(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function sE(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function RC(n){var e=sE(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function ad(n){n._valueTracker||(n._valueTracker=RC(n))}function oE(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=sE(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function wf(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function dm(n,e){var t=e.checked;return Qe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function o1(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=Ts(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function aE(n,e){e=e.checked,e!=null&&Ov(n,"checked",e,!1)}function fm(n,e){aE(n,e);var t=Ts(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?pm(n,e.type,t):e.hasOwnProperty("defaultValue")&&pm(n,e.type,Ts(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function a1(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function pm(n,e,t){(e!=="number"||wf(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var wu=Array.isArray;function ja(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+Ts(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function gm(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(H(91));return Qe({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function l1(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(H(92));if(wu(t)){if(1<t.length)throw Error(H(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Ts(t)}}function lE(n,e){var t=Ts(e.value),r=Ts(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function u1(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function uE(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mm(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?uE(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var ld,cE=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(ld=ld||document.createElement("div"),ld.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ld.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Zu(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Fu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},IC=["Webkit","ms","Moz","O"];Object.keys(Fu).forEach(function(n){IC.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Fu[e]=Fu[n]})});function hE(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Fu.hasOwnProperty(n)&&Fu[n]?(""+e).trim():e+"px"}function dE(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=hE(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var MC=Qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vm(n,e){if(e){if(MC[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(H(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(H(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(H(61))}if(e.style!=null&&typeof e.style!="object")throw Error(H(62))}}function ym(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wm=null;function Bv(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var _m=null,za=null,$a=null;function c1(n){if(n=Qh(n)){if(typeof _m!="function")throw Error(H(280));var e=n.stateNode;e&&(e=kp(e),_m(n.stateNode,n.type,e))}}function fE(n){za?$a?$a.push(n):$a=[n]:za=n}function pE(){if(za){var n=za,e=$a;if($a=za=null,c1(n),e)for(n=0;n<e.length;n++)c1(e[n])}}function gE(n,e){return n(e)}function mE(){}var Cg=!1;function vE(n,e,t){if(Cg)return n(e,t);Cg=!0;try{return gE(n,e,t)}finally{Cg=!1,(za!==null||$a!==null)&&(mE(),pE())}}function Ju(n,e){var t=n.stateNode;if(t===null)return null;var r=kp(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(H(231,e,typeof t));return t}var Em=!1;if(Ri)try{var lu={};Object.defineProperty(lu,"passive",{get:function(){Em=!0}}),window.addEventListener("test",lu,lu),window.removeEventListener("test",lu,lu)}catch{Em=!1}function OC(n,e,t,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(h){this.onError(h)}}var Bu=!1,_f=null,Ef=!1,Am=null,DC={onError:function(n){Bu=!0,_f=n}};function NC(n,e,t,r,i,s,o,a,l){Bu=!1,_f=null,OC.apply(DC,arguments)}function FC(n,e,t,r,i,s,o,a,l){if(NC.apply(this,arguments),Bu){if(Bu){var c=_f;Bu=!1,_f=null}else throw Error(H(198));Ef||(Ef=!0,Am=c)}}function ua(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function yE(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function h1(n){if(ua(n)!==n)throw Error(H(188))}function BC(n){var e=n.alternate;if(!e){if(e=ua(n),e===null)throw Error(H(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return h1(i),n;if(s===r)return h1(i),e;s=s.sibling}throw Error(H(188))}if(t.return!==r.return)t=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===t){o=!0,t=i,r=s;break}if(a===r){o=!0,r=i,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,r=i;break}if(a===r){o=!0,r=s,t=i;break}a=a.sibling}if(!o)throw Error(H(189))}}if(t.alternate!==r)throw Error(H(190))}if(t.tag!==3)throw Error(H(188));return t.stateNode.current===t?n:e}function wE(n){return n=BC(n),n!==null?_E(n):null}function _E(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=_E(n);if(e!==null)return e;n=n.sibling}return null}var EE=Pn.unstable_scheduleCallback,d1=Pn.unstable_cancelCallback,jC=Pn.unstable_shouldYield,zC=Pn.unstable_requestPaint,tt=Pn.unstable_now,$C=Pn.unstable_getCurrentPriorityLevel,jv=Pn.unstable_ImmediatePriority,AE=Pn.unstable_UserBlockingPriority,Af=Pn.unstable_NormalPriority,UC=Pn.unstable_LowPriority,bE=Pn.unstable_IdlePriority,Sp=null,jr=null;function HC(n){if(jr&&typeof jr.onCommitFiberRoot=="function")try{jr.onCommitFiberRoot(Sp,n,void 0,(n.current.flags&128)===128)}catch{}}var dr=Math.clz32?Math.clz32:WC,VC=Math.log,GC=Math.LN2;function WC(n){return n>>>=0,n===0?32:31-(VC(n)/GC|0)|0}var ud=64,cd=4194304;function _u(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function bf(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~i;a!==0?r=_u(a):(s&=o,s!==0&&(r=_u(s)))}else o=t&~i,o!==0?r=_u(o):s!==0&&(r=_u(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-dr(e),i=1<<t,r|=n[t],e&=~i;return r}function YC(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function XC(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-dr(s),a=1<<o,l=i[o];l===-1?(!(a&t)||a&r)&&(i[o]=YC(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function bm(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function SE(){var n=ud;return ud<<=1,!(ud&4194240)&&(ud=64),n}function Tg(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Kh(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-dr(e),n[e]=t}function KC(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-dr(t),s=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~s}}function zv(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-dr(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var Ie=0;function xE(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var CE,$v,TE,kE,PE,Sm=!1,hd=[],vs=null,ys=null,ws=null,ec=new Map,tc=new Map,Wi=[],qC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function f1(n,e){switch(n){case"focusin":case"focusout":vs=null;break;case"dragenter":case"dragleave":ys=null;break;case"mouseover":case"mouseout":ws=null;break;case"pointerover":case"pointerout":ec.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":tc.delete(e.pointerId)}}function uu(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Qh(e),e!==null&&$v(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function QC(n,e,t,r,i){switch(e){case"focusin":return vs=uu(vs,n,e,t,r,i),!0;case"dragenter":return ys=uu(ys,n,e,t,r,i),!0;case"mouseover":return ws=uu(ws,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return ec.set(s,uu(ec.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,tc.set(s,uu(tc.get(s)||null,n,e,t,r,i)),!0}return!1}function LE(n){var e=Xs(n.target);if(e!==null){var t=ua(e);if(t!==null){if(e=t.tag,e===13){if(e=yE(t),e!==null){n.blockedOn=e,PE(n.priority,function(){TE(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Nd(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=xm(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);wm=r,t.target.dispatchEvent(r),wm=null}else return e=Qh(t),e!==null&&$v(e),n.blockedOn=t,!1;e.shift()}return!0}function p1(n,e,t){Nd(n)&&t.delete(e)}function ZC(){Sm=!1,vs!==null&&Nd(vs)&&(vs=null),ys!==null&&Nd(ys)&&(ys=null),ws!==null&&Nd(ws)&&(ws=null),ec.forEach(p1),tc.forEach(p1)}function cu(n,e){n.blockedOn===e&&(n.blockedOn=null,Sm||(Sm=!0,Pn.unstable_scheduleCallback(Pn.unstable_NormalPriority,ZC)))}function nc(n){function e(i){return cu(i,n)}if(0<hd.length){cu(hd[0],n);for(var t=1;t<hd.length;t++){var r=hd[t];r.blockedOn===n&&(r.blockedOn=null)}}for(vs!==null&&cu(vs,n),ys!==null&&cu(ys,n),ws!==null&&cu(ws,n),ec.forEach(e),tc.forEach(e),t=0;t<Wi.length;t++)r=Wi[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<Wi.length&&(t=Wi[0],t.blockedOn===null);)LE(t),t.blockedOn===null&&Wi.shift()}var Ua=Fi.ReactCurrentBatchConfig,Sf=!0;function JC(n,e,t,r){var i=Ie,s=Ua.transition;Ua.transition=null;try{Ie=1,Uv(n,e,t,r)}finally{Ie=i,Ua.transition=s}}function eT(n,e,t,r){var i=Ie,s=Ua.transition;Ua.transition=null;try{Ie=4,Uv(n,e,t,r)}finally{Ie=i,Ua.transition=s}}function Uv(n,e,t,r){if(Sf){var i=xm(n,e,t,r);if(i===null)Fg(n,e,r,xf,t),f1(n,r);else if(QC(i,n,e,t,r))r.stopPropagation();else if(f1(n,r),e&4&&-1<qC.indexOf(n)){for(;i!==null;){var s=Qh(i);if(s!==null&&CE(s),s=xm(n,e,t,r),s===null&&Fg(n,e,r,xf,t),s===i)break;i=s}i!==null&&r.stopPropagation()}else Fg(n,e,r,null,t)}}var xf=null;function xm(n,e,t,r){if(xf=null,n=Bv(r),n=Xs(n),n!==null)if(e=ua(n),e===null)n=null;else if(t=e.tag,t===13){if(n=yE(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return xf=n,null}function RE(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($C()){case jv:return 1;case AE:return 4;case Af:case UC:return 16;case bE:return 536870912;default:return 16}default:return 16}}var gs=null,Hv=null,Fd=null;function IE(){if(Fd)return Fd;var n,e=Hv,t=e.length,r,i="value"in gs?gs.value:gs.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===i[s-r];r++);return Fd=i.slice(n,1<r?1-r:void 0)}function Bd(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function dd(){return!0}function g1(){return!1}function Rn(n){function e(t,r,i,s,o){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?dd:g1,this.isPropagationStopped=g1,this}return Qe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=dd)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=dd)},persist:function(){},isPersistent:dd}),e}var nu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vv=Rn(nu),qh=Qe({},nu,{view:0,detail:0}),tT=Rn(qh),kg,Pg,hu,xp=Qe({},qh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gv,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==hu&&(hu&&n.type==="mousemove"?(kg=n.screenX-hu.screenX,Pg=n.screenY-hu.screenY):Pg=kg=0,hu=n),kg)},movementY:function(n){return"movementY"in n?n.movementY:Pg}}),m1=Rn(xp),nT=Qe({},xp,{dataTransfer:0}),rT=Rn(nT),iT=Qe({},qh,{relatedTarget:0}),Lg=Rn(iT),sT=Qe({},nu,{animationName:0,elapsedTime:0,pseudoElement:0}),oT=Rn(sT),aT=Qe({},nu,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),lT=Rn(aT),uT=Qe({},nu,{data:0}),v1=Rn(uT),cT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fT(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=dT[n])?!!e[n]:!1}function Gv(){return fT}var pT=Qe({},qh,{key:function(n){if(n.key){var e=cT[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=Bd(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?hT[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gv,charCode:function(n){return n.type==="keypress"?Bd(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Bd(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),gT=Rn(pT),mT=Qe({},xp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),y1=Rn(mT),vT=Qe({},qh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gv}),yT=Rn(vT),wT=Qe({},nu,{propertyName:0,elapsedTime:0,pseudoElement:0}),_T=Rn(wT),ET=Qe({},xp,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),AT=Rn(ET),bT=[9,13,27,32],Wv=Ri&&"CompositionEvent"in window,ju=null;Ri&&"documentMode"in document&&(ju=document.documentMode);var ST=Ri&&"TextEvent"in window&&!ju,ME=Ri&&(!Wv||ju&&8<ju&&11>=ju),w1=" ",_1=!1;function OE(n,e){switch(n){case"keyup":return bT.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function DE(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ca=!1;function xT(n,e){switch(n){case"compositionend":return DE(e);case"keypress":return e.which!==32?null:(_1=!0,w1);case"textInput":return n=e.data,n===w1&&_1?null:n;default:return null}}function CT(n,e){if(Ca)return n==="compositionend"||!Wv&&OE(n,e)?(n=IE(),Fd=Hv=gs=null,Ca=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ME&&e.locale!=="ko"?null:e.data;default:return null}}var TT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function E1(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!TT[n.type]:e==="textarea"}function NE(n,e,t,r){fE(r),e=Cf(e,"onChange"),0<e.length&&(t=new Vv("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var zu=null,rc=null;function kT(n){YE(n,0)}function Cp(n){var e=Pa(n);if(oE(e))return n}function PT(n,e){if(n==="change")return e}var FE=!1;if(Ri){var Rg;if(Ri){var Ig="oninput"in document;if(!Ig){var A1=document.createElement("div");A1.setAttribute("oninput","return;"),Ig=typeof A1.oninput=="function"}Rg=Ig}else Rg=!1;FE=Rg&&(!document.documentMode||9<document.documentMode)}function b1(){zu&&(zu.detachEvent("onpropertychange",BE),rc=zu=null)}function BE(n){if(n.propertyName==="value"&&Cp(rc)){var e=[];NE(e,rc,n,Bv(n)),vE(kT,e)}}function LT(n,e,t){n==="focusin"?(b1(),zu=e,rc=t,zu.attachEvent("onpropertychange",BE)):n==="focusout"&&b1()}function RT(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Cp(rc)}function IT(n,e){if(n==="click")return Cp(e)}function MT(n,e){if(n==="input"||n==="change")return Cp(e)}function OT(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var pr=typeof Object.is=="function"?Object.is:OT;function ic(n,e){if(pr(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!am.call(e,i)||!pr(n[i],e[i]))return!1}return!0}function S1(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function x1(n,e){var t=S1(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=S1(t)}}function jE(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?jE(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function zE(){for(var n=window,e=wf();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=wf(n.document)}return e}function Yv(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function DT(n){var e=zE(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&jE(t.ownerDocument.documentElement,t)){if(r!==null&&Yv(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=x1(t,s);var o=x1(t,r);i&&o&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var NT=Ri&&"documentMode"in document&&11>=document.documentMode,Ta=null,Cm=null,$u=null,Tm=!1;function C1(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;Tm||Ta==null||Ta!==wf(r)||(r=Ta,"selectionStart"in r&&Yv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),$u&&ic($u,r)||($u=r,r=Cf(Cm,"onSelect"),0<r.length&&(e=new Vv("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=Ta)))}function fd(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var ka={animationend:fd("Animation","AnimationEnd"),animationiteration:fd("Animation","AnimationIteration"),animationstart:fd("Animation","AnimationStart"),transitionend:fd("Transition","TransitionEnd")},Mg={},$E={};Ri&&($E=document.createElement("div").style,"AnimationEvent"in window||(delete ka.animationend.animation,delete ka.animationiteration.animation,delete ka.animationstart.animation),"TransitionEvent"in window||delete ka.transitionend.transition);function Tp(n){if(Mg[n])return Mg[n];if(!ka[n])return n;var e=ka[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in $E)return Mg[n]=e[t];return n}var UE=Tp("animationend"),HE=Tp("animationiteration"),VE=Tp("animationstart"),GE=Tp("transitionend"),WE=new Map,T1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ms(n,e){WE.set(n,e),la(e,[n])}for(var Og=0;Og<T1.length;Og++){var Dg=T1[Og],FT=Dg.toLowerCase(),BT=Dg[0].toUpperCase()+Dg.slice(1);Ms(FT,"on"+BT)}Ms(UE,"onAnimationEnd");Ms(HE,"onAnimationIteration");Ms(VE,"onAnimationStart");Ms("dblclick","onDoubleClick");Ms("focusin","onFocus");Ms("focusout","onBlur");Ms(GE,"onTransitionEnd");Ul("onMouseEnter",["mouseout","mouseover"]);Ul("onMouseLeave",["mouseout","mouseover"]);Ul("onPointerEnter",["pointerout","pointerover"]);Ul("onPointerLeave",["pointerout","pointerover"]);la("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));la("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));la("onBeforeInput",["compositionend","keypress","textInput","paste"]);la("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));la("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));la("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Eu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jT=new Set("cancel close invalid load scroll toggle".split(" ").concat(Eu));function k1(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,FC(r,e,void 0,n),n.currentTarget=null}function YE(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;k1(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;k1(i,a,c),s=l}}}if(Ef)throw n=Am,Ef=!1,Am=null,n}function Ve(n,e){var t=e[Im];t===void 0&&(t=e[Im]=new Set);var r=n+"__bubble";t.has(r)||(XE(e,n,2,!1),t.add(r))}function Ng(n,e,t){var r=0;e&&(r|=4),XE(t,n,r,e)}var pd="_reactListening"+Math.random().toString(36).slice(2);function sc(n){if(!n[pd]){n[pd]=!0,tE.forEach(function(t){t!=="selectionchange"&&(jT.has(t)||Ng(t,!1,n),Ng(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[pd]||(e[pd]=!0,Ng("selectionchange",!1,e))}}function XE(n,e,t,r){switch(RE(e)){case 1:var i=JC;break;case 4:i=eT;break;default:i=Uv}t=i.bind(null,e,t,n),i=void 0,!Em||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function Fg(n,e,t,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Xs(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}vE(function(){var c=s,h=Bv(t),d=[];e:{var f=WE.get(n);if(f!==void 0){var p=Vv,g=n;switch(n){case"keypress":if(Bd(t)===0)break e;case"keydown":case"keyup":p=gT;break;case"focusin":g="focus",p=Lg;break;case"focusout":g="blur",p=Lg;break;case"beforeblur":case"afterblur":p=Lg;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=m1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=rT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=yT;break;case UE:case HE:case VE:p=oT;break;case GE:p=_T;break;case"scroll":p=tT;break;case"wheel":p=AT;break;case"copy":case"cut":case"paste":p=lT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=y1}var y=(e&4)!==0,b=!y&&n==="scroll",m=y?f!==null?f+"Capture":null:f;y=[];for(var v=c,A;v!==null;){A=v;var S=A.stateNode;if(A.tag===5&&S!==null&&(A=S,m!==null&&(S=Ju(v,m),S!=null&&y.push(oc(v,S,A)))),b)break;v=v.return}0<y.length&&(f=new p(f,g,null,t,h),d.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=n==="mouseover"||n==="pointerover",p=n==="mouseout"||n==="pointerout",f&&t!==wm&&(g=t.relatedTarget||t.fromElement)&&(Xs(g)||g[Ii]))break e;if((p||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=t.relatedTarget||t.toElement,p=c,g=g?Xs(g):null,g!==null&&(b=ua(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(y=m1,S="onMouseLeave",m="onMouseEnter",v="mouse",(n==="pointerout"||n==="pointerover")&&(y=y1,S="onPointerLeave",m="onPointerEnter",v="pointer"),b=p==null?f:Pa(p),A=g==null?f:Pa(g),f=new y(S,v+"leave",p,t,h),f.target=b,f.relatedTarget=A,S=null,Xs(h)===c&&(y=new y(m,v+"enter",g,t,h),y.target=A,y.relatedTarget=b,S=y),b=S,p&&g)t:{for(y=p,m=g,v=0,A=y;A;A=ga(A))v++;for(A=0,S=m;S;S=ga(S))A++;for(;0<v-A;)y=ga(y),v--;for(;0<A-v;)m=ga(m),A--;for(;v--;){if(y===m||m!==null&&y===m.alternate)break t;y=ga(y),m=ga(m)}y=null}else y=null;p!==null&&P1(d,f,p,y,!1),g!==null&&b!==null&&P1(d,b,g,y,!0)}}e:{if(f=c?Pa(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var C=PT;else if(E1(f))if(FE)C=MT;else{C=RT;var k=LT}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=IT);if(C&&(C=C(n,c))){NE(d,C,t,h);break e}k&&k(n,f,c),n==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&pm(f,"number",f.value)}switch(k=c?Pa(c):window,n){case"focusin":(E1(k)||k.contentEditable==="true")&&(Ta=k,Cm=c,$u=null);break;case"focusout":$u=Cm=Ta=null;break;case"mousedown":Tm=!0;break;case"contextmenu":case"mouseup":case"dragend":Tm=!1,C1(d,t,h);break;case"selectionchange":if(NT)break;case"keydown":case"keyup":C1(d,t,h)}var I;if(Wv)e:{switch(n){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else Ca?OE(n,t)&&(M="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(M="onCompositionStart");M&&(ME&&t.locale!=="ko"&&(Ca||M!=="onCompositionStart"?M==="onCompositionEnd"&&Ca&&(I=IE()):(gs=h,Hv="value"in gs?gs.value:gs.textContent,Ca=!0)),k=Cf(c,M),0<k.length&&(M=new v1(M,n,null,t,h),d.push({event:M,listeners:k}),I?M.data=I:(I=DE(t),I!==null&&(M.data=I)))),(I=ST?xT(n,t):CT(n,t))&&(c=Cf(c,"onBeforeInput"),0<c.length&&(h=new v1("onBeforeInput","beforeinput",null,t,h),d.push({event:h,listeners:c}),h.data=I))}YE(d,e)})}function oc(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Cf(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ju(n,t),s!=null&&r.unshift(oc(n,s,i)),s=Ju(n,e),s!=null&&r.push(oc(n,s,i))),n=n.return}return r}function ga(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function P1(n,e,t,r,i){for(var s=e._reactName,o=[];t!==null&&t!==r;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Ju(t,s),l!=null&&o.unshift(oc(t,l,a))):i||(l=Ju(t,s),l!=null&&o.push(oc(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var zT=/\r\n?/g,$T=/\u0000|\uFFFD/g;function L1(n){return(typeof n=="string"?n:""+n).replace(zT,`
`).replace($T,"")}function gd(n,e,t){if(e=L1(e),L1(n)!==e&&t)throw Error(H(425))}function Tf(){}var km=null,Pm=null;function Lm(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Rm=typeof setTimeout=="function"?setTimeout:void 0,UT=typeof clearTimeout=="function"?clearTimeout:void 0,R1=typeof Promise=="function"?Promise:void 0,HT=typeof queueMicrotask=="function"?queueMicrotask:typeof R1<"u"?function(n){return R1.resolve(null).then(n).catch(VT)}:Rm;function VT(n){setTimeout(function(){throw n})}function Bg(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),nc(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);nc(e)}function _s(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function I1(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var ru=Math.random().toString(36).slice(2),Fr="__reactFiber$"+ru,ac="__reactProps$"+ru,Ii="__reactContainer$"+ru,Im="__reactEvents$"+ru,GT="__reactListeners$"+ru,WT="__reactHandles$"+ru;function Xs(n){var e=n[Fr];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Ii]||t[Fr]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=I1(n);n!==null;){if(t=n[Fr])return t;n=I1(n)}return e}n=t,t=n.parentNode}return null}function Qh(n){return n=n[Fr]||n[Ii],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Pa(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(H(33))}function kp(n){return n[ac]||null}var Mm=[],La=-1;function Os(n){return{current:n}}function Ge(n){0>La||(n.current=Mm[La],Mm[La]=null,La--)}function Ue(n,e){La++,Mm[La]=n.current,n.current=e}var ks={},Ut=Os(ks),hn=Os(!1),Ko=ks;function Hl(n,e){var t=n.type.contextTypes;if(!t)return ks;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function dn(n){return n=n.childContextTypes,n!=null}function kf(){Ge(hn),Ge(Ut)}function M1(n,e,t){if(Ut.current!==ks)throw Error(H(168));Ue(Ut,e),Ue(hn,t)}function KE(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(H(108,LC(n)||"Unknown",i));return Qe({},t,r)}function Pf(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||ks,Ko=Ut.current,Ue(Ut,n),Ue(hn,hn.current),!0}function O1(n,e,t){var r=n.stateNode;if(!r)throw Error(H(169));t?(n=KE(n,e,Ko),r.__reactInternalMemoizedMergedChildContext=n,Ge(hn),Ge(Ut),Ue(Ut,n)):Ge(hn),Ue(hn,t)}var Qr=null,Pp=!1,jg=!1;function qE(n){Qr===null?Qr=[n]:Qr.push(n)}function YT(n){Pp=!0,qE(n)}function Ds(){if(!jg&&Qr!==null){jg=!0;var n=0,e=Ie;try{var t=Qr;for(Ie=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}Qr=null,Pp=!1}catch(i){throw Qr!==null&&(Qr=Qr.slice(n+1)),EE(jv,Ds),i}finally{Ie=e,jg=!1}}return null}var Ra=[],Ia=0,Lf=null,Rf=0,$n=[],Un=0,qo=null,bi=1,Si="";function $s(n,e){Ra[Ia++]=Rf,Ra[Ia++]=Lf,Lf=n,Rf=e}function QE(n,e,t){$n[Un++]=bi,$n[Un++]=Si,$n[Un++]=qo,qo=n;var r=bi;n=Si;var i=32-dr(r)-1;r&=~(1<<i),t+=1;var s=32-dr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,bi=1<<32-dr(e)+i|t<<i|r,Si=s+n}else bi=1<<s|t<<i|r,Si=n}function Xv(n){n.return!==null&&($s(n,1),QE(n,1,0))}function Kv(n){for(;n===Lf;)Lf=Ra[--Ia],Ra[Ia]=null,Rf=Ra[--Ia],Ra[Ia]=null;for(;n===qo;)qo=$n[--Un],$n[Un]=null,Si=$n[--Un],$n[Un]=null,bi=$n[--Un],$n[Un]=null}var kn=null,Cn=null,We=!1,hr=null;function ZE(n,e){var t=Gn(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function D1(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,kn=n,Cn=_s(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,kn=n,Cn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=qo!==null?{id:bi,overflow:Si}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Gn(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,kn=n,Cn=null,!0):!1;default:return!1}}function Om(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Dm(n){if(We){var e=Cn;if(e){var t=e;if(!D1(n,e)){if(Om(n))throw Error(H(418));e=_s(t.nextSibling);var r=kn;e&&D1(n,e)?ZE(r,t):(n.flags=n.flags&-4097|2,We=!1,kn=n)}}else{if(Om(n))throw Error(H(418));n.flags=n.flags&-4097|2,We=!1,kn=n}}}function N1(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;kn=n}function md(n){if(n!==kn)return!1;if(!We)return N1(n),We=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!Lm(n.type,n.memoizedProps)),e&&(e=Cn)){if(Om(n))throw JE(),Error(H(418));for(;e;)ZE(n,e),e=_s(e.nextSibling)}if(N1(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(H(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Cn=_s(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Cn=null}}else Cn=kn?_s(n.stateNode.nextSibling):null;return!0}function JE(){for(var n=Cn;n;)n=_s(n.nextSibling)}function Vl(){Cn=kn=null,We=!1}function qv(n){hr===null?hr=[n]:hr.push(n)}var XT=Fi.ReactCurrentBatchConfig;function du(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(H(309));var r=t.stateNode}if(!r)throw Error(H(147,n));var i=r,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(H(284));if(!t._owner)throw Error(H(290,n))}return n}function vd(n,e){throw n=Object.prototype.toString.call(e),Error(H(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function F1(n){var e=n._init;return e(n._payload)}function eA(n){function e(m,v){if(n){var A=m.deletions;A===null?(m.deletions=[v],m.flags|=16):A.push(v)}}function t(m,v){if(!n)return null;for(;v!==null;)e(m,v),v=v.sibling;return null}function r(m,v){for(m=new Map;v!==null;)v.key!==null?m.set(v.key,v):m.set(v.index,v),v=v.sibling;return m}function i(m,v){return m=Ss(m,v),m.index=0,m.sibling=null,m}function s(m,v,A){return m.index=A,n?(A=m.alternate,A!==null?(A=A.index,A<v?(m.flags|=2,v):A):(m.flags|=2,v)):(m.flags|=1048576,v)}function o(m){return n&&m.alternate===null&&(m.flags|=2),m}function a(m,v,A,S){return v===null||v.tag!==6?(v=Wg(A,m.mode,S),v.return=m,v):(v=i(v,A),v.return=m,v)}function l(m,v,A,S){var C=A.type;return C===xa?h(m,v,A.props.children,S,A.key):v!==null&&(v.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Vi&&F1(C)===v.type)?(S=i(v,A.props),S.ref=du(m,v,A),S.return=m,S):(S=Gd(A.type,A.key,A.props,null,m.mode,S),S.ref=du(m,v,A),S.return=m,S)}function c(m,v,A,S){return v===null||v.tag!==4||v.stateNode.containerInfo!==A.containerInfo||v.stateNode.implementation!==A.implementation?(v=Yg(A,m.mode,S),v.return=m,v):(v=i(v,A.children||[]),v.return=m,v)}function h(m,v,A,S,C){return v===null||v.tag!==7?(v=Xo(A,m.mode,S,C),v.return=m,v):(v=i(v,A),v.return=m,v)}function d(m,v,A){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Wg(""+v,m.mode,A),v.return=m,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case od:return A=Gd(v.type,v.key,v.props,null,m.mode,A),A.ref=du(m,null,v),A.return=m,A;case Sa:return v=Yg(v,m.mode,A),v.return=m,v;case Vi:var S=v._init;return d(m,S(v._payload),A)}if(wu(v)||au(v))return v=Xo(v,m.mode,A,null),v.return=m,v;vd(m,v)}return null}function f(m,v,A,S){var C=v!==null?v.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return C!==null?null:a(m,v,""+A,S);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case od:return A.key===C?l(m,v,A,S):null;case Sa:return A.key===C?c(m,v,A,S):null;case Vi:return C=A._init,f(m,v,C(A._payload),S)}if(wu(A)||au(A))return C!==null?null:h(m,v,A,S,null);vd(m,A)}return null}function p(m,v,A,S,C){if(typeof S=="string"&&S!==""||typeof S=="number")return m=m.get(A)||null,a(v,m,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case od:return m=m.get(S.key===null?A:S.key)||null,l(v,m,S,C);case Sa:return m=m.get(S.key===null?A:S.key)||null,c(v,m,S,C);case Vi:var k=S._init;return p(m,v,A,k(S._payload),C)}if(wu(S)||au(S))return m=m.get(A)||null,h(v,m,S,C,null);vd(v,S)}return null}function g(m,v,A,S){for(var C=null,k=null,I=v,M=v=0,z=null;I!==null&&M<A.length;M++){I.index>M?(z=I,I=null):z=I.sibling;var j=f(m,I,A[M],S);if(j===null){I===null&&(I=z);break}n&&I&&j.alternate===null&&e(m,I),v=s(j,v,M),k===null?C=j:k.sibling=j,k=j,I=z}if(M===A.length)return t(m,I),We&&$s(m,M),C;if(I===null){for(;M<A.length;M++)I=d(m,A[M],S),I!==null&&(v=s(I,v,M),k===null?C=I:k.sibling=I,k=I);return We&&$s(m,M),C}for(I=r(m,I);M<A.length;M++)z=p(I,m,M,A[M],S),z!==null&&(n&&z.alternate!==null&&I.delete(z.key===null?M:z.key),v=s(z,v,M),k===null?C=z:k.sibling=z,k=z);return n&&I.forEach(function(N){return e(m,N)}),We&&$s(m,M),C}function y(m,v,A,S){var C=au(A);if(typeof C!="function")throw Error(H(150));if(A=C.call(A),A==null)throw Error(H(151));for(var k=C=null,I=v,M=v=0,z=null,j=A.next();I!==null&&!j.done;M++,j=A.next()){I.index>M?(z=I,I=null):z=I.sibling;var N=f(m,I,j.value,S);if(N===null){I===null&&(I=z);break}n&&I&&N.alternate===null&&e(m,I),v=s(N,v,M),k===null?C=N:k.sibling=N,k=N,I=z}if(j.done)return t(m,I),We&&$s(m,M),C;if(I===null){for(;!j.done;M++,j=A.next())j=d(m,j.value,S),j!==null&&(v=s(j,v,M),k===null?C=j:k.sibling=j,k=j);return We&&$s(m,M),C}for(I=r(m,I);!j.done;M++,j=A.next())j=p(I,m,M,j.value,S),j!==null&&(n&&j.alternate!==null&&I.delete(j.key===null?M:j.key),v=s(j,v,M),k===null?C=j:k.sibling=j,k=j);return n&&I.forEach(function(X){return e(m,X)}),We&&$s(m,M),C}function b(m,v,A,S){if(typeof A=="object"&&A!==null&&A.type===xa&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case od:e:{for(var C=A.key,k=v;k!==null;){if(k.key===C){if(C=A.type,C===xa){if(k.tag===7){t(m,k.sibling),v=i(k,A.props.children),v.return=m,m=v;break e}}else if(k.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Vi&&F1(C)===k.type){t(m,k.sibling),v=i(k,A.props),v.ref=du(m,k,A),v.return=m,m=v;break e}t(m,k);break}else e(m,k);k=k.sibling}A.type===xa?(v=Xo(A.props.children,m.mode,S,A.key),v.return=m,m=v):(S=Gd(A.type,A.key,A.props,null,m.mode,S),S.ref=du(m,v,A),S.return=m,m=S)}return o(m);case Sa:e:{for(k=A.key;v!==null;){if(v.key===k)if(v.tag===4&&v.stateNode.containerInfo===A.containerInfo&&v.stateNode.implementation===A.implementation){t(m,v.sibling),v=i(v,A.children||[]),v.return=m,m=v;break e}else{t(m,v);break}else e(m,v);v=v.sibling}v=Yg(A,m.mode,S),v.return=m,m=v}return o(m);case Vi:return k=A._init,b(m,v,k(A._payload),S)}if(wu(A))return g(m,v,A,S);if(au(A))return y(m,v,A,S);vd(m,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,v!==null&&v.tag===6?(t(m,v.sibling),v=i(v,A),v.return=m,m=v):(t(m,v),v=Wg(A,m.mode,S),v.return=m,m=v),o(m)):t(m,v)}return b}var Gl=eA(!0),tA=eA(!1),If=Os(null),Mf=null,Ma=null,Qv=null;function Zv(){Qv=Ma=Mf=null}function Jv(n){var e=If.current;Ge(If),n._currentValue=e}function Nm(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function Ha(n,e){Mf=n,Qv=Ma=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(ln=!0),n.firstContext=null)}function Yn(n){var e=n._currentValue;if(Qv!==n)if(n={context:n,memoizedValue:e,next:null},Ma===null){if(Mf===null)throw Error(H(308));Ma=n,Mf.dependencies={lanes:0,firstContext:n}}else Ma=Ma.next=n;return e}var Ks=null;function ey(n){Ks===null?Ks=[n]:Ks.push(n)}function nA(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,ey(e)):(t.next=i.next,i.next=t),e.interleaved=t,Mi(n,r)}function Mi(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var Gi=!1;function ty(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rA(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Ci(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Es(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,xe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Mi(n,t)}return i=r.interleaved,i===null?(e.next=e,ey(r)):(e.next=i.next,i.next=e),r.interleaved=e,Mi(n,t)}function jd(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,zv(n,t)}}function B1(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function Of(n,e,t,r){var i=n.updateQueue;Gi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var h=n.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,h=c=l=null,a=s;do{var f=a.lane,p=a.eventTime;if((r&f)===f){h!==null&&(h=h.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=n,y=a;switch(f=e,p=t,y.tag){case 1:if(g=y.payload,typeof g=="function"){d=g.call(p,d,f);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,f=typeof g=="function"?g.call(p,d,f):g,f==null)break e;d=Qe({},d,f);break e;case 2:Gi=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=p,l=d):h=h.next=p,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(h===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Zo|=o,n.lanes=o,n.memoizedState=d}}function j1(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(H(191,i));i.call(r)}}}var Zh={},zr=Os(Zh),lc=Os(Zh),uc=Os(Zh);function qs(n){if(n===Zh)throw Error(H(174));return n}function ny(n,e){switch(Ue(uc,e),Ue(lc,n),Ue(zr,Zh),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:mm(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=mm(e,n)}Ge(zr),Ue(zr,e)}function Wl(){Ge(zr),Ge(lc),Ge(uc)}function iA(n){qs(uc.current);var e=qs(zr.current),t=mm(e,n.type);e!==t&&(Ue(lc,n),Ue(zr,t))}function ry(n){lc.current===n&&(Ge(zr),Ge(lc))}var Ke=Os(0);function Df(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var zg=[];function iy(){for(var n=0;n<zg.length;n++)zg[n]._workInProgressVersionPrimary=null;zg.length=0}var zd=Fi.ReactCurrentDispatcher,$g=Fi.ReactCurrentBatchConfig,Qo=0,qe=null,dt=null,yt=null,Nf=!1,Uu=!1,cc=0,KT=0;function Mt(){throw Error(H(321))}function sy(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!pr(n[t],e[t]))return!1;return!0}function oy(n,e,t,r,i,s){if(Qo=s,qe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,zd.current=n===null||n.memoizedState===null?JT:ek,n=t(r,i),Uu){s=0;do{if(Uu=!1,cc=0,25<=s)throw Error(H(301));s+=1,yt=dt=null,e.updateQueue=null,zd.current=tk,n=t(r,i)}while(Uu)}if(zd.current=Ff,e=dt!==null&&dt.next!==null,Qo=0,yt=dt=qe=null,Nf=!1,e)throw Error(H(300));return n}function ay(){var n=cc!==0;return cc=0,n}function yr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?qe.memoizedState=yt=n:yt=yt.next=n,yt}function Xn(){if(dt===null){var n=qe.alternate;n=n!==null?n.memoizedState:null}else n=dt.next;var e=yt===null?qe.memoizedState:yt.next;if(e!==null)yt=e,dt=n;else{if(n===null)throw Error(H(310));dt=n,n={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},yt===null?qe.memoizedState=yt=n:yt=yt.next=n}return yt}function hc(n,e){return typeof e=="function"?e(n):e}function Ug(n){var e=Xn(),t=e.queue;if(t===null)throw Error(H(311));t.lastRenderedReducer=n;var r=dt,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var h=c.lane;if((Qo&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:n(r,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,qe.lanes|=h,Zo|=h}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,pr(r,e.memoizedState)||(ln=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do s=i.lane,qe.lanes|=s,Zo|=s,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function Hg(n){var e=Xn(),t=e.queue;if(t===null)throw Error(H(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do s=n(s,o.action),o=o.next;while(o!==i);pr(s,e.memoizedState)||(ln=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function sA(){}function oA(n,e){var t=qe,r=Xn(),i=e(),s=!pr(r.memoizedState,i);if(s&&(r.memoizedState=i,ln=!0),r=r.queue,ly(uA.bind(null,t,r,n),[n]),r.getSnapshot!==e||s||yt!==null&&yt.memoizedState.tag&1){if(t.flags|=2048,dc(9,lA.bind(null,t,r,i,e),void 0,null),wt===null)throw Error(H(349));Qo&30||aA(t,e,i)}return i}function aA(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=qe.updateQueue,e===null?(e={lastEffect:null,stores:null},qe.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function lA(n,e,t,r){e.value=t,e.getSnapshot=r,cA(e)&&hA(n)}function uA(n,e,t){return t(function(){cA(e)&&hA(n)})}function cA(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!pr(n,t)}catch{return!0}}function hA(n){var e=Mi(n,1);e!==null&&fr(e,n,1,-1)}function z1(n){var e=yr();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hc,lastRenderedState:n},e.queue=n,n=n.dispatch=ZT.bind(null,qe,n),[e.memoizedState,n]}function dc(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=qe.updateQueue,e===null?(e={lastEffect:null,stores:null},qe.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function dA(){return Xn().memoizedState}function $d(n,e,t,r){var i=yr();qe.flags|=n,i.memoizedState=dc(1|e,t,void 0,r===void 0?null:r)}function Lp(n,e,t,r){var i=Xn();r=r===void 0?null:r;var s=void 0;if(dt!==null){var o=dt.memoizedState;if(s=o.destroy,r!==null&&sy(r,o.deps)){i.memoizedState=dc(e,t,s,r);return}}qe.flags|=n,i.memoizedState=dc(1|e,t,s,r)}function $1(n,e){return $d(8390656,8,n,e)}function ly(n,e){return Lp(2048,8,n,e)}function fA(n,e){return Lp(4,2,n,e)}function pA(n,e){return Lp(4,4,n,e)}function gA(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function mA(n,e,t){return t=t!=null?t.concat([n]):null,Lp(4,4,gA.bind(null,e,n),t)}function uy(){}function vA(n,e){var t=Xn();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&sy(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function yA(n,e){var t=Xn();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&sy(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function wA(n,e,t){return Qo&21?(pr(t,e)||(t=SE(),qe.lanes|=t,Zo|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,ln=!0),n.memoizedState=t)}function qT(n,e){var t=Ie;Ie=t!==0&&4>t?t:4,n(!0);var r=$g.transition;$g.transition={};try{n(!1),e()}finally{Ie=t,$g.transition=r}}function _A(){return Xn().memoizedState}function QT(n,e,t){var r=bs(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},EA(n))AA(e,t);else if(t=nA(n,e,t,r),t!==null){var i=Kt();fr(t,n,r,i),bA(t,e,r)}}function ZT(n,e,t){var r=bs(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(EA(n))AA(e,i);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(i.hasEagerState=!0,i.eagerState=a,pr(a,o)){var l=e.interleaved;l===null?(i.next=i,ey(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}t=nA(n,e,i,r),t!==null&&(i=Kt(),fr(t,n,r,i),bA(t,e,r))}}function EA(n){var e=n.alternate;return n===qe||e!==null&&e===qe}function AA(n,e){Uu=Nf=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function bA(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,zv(n,t)}}var Ff={readContext:Yn,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useInsertionEffect:Mt,useLayoutEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useMutableSource:Mt,useSyncExternalStore:Mt,useId:Mt,unstable_isNewReconciler:!1},JT={readContext:Yn,useCallback:function(n,e){return yr().memoizedState=[n,e===void 0?null:e],n},useContext:Yn,useEffect:$1,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,$d(4194308,4,gA.bind(null,e,n),t)},useLayoutEffect:function(n,e){return $d(4194308,4,n,e)},useInsertionEffect:function(n,e){return $d(4,2,n,e)},useMemo:function(n,e){var t=yr();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=yr();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=QT.bind(null,qe,n),[r.memoizedState,n]},useRef:function(n){var e=yr();return n={current:n},e.memoizedState=n},useState:z1,useDebugValue:uy,useDeferredValue:function(n){return yr().memoizedState=n},useTransition:function(){var n=z1(!1),e=n[0];return n=qT.bind(null,n[1]),yr().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=qe,i=yr();if(We){if(t===void 0)throw Error(H(407));t=t()}else{if(t=e(),wt===null)throw Error(H(349));Qo&30||aA(r,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,$1(uA.bind(null,r,s,n),[n]),r.flags|=2048,dc(9,lA.bind(null,r,s,t,e),void 0,null),t},useId:function(){var n=yr(),e=wt.identifierPrefix;if(We){var t=Si,r=bi;t=(r&~(1<<32-dr(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=cc++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=KT++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},ek={readContext:Yn,useCallback:vA,useContext:Yn,useEffect:ly,useImperativeHandle:mA,useInsertionEffect:fA,useLayoutEffect:pA,useMemo:yA,useReducer:Ug,useRef:dA,useState:function(){return Ug(hc)},useDebugValue:uy,useDeferredValue:function(n){var e=Xn();return wA(e,dt.memoizedState,n)},useTransition:function(){var n=Ug(hc)[0],e=Xn().memoizedState;return[n,e]},useMutableSource:sA,useSyncExternalStore:oA,useId:_A,unstable_isNewReconciler:!1},tk={readContext:Yn,useCallback:vA,useContext:Yn,useEffect:ly,useImperativeHandle:mA,useInsertionEffect:fA,useLayoutEffect:pA,useMemo:yA,useReducer:Hg,useRef:dA,useState:function(){return Hg(hc)},useDebugValue:uy,useDeferredValue:function(n){var e=Xn();return dt===null?e.memoizedState=n:wA(e,dt.memoizedState,n)},useTransition:function(){var n=Hg(hc)[0],e=Xn().memoizedState;return[n,e]},useMutableSource:sA,useSyncExternalStore:oA,useId:_A,unstable_isNewReconciler:!1};function Qn(n,e){if(n&&n.defaultProps){e=Qe({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function Fm(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:Qe({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var Rp={isMounted:function(n){return(n=n._reactInternals)?ua(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=Kt(),i=bs(n),s=Ci(r,i);s.payload=e,t!=null&&(s.callback=t),e=Es(n,s,i),e!==null&&(fr(e,n,i,r),jd(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=Kt(),i=bs(n),s=Ci(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=Es(n,s,i),e!==null&&(fr(e,n,i,r),jd(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Kt(),r=bs(n),i=Ci(t,r);i.tag=2,e!=null&&(i.callback=e),e=Es(n,i,r),e!==null&&(fr(e,n,r,t),jd(e,n,r))}};function U1(n,e,t,r,i,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!ic(t,r)||!ic(i,s):!0}function SA(n,e,t){var r=!1,i=ks,s=e.contextType;return typeof s=="object"&&s!==null?s=Yn(s):(i=dn(e)?Ko:Ut.current,r=e.contextTypes,s=(r=r!=null)?Hl(n,i):ks),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Rp,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function H1(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&Rp.enqueueReplaceState(e,e.state,null)}function Bm(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs={},ty(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Yn(s):(s=dn(e)?Ko:Ut.current,i.context=Hl(n,s)),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Fm(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Rp.enqueueReplaceState(i,i.state,null),Of(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function Yl(n,e){try{var t="",r=e;do t+=PC(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i,digest:null}}function Vg(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function jm(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var nk=typeof WeakMap=="function"?WeakMap:Map;function xA(n,e,t){t=Ci(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){jf||(jf=!0,Km=r),jm(n,e)},t}function CA(n,e,t){t=Ci(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){jm(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){jm(n,e),typeof r!="function"&&(As===null?As=new Set([this]):As.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function V1(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new nk;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=mk.bind(null,n,e,t),e.then(n,n))}function G1(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function W1(n,e,t,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Ci(-1,1),e.tag=2,Es(t,e,1))),t.lanes|=1),n)}var rk=Fi.ReactCurrentOwner,ln=!1;function Yt(n,e,t,r){e.child=n===null?tA(e,null,t,r):Gl(e,n.child,t,r)}function Y1(n,e,t,r,i){t=t.render;var s=e.ref;return Ha(e,i),r=oy(n,e,t,r,s,i),t=ay(),n!==null&&!ln?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Oi(n,e,i)):(We&&t&&Xv(e),e.flags|=1,Yt(n,e,r,i),e.child)}function X1(n,e,t,r,i){if(n===null){var s=t.type;return typeof s=="function"&&!vy(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,TA(n,e,s,r,i)):(n=Gd(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&i)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:ic,t(o,r)&&n.ref===e.ref)return Oi(n,e,i)}return e.flags|=1,n=Ss(s,r),n.ref=e.ref,n.return=e,e.child=n}function TA(n,e,t,r,i){if(n!==null){var s=n.memoizedProps;if(ic(s,r)&&n.ref===e.ref)if(ln=!1,e.pendingProps=r=s,(n.lanes&i)!==0)n.flags&131072&&(ln=!0);else return e.lanes=n.lanes,Oi(n,e,i)}return zm(n,e,t,r,i)}function kA(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ue(Da,Sn),Sn|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Ue(Da,Sn),Sn|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:t,Ue(Da,Sn),Sn|=r}else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,Ue(Da,Sn),Sn|=r;return Yt(n,e,i,t),e.child}function PA(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function zm(n,e,t,r,i){var s=dn(t)?Ko:Ut.current;return s=Hl(e,s),Ha(e,i),t=oy(n,e,t,r,s,i),r=ay(),n!==null&&!ln?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Oi(n,e,i)):(We&&r&&Xv(e),e.flags|=1,Yt(n,e,t,i),e.child)}function K1(n,e,t,r,i){if(dn(t)){var s=!0;Pf(e)}else s=!1;if(Ha(e,i),e.stateNode===null)Ud(n,e),SA(e,t,r),Bm(e,t,r,i),r=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=Yn(c):(c=dn(t)?Ko:Ut.current,c=Hl(e,c));var h=t.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&H1(e,o,r,c),Gi=!1;var f=e.memoizedState;o.state=f,Of(e,r,o,i),l=e.memoizedState,a!==r||f!==l||hn.current||Gi?(typeof h=="function"&&(Fm(e,t,h,r),l=e.memoizedState),(a=Gi||U1(e,t,a,r,f,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,rA(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:Qn(e.type,a),o.props=c,d=e.pendingProps,f=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=Yn(l):(l=dn(t)?Ko:Ut.current,l=Hl(e,l));var p=t.getDerivedStateFromProps;(h=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&H1(e,o,r,l),Gi=!1,f=e.memoizedState,o.state=f,Of(e,r,o,i);var g=e.memoizedState;a!==d||f!==g||hn.current||Gi?(typeof p=="function"&&(Fm(e,t,p,r),g=e.memoizedState),(c=Gi||U1(e,t,c,r,f,g,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),r=!1)}return $m(n,e,t,r,s,i)}function $m(n,e,t,r,i,s){PA(n,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&O1(e,t,!1),Oi(n,e,s);r=e.stateNode,rk.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=Gl(e,n.child,null,s),e.child=Gl(e,null,a,s)):Yt(n,e,a,s),e.memoizedState=r.state,i&&O1(e,t,!0),e.child}function LA(n){var e=n.stateNode;e.pendingContext?M1(n,e.pendingContext,e.pendingContext!==e.context):e.context&&M1(n,e.context,!1),ny(n,e.containerInfo)}function q1(n,e,t,r,i){return Vl(),qv(i),e.flags|=256,Yt(n,e,t,r),e.child}var Um={dehydrated:null,treeContext:null,retryLane:0};function Hm(n){return{baseLanes:n,cachePool:null,transitions:null}}function RA(n,e,t){var r=e.pendingProps,i=Ke.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),Ue(Ke,i&1),n===null)return Dm(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,n=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Op(o,r,0,null),n=Xo(n,r,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=Hm(t),e.memoizedState=Um,n):cy(e,o));if(i=n.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return ik(n,e,o,r,a,i,t);if(s){s=r.fallback,o=e.mode,i=n.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ss(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ss(a,s):(s=Xo(s,o,t,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=n.child.memoizedState,o=o===null?Hm(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=Um,r}return s=n.child,n=s.sibling,r=Ss(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function cy(n,e){return e=Op({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function yd(n,e,t,r){return r!==null&&qv(r),Gl(e,n.child,null,t),n=cy(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function ik(n,e,t,r,i,s,o){if(t)return e.flags&256?(e.flags&=-257,r=Vg(Error(H(422))),yd(n,e,o,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Op({mode:"visible",children:r.children},i,0,null),s=Xo(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Gl(e,n.child,null,o),e.child.memoizedState=Hm(o),e.memoizedState=Um,s);if(!(e.mode&1))return yd(n,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(H(419)),r=Vg(s,r,void 0),yd(n,e,o,r)}if(a=(o&n.childLanes)!==0,ln||a){if(r=wt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Mi(n,i),fr(r,n,i,-1))}return my(),r=Vg(Error(H(421))),yd(n,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=vk.bind(null,n),i._reactRetry=e,null):(n=s.treeContext,Cn=_s(i.nextSibling),kn=e,We=!0,hr=null,n!==null&&($n[Un++]=bi,$n[Un++]=Si,$n[Un++]=qo,bi=n.id,Si=n.overflow,qo=e),e=cy(e,r.children),e.flags|=4096,e)}function Q1(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),Nm(n.return,e,t)}function Gg(n,e,t,r,i){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=i)}function IA(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Yt(n,e,r.children,t),r=Ke.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Q1(n,t,e);else if(n.tag===19)Q1(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(Ue(Ke,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&Df(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),Gg(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&Df(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}Gg(e,!0,t,null,s);break;case"together":Gg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ud(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Oi(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Zo|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(H(153));if(e.child!==null){for(n=e.child,t=Ss(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Ss(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function sk(n,e,t){switch(e.tag){case 3:LA(e),Vl();break;case 5:iA(e);break;case 1:dn(e.type)&&Pf(e);break;case 4:ny(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ue(If,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ue(Ke,Ke.current&1),e.flags|=128,null):t&e.child.childLanes?RA(n,e,t):(Ue(Ke,Ke.current&1),n=Oi(n,e,t),n!==null?n.sibling:null);Ue(Ke,Ke.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return IA(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ue(Ke,Ke.current),r)break;return null;case 22:case 23:return e.lanes=0,kA(n,e,t)}return Oi(n,e,t)}var MA,Vm,OA,DA;MA=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};Vm=function(){};OA=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,qs(zr.current);var s=null;switch(t){case"input":i=dm(n,i),r=dm(n,r),s=[];break;case"select":i=Qe({},i,{value:void 0}),r=Qe({},r,{value:void 0}),s=[];break;case"textarea":i=gm(n,i),r=gm(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=Tf)}vm(t,r);var o;t=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Qu.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Qu.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ve("scroll",n),s||a===l||(s=[])):(s=s||[]).push(c,l))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};DA=function(n,e,t,r){t!==r&&(e.flags|=4)};function fu(n,e){if(!We)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function Ot(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function ok(n,e,t){var r=e.pendingProps;switch(Kv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(e),null;case 1:return dn(e.type)&&kf(),Ot(e),null;case 3:return r=e.stateNode,Wl(),Ge(hn),Ge(Ut),iy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(md(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,hr!==null&&(Zm(hr),hr=null))),Vm(n,e),Ot(e),null;case 5:ry(e);var i=qs(uc.current);if(t=e.type,n!==null&&e.stateNode!=null)OA(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(H(166));return Ot(e),null}if(n=qs(zr.current),md(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[Fr]=e,r[ac]=s,n=(e.mode&1)!==0,t){case"dialog":Ve("cancel",r),Ve("close",r);break;case"iframe":case"object":case"embed":Ve("load",r);break;case"video":case"audio":for(i=0;i<Eu.length;i++)Ve(Eu[i],r);break;case"source":Ve("error",r);break;case"img":case"image":case"link":Ve("error",r),Ve("load",r);break;case"details":Ve("toggle",r);break;case"input":o1(r,s),Ve("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ve("invalid",r);break;case"textarea":l1(r,s),Ve("invalid",r)}vm(t,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&gd(r.textContent,a,n),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&gd(r.textContent,a,n),i=["children",""+a]):Qu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ve("scroll",r)}switch(t){case"input":ad(r),a1(r,s,!0);break;case"textarea":ad(r),u1(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Tf)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=uE(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[Fr]=e,n[ac]=r,MA(n,e,!1,!1),e.stateNode=n;e:{switch(o=ym(t,r),t){case"dialog":Ve("cancel",n),Ve("close",n),i=r;break;case"iframe":case"object":case"embed":Ve("load",n),i=r;break;case"video":case"audio":for(i=0;i<Eu.length;i++)Ve(Eu[i],n);i=r;break;case"source":Ve("error",n),i=r;break;case"img":case"image":case"link":Ve("error",n),Ve("load",n),i=r;break;case"details":Ve("toggle",n),i=r;break;case"input":o1(n,r),i=dm(n,r),Ve("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=Qe({},r,{value:void 0}),Ve("invalid",n);break;case"textarea":l1(n,r),i=gm(n,r),Ve("invalid",n);break;default:i=r}vm(t,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?dE(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&cE(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&Zu(n,l):typeof l=="number"&&Zu(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Qu.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ve("scroll",n):l!=null&&Ov(n,s,l,o))}switch(t){case"input":ad(n),a1(n,r,!1);break;case"textarea":ad(n),u1(n);break;case"option":r.value!=null&&n.setAttribute("value",""+Ts(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?ja(n,!!r.multiple,s,!1):r.defaultValue!=null&&ja(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=Tf)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ot(e),null;case 6:if(n&&e.stateNode!=null)DA(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(H(166));if(t=qs(uc.current),qs(zr.current),md(e)){if(r=e.stateNode,t=e.memoizedProps,r[Fr]=e,(s=r.nodeValue!==t)&&(n=kn,n!==null))switch(n.tag){case 3:gd(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&gd(r.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[Fr]=e,e.stateNode=r}return Ot(e),null;case 13:if(Ge(Ke),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(We&&Cn!==null&&e.mode&1&&!(e.flags&128))JE(),Vl(),e.flags|=98560,s=!1;else if(s=md(e),r!==null&&r.dehydrated!==null){if(n===null){if(!s)throw Error(H(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(H(317));s[Fr]=e}else Vl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ot(e),s=!1}else hr!==null&&(Zm(hr),hr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||Ke.current&1?pt===0&&(pt=3):my())),e.updateQueue!==null&&(e.flags|=4),Ot(e),null);case 4:return Wl(),Vm(n,e),n===null&&sc(e.stateNode.containerInfo),Ot(e),null;case 10:return Jv(e.type._context),Ot(e),null;case 17:return dn(e.type)&&kf(),Ot(e),null;case 19:if(Ge(Ke),s=e.memoizedState,s===null)return Ot(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)fu(s,!1);else{if(pt!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=Df(n),o!==null){for(e.flags|=128,fu(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Ue(Ke,Ke.current&1|2),e.child}n=n.sibling}s.tail!==null&&tt()>Xl&&(e.flags|=128,r=!0,fu(s,!1),e.lanes=4194304)}else{if(!r)if(n=Df(o),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),fu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!We)return Ot(e),null}else 2*tt()-s.renderingStartTime>Xl&&t!==1073741824&&(e.flags|=128,r=!0,fu(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=tt(),e.sibling=null,t=Ke.current,Ue(Ke,r?t&1|2:t&1),e):(Ot(e),null);case 22:case 23:return gy(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Sn&1073741824&&(Ot(e),e.subtreeFlags&6&&(e.flags|=8192)):Ot(e),null;case 24:return null;case 25:return null}throw Error(H(156,e.tag))}function ak(n,e){switch(Kv(e),e.tag){case 1:return dn(e.type)&&kf(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Wl(),Ge(hn),Ge(Ut),iy(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return ry(e),null;case 13:if(Ge(Ke),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(H(340));Vl()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Ge(Ke),null;case 4:return Wl(),null;case 10:return Jv(e.type._context),null;case 22:case 23:return gy(),null;case 24:return null;default:return null}}var wd=!1,jt=!1,lk=typeof WeakSet=="function"?WeakSet:Set,Z=null;function Oa(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){Je(n,e,r)}else t.current=null}function Gm(n,e,t){try{t()}catch(r){Je(n,e,r)}}var Z1=!1;function uk(n,e){if(km=Sf,n=zE(),Yv(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,c=0,h=0,d=n,f=null;t:for(;;){for(var p;d!==t||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===n)break t;if(f===t&&++c===i&&(a=o),f===s&&++h===r&&(l=o),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(Pm={focusedElem:n,selectionRange:t},Sf=!1,Z=e;Z!==null;)if(e=Z,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,Z=n;else for(;Z!==null;){e=Z;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,b=g.memoizedState,m=e.stateNode,v=m.getSnapshotBeforeUpdate(e.elementType===e.type?y:Qn(e.type,y),b);m.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var A=e.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(S){Je(e,e.return,S)}if(n=e.sibling,n!==null){n.return=e.return,Z=n;break}Z=e.return}return g=Z1,Z1=!1,g}function Hu(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var s=i.destroy;i.destroy=void 0,s!==void 0&&Gm(e,t,s)}i=i.next}while(i!==r)}}function Ip(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function Wm(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function NA(n){var e=n.alternate;e!==null&&(n.alternate=null,NA(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Fr],delete e[ac],delete e[Im],delete e[GT],delete e[WT])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function FA(n){return n.tag===5||n.tag===3||n.tag===4}function J1(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||FA(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Ym(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Tf));else if(r!==4&&(n=n.child,n!==null))for(Ym(n,e,t),n=n.sibling;n!==null;)Ym(n,e,t),n=n.sibling}function Xm(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(Xm(n,e,t),n=n.sibling;n!==null;)Xm(n,e,t),n=n.sibling}var Pt=null,cr=!1;function ji(n,e,t){for(t=t.child;t!==null;)BA(n,e,t),t=t.sibling}function BA(n,e,t){if(jr&&typeof jr.onCommitFiberUnmount=="function")try{jr.onCommitFiberUnmount(Sp,t)}catch{}switch(t.tag){case 5:jt||Oa(t,e);case 6:var r=Pt,i=cr;Pt=null,ji(n,e,t),Pt=r,cr=i,Pt!==null&&(cr?(n=Pt,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Pt.removeChild(t.stateNode));break;case 18:Pt!==null&&(cr?(n=Pt,t=t.stateNode,n.nodeType===8?Bg(n.parentNode,t):n.nodeType===1&&Bg(n,t),nc(n)):Bg(Pt,t.stateNode));break;case 4:r=Pt,i=cr,Pt=t.stateNode.containerInfo,cr=!0,ji(n,e,t),Pt=r,cr=i;break;case 0:case 11:case 14:case 15:if(!jt&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Gm(t,e,o),i=i.next}while(i!==r)}ji(n,e,t);break;case 1:if(!jt&&(Oa(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(a){Je(t,e,a)}ji(n,e,t);break;case 21:ji(n,e,t);break;case 22:t.mode&1?(jt=(r=jt)||t.memoizedState!==null,ji(n,e,t),jt=r):ji(n,e,t);break;default:ji(n,e,t)}}function ew(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new lk),e.forEach(function(r){var i=yk.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function Kn(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Pt=a.stateNode,cr=!1;break e;case 3:Pt=a.stateNode.containerInfo,cr=!0;break e;case 4:Pt=a.stateNode.containerInfo,cr=!0;break e}a=a.return}if(Pt===null)throw Error(H(160));BA(s,o,i),Pt=null,cr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Je(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)jA(e,n),e=e.sibling}function jA(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Kn(e,n),mr(n),r&4){try{Hu(3,n,n.return),Ip(3,n)}catch(y){Je(n,n.return,y)}try{Hu(5,n,n.return)}catch(y){Je(n,n.return,y)}}break;case 1:Kn(e,n),mr(n),r&512&&t!==null&&Oa(t,t.return);break;case 5:if(Kn(e,n),mr(n),r&512&&t!==null&&Oa(t,t.return),n.flags&32){var i=n.stateNode;try{Zu(i,"")}catch(y){Je(n,n.return,y)}}if(r&4&&(i=n.stateNode,i!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&aE(i,s),ym(a,o);var c=ym(a,s);for(o=0;o<l.length;o+=2){var h=l[o],d=l[o+1];h==="style"?dE(i,d):h==="dangerouslySetInnerHTML"?cE(i,d):h==="children"?Zu(i,d):Ov(i,h,d,c)}switch(a){case"input":fm(i,s);break;case"textarea":lE(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?ja(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?ja(i,!!s.multiple,s.defaultValue,!0):ja(i,!!s.multiple,s.multiple?[]:"",!1))}i[ac]=s}catch(y){Je(n,n.return,y)}}break;case 6:if(Kn(e,n),mr(n),r&4){if(n.stateNode===null)throw Error(H(162));i=n.stateNode,s=n.memoizedProps;try{i.nodeValue=s}catch(y){Je(n,n.return,y)}}break;case 3:if(Kn(e,n),mr(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{nc(e.containerInfo)}catch(y){Je(n,n.return,y)}break;case 4:Kn(e,n),mr(n);break;case 13:Kn(e,n),mr(n),i=n.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(fy=tt())),r&4&&ew(n);break;case 22:if(h=t!==null&&t.memoizedState!==null,n.mode&1?(jt=(c=jt)||h,Kn(e,n),jt=c):Kn(e,n),mr(n),r&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!h&&n.mode&1)for(Z=n,h=n.child;h!==null;){for(d=Z=h;Z!==null;){switch(f=Z,p=f.child,f.tag){case 0:case 11:case 14:case 15:Hu(4,f,f.return);break;case 1:Oa(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,t=f.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(y){Je(r,t,y)}}break;case 5:Oa(f,f.return);break;case 22:if(f.memoizedState!==null){nw(d);continue}}p!==null?(p.return=f,Z=p):nw(d)}h=h.sibling}e:for(h=null,d=n;;){if(d.tag===5){if(h===null){h=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=hE("display",o))}catch(y){Je(n,n.return,y)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(y){Je(n,n.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===n)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Kn(e,n),mr(n),r&4&&ew(n);break;case 21:break;default:Kn(e,n),mr(n)}}function mr(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(FA(t)){var r=t;break e}t=t.return}throw Error(H(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Zu(i,""),r.flags&=-33);var s=J1(n);Xm(n,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=J1(n);Ym(n,a,o);break;default:throw Error(H(161))}}catch(l){Je(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function ck(n,e,t){Z=n,zA(n)}function zA(n,e,t){for(var r=(n.mode&1)!==0;Z!==null;){var i=Z,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||wd;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||jt;a=wd;var c=jt;if(wd=o,(jt=l)&&!c)for(Z=i;Z!==null;)o=Z,l=o.child,o.tag===22&&o.memoizedState!==null?rw(i):l!==null?(l.return=o,Z=l):rw(i);for(;s!==null;)Z=s,zA(s),s=s.sibling;Z=i,wd=a,jt=c}tw(n)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Z=s):tw(n)}}function tw(n){for(;Z!==null;){var e=Z;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:jt||Ip(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!jt)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:Qn(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&j1(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}j1(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&nc(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}jt||e.flags&512&&Wm(e)}catch(f){Je(e,e.return,f)}}if(e===n){Z=null;break}if(t=e.sibling,t!==null){t.return=e.return,Z=t;break}Z=e.return}}function nw(n){for(;Z!==null;){var e=Z;if(e===n){Z=null;break}var t=e.sibling;if(t!==null){t.return=e.return,Z=t;break}Z=e.return}}function rw(n){for(;Z!==null;){var e=Z;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{Ip(4,e)}catch(l){Je(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Je(e,i,l)}}var s=e.return;try{Wm(e)}catch(l){Je(e,s,l)}break;case 5:var o=e.return;try{Wm(e)}catch(l){Je(e,o,l)}}}catch(l){Je(e,e.return,l)}if(e===n){Z=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Z=a;break}Z=e.return}}var hk=Math.ceil,Bf=Fi.ReactCurrentDispatcher,hy=Fi.ReactCurrentOwner,Wn=Fi.ReactCurrentBatchConfig,xe=0,wt=null,it=null,Lt=0,Sn=0,Da=Os(0),pt=0,fc=null,Zo=0,Mp=0,dy=0,Vu=null,on=null,fy=0,Xl=1/0,Yr=null,jf=!1,Km=null,As=null,_d=!1,ms=null,zf=0,Gu=0,qm=null,Hd=-1,Vd=0;function Kt(){return xe&6?tt():Hd!==-1?Hd:Hd=tt()}function bs(n){return n.mode&1?xe&2&&Lt!==0?Lt&-Lt:XT.transition!==null?(Vd===0&&(Vd=SE()),Vd):(n=Ie,n!==0||(n=window.event,n=n===void 0?16:RE(n.type)),n):1}function fr(n,e,t,r){if(50<Gu)throw Gu=0,qm=null,Error(H(185));Kh(n,t,r),(!(xe&2)||n!==wt)&&(n===wt&&(!(xe&2)&&(Mp|=t),pt===4&&Yi(n,Lt)),fn(n,r),t===1&&xe===0&&!(e.mode&1)&&(Xl=tt()+500,Pp&&Ds()))}function fn(n,e){var t=n.callbackNode;XC(n,e);var r=bf(n,n===wt?Lt:0);if(r===0)t!==null&&d1(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&d1(t),e===1)n.tag===0?YT(iw.bind(null,n)):qE(iw.bind(null,n)),HT(function(){!(xe&6)&&Ds()}),t=null;else{switch(xE(r)){case 1:t=jv;break;case 4:t=AE;break;case 16:t=Af;break;case 536870912:t=bE;break;default:t=Af}t=XA(t,$A.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function $A(n,e){if(Hd=-1,Vd=0,xe&6)throw Error(H(327));var t=n.callbackNode;if(Va()&&n.callbackNode!==t)return null;var r=bf(n,n===wt?Lt:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=$f(n,r);else{e=r;var i=xe;xe|=2;var s=HA();(wt!==n||Lt!==e)&&(Yr=null,Xl=tt()+500,Yo(n,e));do try{pk();break}catch(a){UA(n,a)}while(!0);Zv(),Bf.current=s,xe=i,it!==null?e=0:(wt=null,Lt=0,e=pt)}if(e!==0){if(e===2&&(i=bm(n),i!==0&&(r=i,e=Qm(n,i))),e===1)throw t=fc,Yo(n,0),Yi(n,r),fn(n,tt()),t;if(e===6)Yi(n,r);else{if(i=n.current.alternate,!(r&30)&&!dk(i)&&(e=$f(n,r),e===2&&(s=bm(n),s!==0&&(r=s,e=Qm(n,s))),e===1))throw t=fc,Yo(n,0),Yi(n,r),fn(n,tt()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(H(345));case 2:Us(n,on,Yr);break;case 3:if(Yi(n,r),(r&130023424)===r&&(e=fy+500-tt(),10<e)){if(bf(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){Kt(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=Rm(Us.bind(null,n,on,Yr),e);break}Us(n,on,Yr);break;case 4:if(Yi(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var o=31-dr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=tt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*hk(r/1960))-r,10<r){n.timeoutHandle=Rm(Us.bind(null,n,on,Yr),r);break}Us(n,on,Yr);break;case 5:Us(n,on,Yr);break;default:throw Error(H(329))}}}return fn(n,tt()),n.callbackNode===t?$A.bind(null,n):null}function Qm(n,e){var t=Vu;return n.current.memoizedState.isDehydrated&&(Yo(n,e).flags|=256),n=$f(n,e),n!==2&&(e=on,on=t,e!==null&&Zm(e)),n}function Zm(n){on===null?on=n:on.push.apply(on,n)}function dk(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],s=i.getSnapshot;i=i.value;try{if(!pr(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Yi(n,e){for(e&=~dy,e&=~Mp,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-dr(e),r=1<<t;n[t]=-1,e&=~r}}function iw(n){if(xe&6)throw Error(H(327));Va();var e=bf(n,0);if(!(e&1))return fn(n,tt()),null;var t=$f(n,e);if(n.tag!==0&&t===2){var r=bm(n);r!==0&&(e=r,t=Qm(n,r))}if(t===1)throw t=fc,Yo(n,0),Yi(n,e),fn(n,tt()),t;if(t===6)throw Error(H(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Us(n,on,Yr),fn(n,tt()),null}function py(n,e){var t=xe;xe|=1;try{return n(e)}finally{xe=t,xe===0&&(Xl=tt()+500,Pp&&Ds())}}function Jo(n){ms!==null&&ms.tag===0&&!(xe&6)&&Va();var e=xe;xe|=1;var t=Wn.transition,r=Ie;try{if(Wn.transition=null,Ie=1,n)return n()}finally{Ie=r,Wn.transition=t,xe=e,!(xe&6)&&Ds()}}function gy(){Sn=Da.current,Ge(Da)}function Yo(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,UT(t)),it!==null)for(t=it.return;t!==null;){var r=t;switch(Kv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&kf();break;case 3:Wl(),Ge(hn),Ge(Ut),iy();break;case 5:ry(r);break;case 4:Wl();break;case 13:Ge(Ke);break;case 19:Ge(Ke);break;case 10:Jv(r.type._context);break;case 22:case 23:gy()}t=t.return}if(wt=n,it=n=Ss(n.current,null),Lt=Sn=e,pt=0,fc=null,dy=Mp=Zo=0,on=Vu=null,Ks!==null){for(e=0;e<Ks.length;e++)if(t=Ks[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,s=t.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}t.pending=r}Ks=null}return n}function UA(n,e){do{var t=it;try{if(Zv(),zd.current=Ff,Nf){for(var r=qe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Nf=!1}if(Qo=0,yt=dt=qe=null,Uu=!1,cc=0,hy.current=null,t===null||t.return===null){pt=1,fc=e,it=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=Lt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=a,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=G1(o);if(p!==null){p.flags&=-257,W1(p,o,a,s,e),p.mode&1&&V1(s,c,e),e=p,l=c;var g=e.updateQueue;if(g===null){var y=new Set;y.add(l),e.updateQueue=y}else g.add(l);break e}else{if(!(e&1)){V1(s,c,e),my();break e}l=Error(H(426))}}else if(We&&a.mode&1){var b=G1(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),W1(b,o,a,s,e),qv(Yl(l,a));break e}}s=l=Yl(l,a),pt!==4&&(pt=2),Vu===null?Vu=[s]:Vu.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var m=xA(s,l,e);B1(s,m);break e;case 1:a=l;var v=s.type,A=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(As===null||!As.has(A)))){s.flags|=65536,e&=-e,s.lanes|=e;var S=CA(s,a,e);B1(s,S);break e}}s=s.return}while(s!==null)}GA(t)}catch(C){e=C,it===t&&t!==null&&(it=t=t.return);continue}break}while(!0)}function HA(){var n=Bf.current;return Bf.current=Ff,n===null?Ff:n}function my(){(pt===0||pt===3||pt===2)&&(pt=4),wt===null||!(Zo&268435455)&&!(Mp&268435455)||Yi(wt,Lt)}function $f(n,e){var t=xe;xe|=2;var r=HA();(wt!==n||Lt!==e)&&(Yr=null,Yo(n,e));do try{fk();break}catch(i){UA(n,i)}while(!0);if(Zv(),xe=t,Bf.current=r,it!==null)throw Error(H(261));return wt=null,Lt=0,pt}function fk(){for(;it!==null;)VA(it)}function pk(){for(;it!==null&&!jC();)VA(it)}function VA(n){var e=YA(n.alternate,n,Sn);n.memoizedProps=n.pendingProps,e===null?GA(n):it=e,hy.current=null}function GA(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=ak(t,e),t!==null){t.flags&=32767,it=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{pt=6,it=null;return}}else if(t=ok(t,e,Sn),t!==null){it=t;return}if(e=e.sibling,e!==null){it=e;return}it=e=n}while(e!==null);pt===0&&(pt=5)}function Us(n,e,t){var r=Ie,i=Wn.transition;try{Wn.transition=null,Ie=1,gk(n,e,t,r)}finally{Wn.transition=i,Ie=r}return null}function gk(n,e,t,r){do Va();while(ms!==null);if(xe&6)throw Error(H(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(H(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(KC(n,s),n===wt&&(it=wt=null,Lt=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||_d||(_d=!0,XA(Af,function(){return Va(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=Wn.transition,Wn.transition=null;var o=Ie;Ie=1;var a=xe;xe|=4,hy.current=null,uk(n,t),jA(t,n),DT(Pm),Sf=!!km,Pm=km=null,n.current=t,ck(t),zC(),xe=a,Ie=o,Wn.transition=s}else n.current=t;if(_d&&(_d=!1,ms=n,zf=i),s=n.pendingLanes,s===0&&(As=null),HC(t.stateNode),fn(n,tt()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(jf)throw jf=!1,n=Km,Km=null,n;return zf&1&&n.tag!==0&&Va(),s=n.pendingLanes,s&1?n===qm?Gu++:(Gu=0,qm=n):Gu=0,Ds(),null}function Va(){if(ms!==null){var n=xE(zf),e=Wn.transition,t=Ie;try{if(Wn.transition=null,Ie=16>n?16:n,ms===null)var r=!1;else{if(n=ms,ms=null,zf=0,xe&6)throw Error(H(331));var i=xe;for(xe|=4,Z=n.current;Z!==null;){var s=Z,o=s.child;if(Z.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Z=c;Z!==null;){var h=Z;switch(h.tag){case 0:case 11:case 15:Hu(8,h,s)}var d=h.child;if(d!==null)d.return=h,Z=d;else for(;Z!==null;){h=Z;var f=h.sibling,p=h.return;if(NA(h),h===c){Z=null;break}if(f!==null){f.return=p,Z=f;break}Z=p}}}var g=s.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}Z=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Z=o;else e:for(;Z!==null;){if(s=Z,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Hu(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,Z=m;break e}Z=s.return}}var v=n.current;for(Z=v;Z!==null;){o=Z;var A=o.child;if(o.subtreeFlags&2064&&A!==null)A.return=o,Z=A;else e:for(o=v;Z!==null;){if(a=Z,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ip(9,a)}}catch(C){Je(a,a.return,C)}if(a===o){Z=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,Z=S;break e}Z=a.return}}if(xe=i,Ds(),jr&&typeof jr.onPostCommitFiberRoot=="function")try{jr.onPostCommitFiberRoot(Sp,n)}catch{}r=!0}return r}finally{Ie=t,Wn.transition=e}}return!1}function sw(n,e,t){e=Yl(t,e),e=xA(n,e,1),n=Es(n,e,1),e=Kt(),n!==null&&(Kh(n,1,e),fn(n,e))}function Je(n,e,t){if(n.tag===3)sw(n,n,t);else for(;e!==null;){if(e.tag===3){sw(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(As===null||!As.has(r))){n=Yl(t,n),n=CA(e,n,1),e=Es(e,n,1),n=Kt(),e!==null&&(Kh(e,1,n),fn(e,n));break}}e=e.return}}function mk(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=Kt(),n.pingedLanes|=n.suspendedLanes&t,wt===n&&(Lt&t)===t&&(pt===4||pt===3&&(Lt&130023424)===Lt&&500>tt()-fy?Yo(n,0):dy|=t),fn(n,e)}function WA(n,e){e===0&&(n.mode&1?(e=cd,cd<<=1,!(cd&130023424)&&(cd=4194304)):e=1);var t=Kt();n=Mi(n,e),n!==null&&(Kh(n,e,t),fn(n,t))}function vk(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),WA(n,t)}function yk(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(e),WA(n,t)}var YA;YA=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||hn.current)ln=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return ln=!1,sk(n,e,t);ln=!!(n.flags&131072)}else ln=!1,We&&e.flags&1048576&&QE(e,Rf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ud(n,e),n=e.pendingProps;var i=Hl(e,Ut.current);Ha(e,t),i=oy(null,e,r,n,i,t);var s=ay();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,dn(r)?(s=!0,Pf(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ty(e),i.updater=Rp,e.stateNode=i,i._reactInternals=e,Bm(e,r,n,t),e=$m(null,e,r,!0,s,t)):(e.tag=0,We&&s&&Xv(e),Yt(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(Ud(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=_k(r),n=Qn(r,n),i){case 0:e=zm(null,e,r,n,t);break e;case 1:e=K1(null,e,r,n,t);break e;case 11:e=Y1(null,e,r,n,t);break e;case 14:e=X1(null,e,r,Qn(r.type,n),t);break e}throw Error(H(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qn(r,i),zm(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qn(r,i),K1(n,e,r,i,t);case 3:e:{if(LA(e),n===null)throw Error(H(387));r=e.pendingProps,s=e.memoizedState,i=s.element,rA(n,e),Of(e,r,null,t);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Yl(Error(H(423)),e),e=q1(n,e,r,t,i);break e}else if(r!==i){i=Yl(Error(H(424)),e),e=q1(n,e,r,t,i);break e}else for(Cn=_s(e.stateNode.containerInfo.firstChild),kn=e,We=!0,hr=null,t=tA(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Vl(),r===i){e=Oi(n,e,t);break e}Yt(n,e,r,t)}e=e.child}return e;case 5:return iA(e),n===null&&Dm(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,o=i.children,Lm(r,i)?o=null:s!==null&&Lm(r,s)&&(e.flags|=32),PA(n,e),Yt(n,e,o,t),e.child;case 6:return n===null&&Dm(e),null;case 13:return RA(n,e,t);case 4:return ny(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=Gl(e,null,r,t):Yt(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qn(r,i),Y1(n,e,r,i,t);case 7:return Yt(n,e,e.pendingProps,t),e.child;case 8:return Yt(n,e,e.pendingProps.children,t),e.child;case 12:return Yt(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ue(If,r._currentValue),r._currentValue=o,s!==null)if(pr(s.value,o)){if(s.children===i.children&&!hn.current){e=Oi(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Ci(-1,t&-t),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),Nm(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(H(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),Nm(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Yt(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ha(e,t),i=Yn(i),r=r(i),e.flags|=1,Yt(n,e,r,t),e.child;case 14:return r=e.type,i=Qn(r,e.pendingProps),i=Qn(r.type,i),X1(n,e,r,i,t);case 15:return TA(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qn(r,i),Ud(n,e),e.tag=1,dn(r)?(n=!0,Pf(e)):n=!1,Ha(e,t),SA(e,r,i),Bm(e,r,i,t),$m(null,e,r,!0,n,t);case 19:return IA(n,e,t);case 22:return kA(n,e,t)}throw Error(H(156,e.tag))};function XA(n,e){return EE(n,e)}function wk(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gn(n,e,t,r){return new wk(n,e,t,r)}function vy(n){return n=n.prototype,!(!n||!n.isReactComponent)}function _k(n){if(typeof n=="function")return vy(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Nv)return 11;if(n===Fv)return 14}return 2}function Ss(n,e){var t=n.alternate;return t===null?(t=Gn(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function Gd(n,e,t,r,i,s){var o=2;if(r=n,typeof n=="function")vy(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case xa:return Xo(t.children,i,s,e);case Dv:o=8,i|=8;break;case lm:return n=Gn(12,t,e,i|2),n.elementType=lm,n.lanes=s,n;case um:return n=Gn(13,t,e,i),n.elementType=um,n.lanes=s,n;case cm:return n=Gn(19,t,e,i),n.elementType=cm,n.lanes=s,n;case iE:return Op(t,i,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case nE:o=10;break e;case rE:o=9;break e;case Nv:o=11;break e;case Fv:o=14;break e;case Vi:o=16,r=null;break e}throw Error(H(130,n==null?n:typeof n,""))}return e=Gn(o,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function Xo(n,e,t,r){return n=Gn(7,n,r,e),n.lanes=t,n}function Op(n,e,t,r){return n=Gn(22,n,r,e),n.elementType=iE,n.lanes=t,n.stateNode={isHidden:!1},n}function Wg(n,e,t){return n=Gn(6,n,null,e),n.lanes=t,n}function Yg(n,e,t){return e=Gn(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function Ek(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Tg(0),this.expirationTimes=Tg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tg(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function yy(n,e,t,r,i,s,o,a,l){return n=new Ek(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Gn(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},ty(s),n}function Ak(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Sa,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function KA(n){if(!n)return ks;n=n._reactInternals;e:{if(ua(n)!==n||n.tag!==1)throw Error(H(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(dn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(H(171))}if(n.tag===1){var t=n.type;if(dn(t))return KE(n,t,e)}return e}function qA(n,e,t,r,i,s,o,a,l){return n=yy(t,r,!0,n,i,s,o,a,l),n.context=KA(null),t=n.current,r=Kt(),i=bs(t),s=Ci(r,i),s.callback=e??null,Es(t,s,i),n.current.lanes=i,Kh(n,i,r),fn(n,r),n}function Dp(n,e,t,r){var i=e.current,s=Kt(),o=bs(i);return t=KA(t),e.context===null?e.context=t:e.pendingContext=t,e=Ci(s,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=Es(i,e,o),n!==null&&(fr(n,i,o,s),jd(n,i,o)),o}function Uf(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function ow(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function wy(n,e){ow(n,e),(n=n.alternate)&&ow(n,e)}function bk(){return null}var QA=typeof reportError=="function"?reportError:function(n){console.error(n)};function _y(n){this._internalRoot=n}Np.prototype.render=_y.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(H(409));Dp(n,e,null,null)};Np.prototype.unmount=_y.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Jo(function(){Dp(null,n,null,null)}),e[Ii]=null}};function Np(n){this._internalRoot=n}Np.prototype.unstable_scheduleHydration=function(n){if(n){var e=kE();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Wi.length&&e!==0&&e<Wi[t].priority;t++);Wi.splice(t,0,n),t===0&&LE(n)}};function Ey(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Fp(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function aw(){}function Sk(n,e,t,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Uf(o);s.call(c)}}var o=qA(e,r,n,0,null,!1,!1,"",aw);return n._reactRootContainer=o,n[Ii]=o.current,sc(n.nodeType===8?n.parentNode:n),Jo(),o}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Uf(l);a.call(c)}}var l=yy(n,0,!1,null,null,!1,!1,"",aw);return n._reactRootContainer=l,n[Ii]=l.current,sc(n.nodeType===8?n.parentNode:n),Jo(function(){Dp(e,l,t,r)}),l}function Bp(n,e,t,r,i){var s=t._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Uf(o);a.call(l)}}Dp(e,o,n,i)}else o=Sk(t,e,n,i,r);return Uf(o)}CE=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=_u(e.pendingLanes);t!==0&&(zv(e,t|1),fn(e,tt()),!(xe&6)&&(Xl=tt()+500,Ds()))}break;case 13:Jo(function(){var r=Mi(n,1);if(r!==null){var i=Kt();fr(r,n,1,i)}}),wy(n,1)}};$v=function(n){if(n.tag===13){var e=Mi(n,134217728);if(e!==null){var t=Kt();fr(e,n,134217728,t)}wy(n,134217728)}};TE=function(n){if(n.tag===13){var e=bs(n),t=Mi(n,e);if(t!==null){var r=Kt();fr(t,n,e,r)}wy(n,e)}};kE=function(){return Ie};PE=function(n,e){var t=Ie;try{return Ie=n,e()}finally{Ie=t}};_m=function(n,e,t){switch(e){case"input":if(fm(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=kp(r);if(!i)throw Error(H(90));oE(r),fm(r,i)}}}break;case"textarea":lE(n,t);break;case"select":e=t.value,e!=null&&ja(n,!!t.multiple,e,!1)}};gE=py;mE=Jo;var xk={usingClientEntryPoint:!1,Events:[Qh,Pa,kp,fE,pE,py]},pu={findFiberByHostInstance:Xs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ck={bundleType:pu.bundleType,version:pu.version,rendererPackageName:pu.rendererPackageName,rendererConfig:pu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Fi.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=wE(n),n===null?null:n.stateNode},findFiberByHostInstance:pu.findFiberByHostInstance||bk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ed=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ed.isDisabled&&Ed.supportsFiber)try{Sp=Ed.inject(Ck),jr=Ed}catch{}}Ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xk;Ln.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ey(e))throw Error(H(200));return Ak(n,e,null,t)};Ln.createRoot=function(n,e){if(!Ey(n))throw Error(H(299));var t=!1,r="",i=QA;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=yy(n,1,!1,null,null,t,!1,r,i),n[Ii]=e.current,sc(n.nodeType===8?n.parentNode:n),new _y(e)};Ln.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(H(188)):(n=Object.keys(n).join(","),Error(H(268,n)));return n=wE(e),n=n===null?null:n.stateNode,n};Ln.flushSync=function(n){return Jo(n)};Ln.hydrate=function(n,e,t){if(!Fp(e))throw Error(H(200));return Bp(null,n,e,!0,t)};Ln.hydrateRoot=function(n,e,t){if(!Ey(n))throw Error(H(405));var r=t!=null&&t.hydratedSources||null,i=!1,s="",o=QA;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=qA(e,null,n,1,t??null,i,!1,s,o),n[Ii]=e.current,sc(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new Np(e)};Ln.render=function(n,e,t){if(!Fp(e))throw Error(H(200));return Bp(null,n,e,!1,t)};Ln.unmountComponentAtNode=function(n){if(!Fp(n))throw Error(H(40));return n._reactRootContainer?(Jo(function(){Bp(null,null,n,!1,function(){n._reactRootContainer=null,n[Ii]=null})}),!0):!1};Ln.unstable_batchedUpdates=py;Ln.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!Fp(t))throw Error(H(200));if(n==null||n._reactInternals===void 0)throw Error(H(38));return Bp(n,e,t,!1,r)};Ln.version="18.3.1-next-f1338f8080-20240426";function ZA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ZA)}catch(n){console.error(n)}}ZA(),Z_.exports=Ln;var Tk=Z_.exports,lw=Tk;om.createRoot=lw.createRoot,om.hydrateRoot=lw.hydrateRoot;var kk=Object.defineProperty,Pk=(n,e,t)=>e in n?kk(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Ad=(n,e,t)=>(Pk(n,typeof e!="symbol"?e+"":e,t),t);const Lk={stringify:n=>n,parse:n=>n},Rk={stringify:n=>`${n}`,parse:n=>parseFloat(n)},Ik={stringify:n=>n?"true":"false",parse:n=>/^[ty1-9]/i.test(n)},Mk={stringify:n=>n.name,parse:(n,e,t)=>{const r=(()=>{if(typeof window<"u"&&n in window)return window[n];if(typeof global<"u"&&n in global)return global[n]})();return typeof r=="function"?r.bind(t):void 0}},Ok={stringify:n=>JSON.stringify(n),parse:n=>JSON.parse(n)},Xg={string:Lk,number:Rk,boolean:Ik,function:Mk,json:Ok};function Dk(n){return n.replace(/([a-z0-9])([A-Z])/g,(e,t,r)=>`${t}-${r.toLowerCase()}`)}const bd=Symbol.for("r2wc.render"),Sd=Symbol.for("r2wc.connected"),Bs=Symbol.for("r2wc.context"),zi=Symbol.for("r2wc.props");function Nk(n,e,t){var r,i,s;e.props||(e.props=n.propTypes?Object.keys(n.propTypes):[]);const o=Array.isArray(e.props)?e.props.slice():Object.keys(e.props),a={},l={},c={};for(const d of o){a[d]=Array.isArray(e.props)?"string":e.props[d];const f=Dk(d);l[d]=f,c[f]=d}class h extends HTMLElement{constructor(){super(),Ad(this,r,!0),Ad(this,i),Ad(this,s,{}),Ad(this,"container"),e.shadow?this.container=this.attachShadow({mode:e.shadow}):this.container=this,this[zi].container=this.container;for(const f of o){const p=l[f],g=this.getAttribute(p),y=a[f],b=y?Xg[y]:null;b!=null&&b.parse&&g&&(this[zi][f]=b.parse(g,p,this))}}static get observedAttributes(){return Object.keys(c)}connectedCallback(){this[Sd]=!0,this[bd]()}disconnectedCallback(){this[Sd]=!1,this[Bs]&&t.unmount(this[Bs]),delete this[Bs]}attributeChangedCallback(f,p,g){const y=c[f],b=a[y],m=b?Xg[b]:null;y in a&&m!=null&&m.parse&&g&&(this[zi][y]=m.parse(g,f,this),this[bd]())}[(r=Sd,i=Bs,s=zi,bd)](){this[Sd]&&(this[Bs]?t.update(this[Bs],this[zi]):this[Bs]=t.mount(this.container,n,this[zi]))}}for(const d of o){const f=l[d],p=a[d];Object.defineProperty(h.prototype,d,{enumerable:!0,configurable:!0,get(){return this[zi][d]},set(g){this[zi][d]=g;const y=p?Xg[p]:null;if(y!=null&&y.stringify){const b=y.stringify(g,f,this);this.getAttribute(f)!==b&&this.setAttribute(f,b)}else this[bd]()}})}return h}function Fk(n,e,t,r={}){function i(a,l,c){const h=e.createElement(l,c);if("createRoot"in t){const d=t.createRoot(a);return d.render(h),{container:a,root:d,ReactComponent:l}}if("render"in t)return t.render(h,a),{container:a,ReactComponent:l};throw new Error("Invalid ReactDOM instance provided.")}function s({container:a,root:l,ReactComponent:c},h){const d=e.createElement(c,h);if(l){l.render(d);return}if("render"in t){t.render(d,a);return}}function o({container:a,root:l}){if(l){l.unmount();return}if("unmountComponentAtNode"in t){t.unmountComponentAtNode(a);return}}return Nk(n,r,{mount:i,unmount:o,update:s})}var JA={exports:{}},jp={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bk=U,jk=Symbol.for("react.element"),zk=Symbol.for("react.fragment"),$k=Object.prototype.hasOwnProperty,Uk=Bk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Hk={key:!0,ref:!0,__self:!0,__source:!0};function eb(n,e,t){var r,i={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)$k.call(e,r)&&!Hk.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:jk,type:n,key:s,ref:o,props:i,_owner:Uk.current}}jp.Fragment=zk;jp.jsx=eb;jp.jsxs=eb;JA.exports=jp;var $e=JA.exports,tb={exports:{}},Vk="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Gk=Vk,Wk=Gk;function nb(){}function rb(){}rb.resetWarningCache=nb;var Yk=function(){function n(r,i,s,o,a,l){if(l!==Wk){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:rb,resetWarningCache:nb};return t.PropTypes=t,t};tb.exports=Yk();var Xk=tb.exports;const ib=bp(Xk);var sb={exports:{}},Me={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _t=typeof Symbol=="function"&&Symbol.for,Ay=_t?Symbol.for("react.element"):60103,by=_t?Symbol.for("react.portal"):60106,zp=_t?Symbol.for("react.fragment"):60107,$p=_t?Symbol.for("react.strict_mode"):60108,Up=_t?Symbol.for("react.profiler"):60114,Hp=_t?Symbol.for("react.provider"):60109,Vp=_t?Symbol.for("react.context"):60110,Sy=_t?Symbol.for("react.async_mode"):60111,Gp=_t?Symbol.for("react.concurrent_mode"):60111,Wp=_t?Symbol.for("react.forward_ref"):60112,Yp=_t?Symbol.for("react.suspense"):60113,Kk=_t?Symbol.for("react.suspense_list"):60120,Xp=_t?Symbol.for("react.memo"):60115,Kp=_t?Symbol.for("react.lazy"):60116,qk=_t?Symbol.for("react.block"):60121,Qk=_t?Symbol.for("react.fundamental"):60117,Zk=_t?Symbol.for("react.responder"):60118,Jk=_t?Symbol.for("react.scope"):60119;function In(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case Ay:switch(n=n.type,n){case Sy:case Gp:case zp:case Up:case $p:case Yp:return n;default:switch(n=n&&n.$$typeof,n){case Vp:case Wp:case Kp:case Xp:case Hp:return n;default:return e}}case by:return e}}}function ob(n){return In(n)===Gp}Me.AsyncMode=Sy;Me.ConcurrentMode=Gp;Me.ContextConsumer=Vp;Me.ContextProvider=Hp;Me.Element=Ay;Me.ForwardRef=Wp;Me.Fragment=zp;Me.Lazy=Kp;Me.Memo=Xp;Me.Portal=by;Me.Profiler=Up;Me.StrictMode=$p;Me.Suspense=Yp;Me.isAsyncMode=function(n){return ob(n)||In(n)===Sy};Me.isConcurrentMode=ob;Me.isContextConsumer=function(n){return In(n)===Vp};Me.isContextProvider=function(n){return In(n)===Hp};Me.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===Ay};Me.isForwardRef=function(n){return In(n)===Wp};Me.isFragment=function(n){return In(n)===zp};Me.isLazy=function(n){return In(n)===Kp};Me.isMemo=function(n){return In(n)===Xp};Me.isPortal=function(n){return In(n)===by};Me.isProfiler=function(n){return In(n)===Up};Me.isStrictMode=function(n){return In(n)===$p};Me.isSuspense=function(n){return In(n)===Yp};Me.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===zp||n===Gp||n===Up||n===$p||n===Yp||n===Kk||typeof n=="object"&&n!==null&&(n.$$typeof===Kp||n.$$typeof===Xp||n.$$typeof===Hp||n.$$typeof===Vp||n.$$typeof===Wp||n.$$typeof===Qk||n.$$typeof===Zk||n.$$typeof===Jk||n.$$typeof===qk)};Me.typeOf=In;sb.exports=Me;var xy=sb.exports;function eP(n){function e(R,O,B,K,P){for(var G=0,$=0,ge=0,ne=0,me,ae,Ee=0,ke=0,ce,ie=ce=me=0,se=0,Ae=0,ot=0,He=0,Mn=B.length,Hr=Mn-1,Et,re="",Pe="",Bi="",Fs="",gr;se<Mn;){if(ae=B.charCodeAt(se),se===Hr&&$+ne+ge+G!==0&&($!==0&&(ae=$===47?10:47),ne=ge=G=0,Mn++,Hr++),$+ne+ge+G===0){if(se===Hr&&(0<Ae&&(re=re.replace(f,"")),0<re.trim().length)){switch(ae){case 32:case 9:case 59:case 13:case 10:break;default:re+=B.charAt(se)}ae=59}switch(ae){case 123:for(re=re.trim(),me=re.charCodeAt(0),ce=1,He=++se;se<Mn;){switch(ae=B.charCodeAt(se)){case 123:ce++;break;case 125:ce--;break;case 47:switch(ae=B.charCodeAt(se+1)){case 42:case 47:e:{for(ie=se+1;ie<Hr;++ie)switch(B.charCodeAt(ie)){case 47:if(ae===42&&B.charCodeAt(ie-1)===42&&se+2!==ie){se=ie+1;break e}break;case 10:if(ae===47){se=ie+1;break e}}se=ie}}break;case 91:ae++;case 40:ae++;case 34:case 39:for(;se++<Hr&&B.charCodeAt(se)!==ae;);}if(ce===0)break;se++}switch(ce=B.substring(He,se),me===0&&(me=(re=re.replace(d,"").trim()).charCodeAt(0)),me){case 64:switch(0<Ae&&(re=re.replace(f,"")),ae=re.charCodeAt(1),ae){case 100:case 109:case 115:case 45:Ae=O;break;default:Ae=le}if(ce=e(O,Ae,ce,ae,P+1),He=ce.length,0<x&&(Ae=t(le,re,ot),gr=a(3,ce,Ae,O,q,X,He,ae,P,K),re=Ae.join(""),gr!==void 0&&(He=(ce=gr.trim()).length)===0&&(ae=0,ce="")),0<He)switch(ae){case 115:re=re.replace(k,o);case 100:case 109:case 45:ce=re+"{"+ce+"}";break;case 107:re=re.replace(v,"$1 $2"),ce=re+"{"+ce+"}",ce=ee===1||ee===2&&s("@"+ce,3)?"@-webkit-"+ce+"@"+ce:"@"+ce;break;default:ce=re+ce,K===112&&(ce=(Pe+=ce,""))}else ce="";break;default:ce=e(O,t(O,re,ot),ce,K,P+1)}Bi+=ce,ce=ot=Ae=ie=me=0,re="",ae=B.charCodeAt(++se);break;case 125:case 59:if(re=(0<Ae?re.replace(f,""):re).trim(),1<(He=re.length))switch(ie===0&&(me=re.charCodeAt(0),me===45||96<me&&123>me)&&(He=(re=re.replace(" ",":")).length),0<x&&(gr=a(1,re,O,R,q,X,Pe.length,K,P,K))!==void 0&&(He=(re=gr.trim()).length)===0&&(re="\0\0"),me=re.charCodeAt(0),ae=re.charCodeAt(1),me){case 0:break;case 64:if(ae===105||ae===99){Fs+=re+B.charAt(se);break}default:re.charCodeAt(He-1)!==58&&(Pe+=i(re,me,ae,re.charCodeAt(2)))}ot=Ae=ie=me=0,re="",ae=B.charCodeAt(++se)}}switch(ae){case 13:case 10:$===47?$=0:1+me===0&&K!==107&&0<re.length&&(Ae=1,re+="\0"),0<x*L&&a(0,re,O,R,q,X,Pe.length,K,P,K),X=1,q++;break;case 59:case 125:if($+ne+ge+G===0){X++;break}default:switch(X++,Et=B.charAt(se),ae){case 9:case 32:if(ne+G+$===0)switch(Ee){case 44:case 58:case 9:case 32:Et="";break;default:ae!==32&&(Et=" ")}break;case 0:Et="\\0";break;case 12:Et="\\f";break;case 11:Et="\\v";break;case 38:ne+$+G===0&&(Ae=ot=1,Et="\f"+Et);break;case 108:if(ne+$+G+Q===0&&0<ie)switch(se-ie){case 2:Ee===112&&B.charCodeAt(se-3)===58&&(Q=Ee);case 8:ke===111&&(Q=ke)}break;case 58:ne+$+G===0&&(ie=se);break;case 44:$+ge+ne+G===0&&(Ae=1,Et+="\r");break;case 34:case 39:$===0&&(ne=ne===ae?0:ne===0?ae:ne);break;case 91:ne+$+ge===0&&G++;break;case 93:ne+$+ge===0&&G--;break;case 41:ne+$+G===0&&ge--;break;case 40:if(ne+$+G===0){if(me===0)switch(2*Ee+3*ke){case 533:break;default:me=1}ge++}break;case 64:$+ge+ne+G+ie+ce===0&&(ce=1);break;case 42:case 47:if(!(0<ne+G+ge))switch($){case 0:switch(2*ae+3*B.charCodeAt(se+1)){case 235:$=47;break;case 220:He=se,$=42}break;case 42:ae===47&&Ee===42&&He+2!==se&&(B.charCodeAt(He+2)===33&&(Pe+=B.substring(He,se+1)),Et="",$=0)}}$===0&&(re+=Et)}ke=Ee,Ee=ae,se++}if(He=Pe.length,0<He){if(Ae=O,0<x&&(gr=a(2,Pe,Ae,R,q,X,He,K,P,K),gr!==void 0&&(Pe=gr).length===0))return Fs+Pe+Bi;if(Pe=Ae.join(",")+"{"+Pe+"}",ee*Q!==0){switch(ee!==2||s(Pe,2)||(Q=0),Q){case 111:Pe=Pe.replace(S,":-moz-$1")+Pe;break;case 112:Pe=Pe.replace(A,"::-webkit-input-$1")+Pe.replace(A,"::-moz-$1")+Pe.replace(A,":-ms-input-$1")+Pe}Q=0}}return Fs+Pe+Bi}function t(R,O,B){var K=O.trim().split(b);O=K;var P=K.length,G=R.length;switch(G){case 0:case 1:var $=0;for(R=G===0?"":R[0]+" ";$<P;++$)O[$]=r(R,O[$],B).trim();break;default:var ge=$=0;for(O=[];$<P;++$)for(var ne=0;ne<G;++ne)O[ge++]=r(R[ne]+" ",K[$],B).trim()}return O}function r(R,O,B){var K=O.charCodeAt(0);switch(33>K&&(K=(O=O.trim()).charCodeAt(0)),K){case 38:return O.replace(m,"$1"+R.trim());case 58:return R.trim()+O.replace(m,"$1"+R.trim());default:if(0<1*B&&0<O.indexOf("\f"))return O.replace(m,(R.charCodeAt(0)===58?"":"$1")+R.trim())}return R+O}function i(R,O,B,K){var P=R+";",G=2*O+3*B+4*K;if(G===944){R=P.indexOf(":",9)+1;var $=P.substring(R,P.length-1).trim();return $=P.substring(0,R).trim()+$+";",ee===1||ee===2&&s($,1)?"-webkit-"+$+$:$}if(ee===0||ee===2&&!s(P,1))return P;switch(G){case 1015:return P.charCodeAt(10)===97?"-webkit-"+P+P:P;case 951:return P.charCodeAt(3)===116?"-webkit-"+P+P:P;case 963:return P.charCodeAt(5)===110?"-webkit-"+P+P:P;case 1009:if(P.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+P+P;case 978:return"-webkit-"+P+"-moz-"+P+P;case 1019:case 983:return"-webkit-"+P+"-moz-"+P+"-ms-"+P+P;case 883:if(P.charCodeAt(8)===45)return"-webkit-"+P+P;if(0<P.indexOf("image-set(",11))return P.replace(N,"$1-webkit-$2")+P;break;case 932:if(P.charCodeAt(4)===45)switch(P.charCodeAt(5)){case 103:return"-webkit-box-"+P.replace("-grow","")+"-webkit-"+P+"-ms-"+P.replace("grow","positive")+P;case 115:return"-webkit-"+P+"-ms-"+P.replace("shrink","negative")+P;case 98:return"-webkit-"+P+"-ms-"+P.replace("basis","preferred-size")+P}return"-webkit-"+P+"-ms-"+P+P;case 964:return"-webkit-"+P+"-ms-flex-"+P+P;case 1023:if(P.charCodeAt(8)!==99)break;return $=P.substring(P.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+$+"-webkit-"+P+"-ms-flex-pack"+$+P;case 1005:return g.test(P)?P.replace(p,":-webkit-")+P.replace(p,":-moz-")+P:P;case 1e3:switch($=P.substring(13).trim(),O=$.indexOf("-")+1,$.charCodeAt(0)+$.charCodeAt(O)){case 226:$=P.replace(C,"tb");break;case 232:$=P.replace(C,"tb-rl");break;case 220:$=P.replace(C,"lr");break;default:return P}return"-webkit-"+P+"-ms-"+$+P;case 1017:if(P.indexOf("sticky",9)===-1)break;case 975:switch(O=(P=R).length-10,$=(P.charCodeAt(O)===33?P.substring(0,O):P).substring(R.indexOf(":",7)+1).trim(),G=$.charCodeAt(0)+($.charCodeAt(7)|0)){case 203:if(111>$.charCodeAt(8))break;case 115:P=P.replace($,"-webkit-"+$)+";"+P;break;case 207:case 102:P=P.replace($,"-webkit-"+(102<G?"inline-":"")+"box")+";"+P.replace($,"-webkit-"+$)+";"+P.replace($,"-ms-"+$+"box")+";"+P}return P+";";case 938:if(P.charCodeAt(5)===45)switch(P.charCodeAt(6)){case 105:return $=P.replace("-items",""),"-webkit-"+P+"-webkit-box-"+$+"-ms-flex-"+$+P;case 115:return"-webkit-"+P+"-ms-flex-item-"+P.replace(M,"")+P;default:return"-webkit-"+P+"-ms-flex-line-pack"+P.replace("align-content","").replace(M,"")+P}break;case 973:case 989:if(P.charCodeAt(3)!==45||P.charCodeAt(4)===122)break;case 931:case 953:if(j.test(R)===!0)return($=R.substring(R.indexOf(":")+1)).charCodeAt(0)===115?i(R.replace("stretch","fill-available"),O,B,K).replace(":fill-available",":stretch"):P.replace($,"-webkit-"+$)+P.replace($,"-moz-"+$.replace("fill-",""))+P;break;case 962:if(P="-webkit-"+P+(P.charCodeAt(5)===102?"-ms-"+P:"")+P,B+K===211&&P.charCodeAt(13)===105&&0<P.indexOf("transform",10))return P.substring(0,P.indexOf(";",27)+1).replace(y,"$1-webkit-$2")+P}return P}function s(R,O){var B=R.indexOf(O===1?":":"{"),K=R.substring(0,O!==3?B:10);return B=R.substring(B+1,R.length-1),T(O!==2?K:K.replace(z,"$1"),B,O)}function o(R,O){var B=i(O,O.charCodeAt(0),O.charCodeAt(1),O.charCodeAt(2));return B!==O+";"?B.replace(I," or ($1)").substring(4):"("+O+")"}function a(R,O,B,K,P,G,$,ge,ne,me){for(var ae=0,Ee=O,ke;ae<x;++ae)switch(ke=V[ae].call(h,R,Ee,B,K,P,G,$,ge,ne,me)){case void 0:case!1:case!0:case null:break;default:Ee=ke}if(Ee!==O)return Ee}function l(R){switch(R){case void 0:case null:x=V.length=0;break;default:if(typeof R=="function")V[x++]=R;else if(typeof R=="object")for(var O=0,B=R.length;O<B;++O)l(R[O]);else L=!!R|0}return l}function c(R){return R=R.prefix,R!==void 0&&(T=null,R?typeof R!="function"?ee=1:(ee=2,T=R):ee=0),c}function h(R,O){var B=R;if(33>B.charCodeAt(0)&&(B=B.trim()),F=B,B=[F],0<x){var K=a(-1,O,B,B,q,X,0,0,0,0);K!==void 0&&typeof K=="string"&&(O=K)}var P=e(le,B,O,0,0);return 0<x&&(K=a(-2,P,B,B,q,X,P.length,0,0,0),K!==void 0&&(P=K)),F="",Q=0,X=q=1,P}var d=/^\0+/g,f=/[\0\r\f]/g,p=/: */g,g=/zoo|gra/,y=/([,: ])(transform)/g,b=/,\r+?/g,m=/([\t\r\n ])*\f?&/g,v=/@(k\w+)\s*(\S*)\s*/,A=/::(place)/g,S=/:(read-only)/g,C=/[svh]\w+-[tblr]{2}/,k=/\(\s*(.*)\s*\)/g,I=/([\s\S]*?);/g,M=/-self|flex-/g,z=/[^]*?(:[rp][el]a[\w-]+)[^]*/,j=/stretch|:\s*\w+\-(?:conte|avail)/,N=/([^-])(image-set\()/,X=1,q=1,Q=0,ee=1,le=[],V=[],x=0,T=null,L=0,F="";return h.use=l,h.set=c,n!==void 0&&c(n),h}var tP={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function nP(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var rP=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,uw=nP(function(n){return rP.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),Cy=xy,iP={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},sP={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},oP={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},ab={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Ty={};Ty[Cy.ForwardRef]=oP;Ty[Cy.Memo]=ab;function cw(n){return Cy.isMemo(n)?ab:Ty[n.$$typeof]||iP}var aP=Object.defineProperty,lP=Object.getOwnPropertyNames,hw=Object.getOwnPropertySymbols,uP=Object.getOwnPropertyDescriptor,cP=Object.getPrototypeOf,dw=Object.prototype;function lb(n,e,t){if(typeof e!="string"){if(dw){var r=cP(e);r&&r!==dw&&lb(n,r,t)}var i=lP(e);hw&&(i=i.concat(hw(e)));for(var s=cw(n),o=cw(e),a=0;a<i.length;++a){var l=i[a];if(!sP[l]&&!(t&&t[l])&&!(o&&o[l])&&!(s&&s[l])){var c=uP(e,l);try{aP(n,l,c)}catch{}}}}return n}var hP=lb;const dP=bp(hP);var Dn={};function Br(){return(Br=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n}).apply(this,arguments)}var fw=function(n,e){for(var t=[n[0]],r=0,i=e.length;r<i;r+=1)t.push(e[r],n[r+1]);return t},Jm=function(n){return n!==null&&typeof n=="object"&&(n.toString?n.toString():Object.prototype.toString.call(n))==="[object Object]"&&!xy.typeOf(n)},Hf=Object.freeze([]),xs=Object.freeze({});function Kl(n){return typeof n=="function"}function pw(n){return n.displayName||n.name||"Component"}function ky(n){return n&&typeof n.styledComponentId=="string"}var ql=typeof process<"u"&&Dn!==void 0&&(Dn.REACT_APP_SC_ATTR||Dn.SC_ATTR)||"data-styled",Py=typeof window<"u"&&"HTMLElement"in window,fP=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Dn!==void 0&&(Dn.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Dn.REACT_APP_SC_DISABLE_SPEEDY!==""?Dn.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Dn.REACT_APP_SC_DISABLE_SPEEDY:Dn.SC_DISABLE_SPEEDY!==void 0&&Dn.SC_DISABLE_SPEEDY!==""&&Dn.SC_DISABLE_SPEEDY!=="false"&&Dn.SC_DISABLE_SPEEDY));function ea(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+n+" for more information."+(t.length>0?" Args: "+t.join(", "):""))}var pP=function(){function n(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}var e=n.prototype;return e.indexOfGroup=function(t){for(var r=0,i=0;i<t;i++)r+=this.groupSizes[i];return r},e.insertRules=function(t,r){if(t>=this.groupSizes.length){for(var i=this.groupSizes,s=i.length,o=s;t>=o;)(o<<=1)<0&&ea(16,""+t);this.groupSizes=new Uint32Array(o),this.groupSizes.set(i),this.length=o;for(var a=s;a<o;a++)this.groupSizes[a]=0}for(var l=this.indexOfGroup(t+1),c=0,h=r.length;c<h;c++)this.tag.insertRule(l,r[c])&&(this.groupSizes[t]++,l++)},e.clearGroup=function(t){if(t<this.length){var r=this.groupSizes[t],i=this.indexOfGroup(t),s=i+r;this.groupSizes[t]=0;for(var o=i;o<s;o++)this.tag.deleteRule(i)}},e.getGroup=function(t){var r="";if(t>=this.length||this.groupSizes[t]===0)return r;for(var i=this.groupSizes[t],s=this.indexOfGroup(t),o=s+i,a=s;a<o;a++)r+=this.tag.getRule(a)+`/*!sc*/
`;return r},n}(),Wd=new Map,Vf=new Map,Wu=1,xd=function(n){if(Wd.has(n))return Wd.get(n);for(;Vf.has(Wu);)Wu++;var e=Wu++;return Wd.set(n,e),Vf.set(e,n),e},gP=function(n){return Vf.get(n)},mP=function(n,e){e>=Wu&&(Wu=e+1),Wd.set(n,e),Vf.set(e,n)},vP="style["+ql+'][data-styled-version="5.3.11"]',yP=new RegExp("^"+ql+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),wP=function(n,e,t){for(var r,i=t.split(","),s=0,o=i.length;s<o;s++)(r=i[s])&&n.registerName(e,r)},_P=function(n,e){for(var t=(e.textContent||"").split(`/*!sc*/
`),r=[],i=0,s=t.length;i<s;i++){var o=t[i].trim();if(o){var a=o.match(yP);if(a){var l=0|parseInt(a[1],10),c=a[2];l!==0&&(mP(c,l),wP(n,c,a[3]),n.getTag().insertRules(l,r)),r.length=0}else r.push(o)}}},EP=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null},ub=function(n){var e=document.head,t=n||e,r=document.createElement("style"),i=function(a){for(var l=a.childNodes,c=l.length;c>=0;c--){var h=l[c];if(h&&h.nodeType===1&&h.hasAttribute(ql))return h}}(t),s=i!==void 0?i.nextSibling:null;r.setAttribute(ql,"active"),r.setAttribute("data-styled-version","5.3.11");var o=EP();return o&&r.setAttribute("nonce",o),t.insertBefore(r,s),r},AP=function(){function n(t){var r=this.element=ub(t);r.appendChild(document.createTextNode("")),this.sheet=function(i){if(i.sheet)return i.sheet;for(var s=document.styleSheets,o=0,a=s.length;o<a;o++){var l=s[o];if(l.ownerNode===i)return l}ea(17)}(r),this.length=0}var e=n.prototype;return e.insertRule=function(t,r){try{return this.sheet.insertRule(r,t),this.length++,!0}catch{return!1}},e.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.getRule=function(t){var r=this.sheet.cssRules[t];return r!==void 0&&typeof r.cssText=="string"?r.cssText:""},n}(),bP=function(){function n(t){var r=this.element=ub(t);this.nodes=r.childNodes,this.length=0}var e=n.prototype;return e.insertRule=function(t,r){if(t<=this.length&&t>=0){var i=document.createTextNode(r),s=this.nodes[t];return this.element.insertBefore(i,s||null),this.length++,!0}return!1},e.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},n}(),SP=function(){function n(t){this.rules=[],this.length=0}var e=n.prototype;return e.insertRule=function(t,r){return t<=this.length&&(this.rules.splice(t,0,r),this.length++,!0)},e.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.getRule=function(t){return t<this.length?this.rules[t]:""},n}(),gw=Py,xP={isServer:!Py,useCSSOMInjection:!fP},cb=function(){function n(t,r,i){t===void 0&&(t=xs),r===void 0&&(r={}),this.options=Br({},xP,{},t),this.gs=r,this.names=new Map(i),this.server=!!t.isServer,!this.server&&Py&&gw&&(gw=!1,function(s){for(var o=document.querySelectorAll(vP),a=0,l=o.length;a<l;a++){var c=o[a];c&&c.getAttribute(ql)!=="active"&&(_P(s,c),c.parentNode&&c.parentNode.removeChild(c))}}(this))}n.registerId=function(t){return xd(t)};var e=n.prototype;return e.reconstructWithOptions=function(t,r){return r===void 0&&(r=!0),new n(Br({},this.options,{},t),this.gs,r&&this.names||void 0)},e.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.getTag=function(){return this.tag||(this.tag=(i=(r=this.options).isServer,s=r.useCSSOMInjection,o=r.target,t=i?new SP(o):s?new AP(o):new bP(o),new pP(t)));var t,r,i,s,o},e.hasNameForId=function(t,r){return this.names.has(t)&&this.names.get(t).has(r)},e.registerName=function(t,r){if(xd(t),this.names.has(t))this.names.get(t).add(r);else{var i=new Set;i.add(r),this.names.set(t,i)}},e.insertRules=function(t,r,i){this.registerName(t,r),this.getTag().insertRules(xd(t),i)},e.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.clearRules=function(t){this.getTag().clearGroup(xd(t)),this.clearNames(t)},e.clearTag=function(){this.tag=void 0},e.toString=function(){return function(t){for(var r=t.getTag(),i=r.length,s="",o=0;o<i;o++){var a=gP(o);if(a!==void 0){var l=t.names.get(a),c=r.getGroup(o);if(l&&c&&l.size){var h=ql+".g"+o+'[id="'+a+'"]',d="";l!==void 0&&l.forEach(function(f){f.length>0&&(d+=f+",")}),s+=""+c+h+'{content:"'+d+`"}/*!sc*/
`}}}return s}(this)},n}(),CP=/(a)(d)/gi,mw=function(n){return String.fromCharCode(n+(n>25?39:97))};function e0(n){var e,t="";for(e=Math.abs(n);e>52;e=e/52|0)t=mw(e%52)+t;return(mw(e%52)+t).replace(CP,"$1-$2")}var Na=function(n,e){for(var t=e.length;t;)n=33*n^e.charCodeAt(--t);return n},hb=function(n){return Na(5381,n)};function TP(n){for(var e=0;e<n.length;e+=1){var t=n[e];if(Kl(t)&&!ky(t))return!1}return!0}var kP=hb("5.3.11"),PP=function(){function n(e,t,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&TP(e),this.componentId=t,this.baseHash=Na(kP,t),this.baseStyle=r,cb.registerId(t)}return n.prototype.generateAndInjectStyles=function(e,t,r){var i=this.componentId,s=[];if(this.baseStyle&&s.push(this.baseStyle.generateAndInjectStyles(e,t,r)),this.isStatic&&!r.hash)if(this.staticRulesId&&t.hasNameForId(i,this.staticRulesId))s.push(this.staticRulesId);else{var o=Ql(this.rules,e,t,r).join(""),a=e0(Na(this.baseHash,o)>>>0);if(!t.hasNameForId(i,a)){var l=r(o,"."+a,void 0,i);t.insertRules(i,a,l)}s.push(a),this.staticRulesId=a}else{for(var c=this.rules.length,h=Na(this.baseHash,r.hash),d="",f=0;f<c;f++){var p=this.rules[f];if(typeof p=="string")d+=p;else if(p){var g=Ql(p,e,t,r),y=Array.isArray(g)?g.join(""):g;h=Na(h,y+f),d+=y}}if(d){var b=e0(h>>>0);if(!t.hasNameForId(i,b)){var m=r(d,"."+b,void 0,i);t.insertRules(i,b,m)}s.push(b)}}return s.join(" ")},n}(),LP=/^\s*\/\/.*$/gm,RP=[":","[",".","#"];function IP(n){var e,t,r,i,s=xs,o=s.options,a=o===void 0?xs:o,l=s.plugins,c=l===void 0?Hf:l,h=new eP(a),d=[],f=function(y){function b(m){if(m)try{y(m+"}")}catch{}}return function(m,v,A,S,C,k,I,M,z,j){switch(m){case 1:if(z===0&&v.charCodeAt(0)===64)return y(v+";"),"";break;case 2:if(M===0)return v+"/*|*/";break;case 3:switch(M){case 102:case 112:return y(A[0]+v),"";default:return v+(j===0?"/*|*/":"")}case-2:v.split("/*|*/}").forEach(b)}}}(function(y){d.push(y)}),p=function(y,b,m){return b===0&&RP.indexOf(m[t.length])!==-1||m.match(i)?y:"."+e};function g(y,b,m,v){v===void 0&&(v="&");var A=y.replace(LP,""),S=b&&m?m+" "+b+" { "+A+" }":A;return e=v,t=b,r=new RegExp("\\"+t+"\\b","g"),i=new RegExp("(\\"+t+"\\b){2,}"),h(m||!b?"":b,S)}return h.use([].concat(c,[function(y,b,m){y===2&&m.length&&m[0].lastIndexOf(t)>0&&(m[0]=m[0].replace(r,p))},f,function(y){if(y===-2){var b=d;return d=[],b}}])),g.hash=c.length?c.reduce(function(y,b){return b.name||ea(15),Na(y,b.name)},5381).toString():"",g}var db=D.createContext();db.Consumer;var fb=D.createContext(),MP=(fb.Consumer,new cb),t0=IP();function OP(){return U.useContext(db)||MP}function DP(){return U.useContext(fb)||t0}var pb=function(){function n(e,t){var r=this;this.inject=function(i,s){s===void 0&&(s=t0);var o=r.name+s.hash;i.hasNameForId(r.id,o)||i.insertRules(r.id,o,s(r.rules,o,"@keyframes"))},this.toString=function(){return ea(12,String(r.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return n.prototype.getName=function(e){return e===void 0&&(e=t0),this.name+e.hash},n}(),NP=/([A-Z])/,FP=/([A-Z])/g,BP=/^ms-/,jP=function(n){return"-"+n.toLowerCase()};function vw(n){return NP.test(n)?n.replace(FP,jP).replace(BP,"-ms-"):n}var yw=function(n){return n==null||n===!1||n===""};function Ql(n,e,t,r){if(Array.isArray(n)){for(var i,s=[],o=0,a=n.length;o<a;o+=1)(i=Ql(n[o],e,t,r))!==""&&(Array.isArray(i)?s.push.apply(s,i):s.push(i));return s}if(yw(n))return"";if(ky(n))return"."+n.styledComponentId;if(Kl(n)){if(typeof(c=n)!="function"||c.prototype&&c.prototype.isReactComponent||!e)return n;var l=n(e);return Ql(l,e,t,r)}var c;return n instanceof pb?t?(n.inject(t,r),n.getName(r)):n:Jm(n)?function h(d,f){var p,g,y=[];for(var b in d)d.hasOwnProperty(b)&&!yw(d[b])&&(Array.isArray(d[b])&&d[b].isCss||Kl(d[b])?y.push(vw(b)+":",d[b],";"):Jm(d[b])?y.push.apply(y,h(d[b],b)):y.push(vw(b)+": "+(p=b,(g=d[b])==null||typeof g=="boolean"||g===""?"":typeof g!="number"||g===0||p in tP||p.startsWith("--")?String(g).trim():g+"px")+";"));return f?[f+" {"].concat(y,["}"]):y}(n):n.toString()}var ww=function(n){return Array.isArray(n)&&(n.isCss=!0),n};function qp(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];return Kl(n)||Jm(n)?ww(Ql(fw(Hf,[n].concat(t)))):t.length===0&&n.length===1&&typeof n[0]=="string"?n:ww(Ql(fw(n,t)))}var zP=function(n,e,t){return t===void 0&&(t=xs),n.theme!==t.theme&&n.theme||e||t.theme},$P=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,UP=/(^-|-$)/g;function Kg(n){return n.replace($P,"-").replace(UP,"")}var gb=function(n){return e0(hb(n)>>>0)};function Cd(n){return typeof n=="string"&&!0}var n0=function(n){return typeof n=="function"||typeof n=="object"&&n!==null&&!Array.isArray(n)},HP=function(n){return n!=="__proto__"&&n!=="constructor"&&n!=="prototype"};function VP(n,e,t){var r=n[t];n0(e)&&n0(r)?mb(r,e):n[t]=e}function mb(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];for(var i=0,s=t;i<s.length;i++){var o=s[i];if(n0(o))for(var a in o)HP(a)&&VP(n,o[a],a)}return n}var Gf=D.createContext();Gf.Consumer;function GP(n){var e=U.useContext(Gf),t=U.useMemo(function(){return function(r,i){if(!r)return ea(14);if(Kl(r)){var s=r(i);return s}return Array.isArray(r)||typeof r!="object"?ea(8):i?Br({},i,{},r):r}(n.theme,e)},[n.theme,e]);return n.children?D.createElement(Gf.Provider,{value:t},n.children):null}var qg={};function vb(n,e,t){var r=ky(n),i=!Cd(n),s=e.attrs,o=s===void 0?Hf:s,a=e.componentId,l=a===void 0?function(v,A){var S=typeof v!="string"?"sc":Kg(v);qg[S]=(qg[S]||0)+1;var C=S+"-"+gb("5.3.11"+S+qg[S]);return A?A+"-"+C:C}(e.displayName,e.parentComponentId):a,c=e.displayName,h=c===void 0?function(v){return Cd(v)?"styled."+v:"Styled("+pw(v)+")"}(n):c,d=e.displayName&&e.componentId?Kg(e.displayName)+"-"+e.componentId:e.componentId||l,f=r&&n.attrs?Array.prototype.concat(n.attrs,o).filter(Boolean):o,p=e.shouldForwardProp;r&&n.shouldForwardProp&&(p=e.shouldForwardProp?function(v,A,S){return n.shouldForwardProp(v,A,S)&&e.shouldForwardProp(v,A,S)}:n.shouldForwardProp);var g,y=new PP(t,d,r?n.componentStyle:void 0),b=y.isStatic&&o.length===0,m=function(v,A){return function(S,C,k,I){var M=S.attrs,z=S.componentStyle,j=S.defaultProps,N=S.foldedComponentIds,X=S.shouldForwardProp,q=S.styledComponentId,Q=S.target,ee=function(K,P,G){K===void 0&&(K=xs);var $=Br({},P,{theme:K}),ge={};return G.forEach(function(ne){var me,ae,Ee,ke=ne;for(me in Kl(ke)&&(ke=ke($)),ke)$[me]=ge[me]=me==="className"?(ae=ge[me],Ee=ke[me],ae&&Ee?ae+" "+Ee:ae||Ee):ke[me]}),[$,ge]}(zP(C,U.useContext(Gf),j)||xs,C,M),le=ee[0],V=ee[1],x=function(K,P,G,$){var ge=OP(),ne=DP(),me=P?K.generateAndInjectStyles(xs,ge,ne):K.generateAndInjectStyles(G,ge,ne);return me}(z,I,le),T=k,L=V.$as||C.$as||V.as||C.as||Q,F=Cd(L),R=V!==C?Br({},C,{},V):C,O={};for(var B in R)B[0]!=="$"&&B!=="as"&&(B==="forwardedAs"?O.as=R[B]:(X?X(B,uw,L):!F||uw(B))&&(O[B]=R[B]));return C.style&&V.style!==C.style&&(O.style=Br({},C.style,{},V.style)),O.className=Array.prototype.concat(N,q,x!==q?x:null,C.className,V.className).filter(Boolean).join(" "),O.ref=T,U.createElement(L,O)}(g,v,A,b)};return m.displayName=h,(g=D.forwardRef(m)).attrs=f,g.componentStyle=y,g.displayName=h,g.shouldForwardProp=p,g.foldedComponentIds=r?Array.prototype.concat(n.foldedComponentIds,n.styledComponentId):Hf,g.styledComponentId=d,g.target=r?n.target:n,g.withComponent=function(v){var A=e.componentId,S=function(k,I){if(k==null)return{};var M,z,j={},N=Object.keys(k);for(z=0;z<N.length;z++)M=N[z],I.indexOf(M)>=0||(j[M]=k[M]);return j}(e,["componentId"]),C=A&&A+"-"+(Cd(v)?v:Kg(pw(v)));return vb(v,Br({},S,{attrs:f,componentId:C}),t)},Object.defineProperty(g,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(v){this._foldedDefaultProps=r?mb({},n.defaultProps,v):v}}),Object.defineProperty(g,"toString",{value:function(){return"."+g.styledComponentId}}),i&&dP(g,n,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),g}var r0=function(n){return function e(t,r,i){if(i===void 0&&(i=xs),!xy.isValidElementType(r))return ea(1,String(r));var s=function(){return t(r,i,qp.apply(void 0,arguments))};return s.withConfig=function(o){return e(t,r,Br({},i,{},o))},s.attrs=function(o){return e(t,r,Br({},i,{attrs:Array.prototype.concat(i.attrs,o).filter(Boolean)}))},s}(vb,n)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(n){r0[n]=r0(n)});function WP(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];var i=qp.apply(void 0,[n].concat(t)).join(""),s=gb(i);return new pb(s,i)}const pe=r0;var yb="SET_ALL_DOCUMENTS",YP=function(n){return{type:yb,documents:n}},wb="SET_DOCUMENT_LOADING",Qg=function(n){return{type:wb,value:n}},_b="NEXT_DOCUMENT",Eb=function(){return{type:_b}},Ab="PREVIOUS_DOCUMENT",bb=function(){return{type:Ab}},Sb="UPDATE_CURRENT_DOCUMENT",_w=function(n){return{type:Sb,document:n}},xb="SET_RENDERER_RECT",XP=function(n){return{type:xb,rect:n}},Cb="SET_MAIN_CONFIG",KP=function(n){return{type:Cb,config:n}},Ft=function(){return Ft=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Ft.apply(this,arguments)},Ly={currentFileNo:0,documents:[],documentLoading:!0,currentDocument:void 0,rendererRect:void 0,config:{},pluginRenderers:[]},qP=function(n,e){switch(n===void 0&&(n=Ly),e.type){case yb:{var t=e.documents;return Ft(Ft({},n),{documents:t,currentDocument:t[0]||null})}case wb:{var r=e.value;return Ft(Ft({},n),{documentLoading:r})}case _b:{if(n.currentFileNo>=n.documents.length-1)return n;var i=n.currentFileNo+1;return Ft(Ft({},n),{currentFileNo:i,currentDocument:n.documents[i],documentLoading:!0})}case Ab:{if(n.currentFileNo<=0)return n;var s=n.currentFileNo-1;return Ft(Ft({},n),{currentFileNo:n.currentFileNo-1,currentDocument:n.documents[s],documentLoading:!0})}case Sb:{var o=e.document;return Ft(Ft({},n),{currentDocument:o})}case xb:{var a=e.rect;return Ft(Ft({},n),{rendererRect:a})}case Cb:{var l=e.config;return Ft(Ft({},n),{config:l})}default:return n}},Wf=function(){return Wf=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Wf.apply(this,arguments)},iu=U.createContext({state:Ly,dispatch:function(){return null}}),QP=function(n){var e=n.children,t=n.documents,r=n.config,i=n.pluginRenderers,s=U.useReducer(qP,Wf(Wf({},Ly),{documents:t||[],currentDocument:t&&t.length?t[0]:void 0,config:r,pluginRenderers:i})),o=s[0],a=s[1];return U.useEffect(function(){a(YP(t)),r&&a(KP(r))},[t]),D.createElement(iu.Provider,{value:{state:o,dispatch:a}},e)},su=function(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n},ZP=qp(Ew||(Ew=su([`
  background-color: `,`;
  color: `,`;
`],[`
  background-color: `,`;
  color: `,`;
`])),function(n){return n.theme.primary},function(n){return n.theme.text_primary}),JP=qp(Aw||(Aw=su([`
  background-color: `,`;
  color: `,`;
`],[`
  background-color: `,`;
  color: `,`;
`])),function(n){return n.theme.secondary},function(n){return n.theme.text_secondary}),Qp=pe.button(bw||(bw=su([`
  `,`
  display: flex;
  justify-content: center;
  align-items: center;
  width: 35px;
  height: 35px;
  padding: 0;
  margin: 0 0 0 5px;
  text-align: center;
  font-size: 18px;
  border: 0;
  outline: none;
  cursor: pointer;
  text-decoration: none;
  border-radius: 35px;
  opacity: `,`;
  pointer-events: `,`;
  box-shadow: 2px 2px 3px #00000033;

  @media (max-width: 768px) {
    width: 30px;
    height: 30px;
    font-size: 15px;
  }
`],[`
  `,`
  display: flex;
  justify-content: center;
  align-items: center;
  width: 35px;
  height: 35px;
  padding: 0;
  margin: 0 0 0 5px;
  text-align: center;
  font-size: 18px;
  border: 0;
  outline: none;
  cursor: pointer;
  text-decoration: none;
  border-radius: 35px;
  opacity: `,`;
  pointer-events: `,`;
  box-shadow: 2px 2px 3px #00000033;

  @media (max-width: 768px) {
    width: 30px;
    height: 30px;
    font-size: 15px;
  }
`])),ZP,function(n){return n.disabled?.4:1},function(n){return n.disabled?"none":"all"}),Tb=pe.a(Sw||(Sw=su([`
  display: flex;
  justify-content: center;
  align-items: center;
  border: 0;
  outline: none;
  cursor: pointer;
  text-decoration: none;
  border-radius: 35px;
  background-color: `,`;
  color: `,`;
  box-shadow: 2px 2px 3px #00000033;

  width: 35px;
  height: 35px;
  font-size: 18px;
  @media (max-width: 768px) {
    width: 30px;
    height: 30px;
    font-size: 15px;
  }
`],[`
  display: flex;
  justify-content: center;
  align-items: center;
  border: 0;
  outline: none;
  cursor: pointer;
  text-decoration: none;
  border-radius: 35px;
  background-color: `,`;
  color: `,`;
  box-shadow: 2px 2px 3px #00000033;

  width: 35px;
  height: 35px;
  font-size: 18px;
  @media (max-width: 768px) {
    width: 30px;
    height: 30px;
    font-size: 15px;
  }
`])),function(n){return n.theme.primary},function(n){return n.theme.text_primary});pe(Qp)(xw||(xw=su([""],[""])));var eL=pe(Qp)(Cw||(Cw=su([`
  `,`
`],[`
  `,`
`])),JP),Ew,Aw,bw,Sw,xw,Cw,Yf=function(){return Yf=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Yf.apply(this,arguments)},tL=function(n){return D.createElement(kb,Yf({},n))},nL=function(n){return D.createElement(kb,Yf({},n,{reverse:!0}))},kb=function(n){var e=n.color,t=n.size,r=n.reverse;return D.createElement("svg",{width:t||"100%",height:t||"100%",style:{transform:"".concat(r?"rotate(180deg)":"")},id:"arrow_left",version:"1.1",viewBox:"0 0 32 32",xmlSpace:"preserve"},D.createElement("path",{clipRule:"evenodd",d:"M31.106,15H3.278l8.325-8.293  c0.391-0.391,0.391-1.024,0-1.414c-0.391-0.391-1.024-0.391-1.414,0l-9.9,9.899c-0.385,0.385-0.385,1.029,0,1.414l9.9,9.9  c0.391,0.391,1.024,0.391,1.414,0c0.391-0.391,0.391-1.024,0-1.414L3.278,17h27.828c0.552,0,1-0.448,1-1  C32.106,15.448,31.658,15,31.106,15z",fill:e||"#aaa",fillRule:"evenodd",id:"Arrow_Back"}))},rL=function(n){var e=n.color,t=n.size;return D.createElement("svg",{width:t||"100%",height:t||"100%",version:"1.1",id:"Icons",viewBox:"0 0 32 32",xmlSpace:"preserve",style:{alignSelf:"center",justifySelf:"center"}},D.createElement("g",null,D.createElement("path",{fill:e||"#aaa",d:"M16,2c-0.6,0-1,0.4-1,1v5c0,0.6,0.4,1,1,1s1-0.4,1-1V3C17,2.4,16.6,2,16,2z"}),D.createElement("path",{fill:e||"#aaa",d:`M7.5,6.1c-0.4-0.4-1-0.4-1.4,0s-0.4,1,0,1.4l3.5,3.5c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3c0.4-0.4,0.4-1,0-1.4L7.5,6.1
		z`}),D.createElement("path",{fill:e||"#aaa",d:"M9,16c0-0.6-0.4-1-1-1H3c-0.6,0-1,0.4-1,1s0.4,1,1,1h5C8.6,17,9,16.6,9,16z"}),D.createElement("path",{fill:e||"#aaa",d:`M9.6,20.9l-3.5,3.5c-0.4,0.4-0.4,1,0,1.4c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3l3.5-3.5c0.4-0.4,0.4-1,0-1.4
		S10,20.6,9.6,20.9z`}),D.createElement("path",{fill:e||"#aaa",d:"M16,23c-0.6,0-1,0.4-1,1v5c0,0.6,0.4,1,1,1s1-0.4,1-1v-5C17,23.4,16.6,23,16,23z"}),D.createElement("path",{fill:e||"#aaa",d:`M22.4,20.9c-0.4-0.4-1-0.4-1.4,0s-0.4,1,0,1.4l3.5,3.5c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3c0.4-0.4,0.4-1,0-1.4
		L22.4,20.9z`}),D.createElement("path",{fill:e||"#aaa",d:"M29,15h-5c-0.6,0-1,0.4-1,1s0.4,1,1,1h5c0.6,0,1-0.4,1-1S29.6,15,29,15z"}),D.createElement("path",{fill:e||"#aaa",d:`M21.7,11.3c0.3,0,0.5-0.1,0.7-0.3l3.5-3.5c0.4-0.4,0.4-1,0-1.4s-1-0.4-1.4,0l-3.5,3.5c-0.4,0.4-0.4,1,0,1.4
		C21.1,11.2,21.4,11.3,21.7,11.3z`})))},Ry=function(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n},iL=function(){var n=U.useContext(iu),e=n.state,t=e.currentDocument,r=e.currentFileNo,i=e.documents,s=n.dispatch;if(i.length<=1||!t)return null;var o=t.uri,a=o.split("/");return a.length&&(o=a[a.length-1]),D.createElement(sL,{id:"doc-nav"},D.createElement("p",{id:"doc-nav-info"},"Doc ",r+1," of ",i.length),D.createElement(Pb,{id:"doc-nav-prev",onClick:function(){return s(bb())},disabled:r===0},D.createElement(tL,{color:"#fff",size:"60%"})),D.createElement(oL,{id:"doc-nav-next",onClick:function(){return s(Eb())},disabled:r>=i.length-1},D.createElement(nL,{color:"#fff",size:"60%"})))},sL=pe.div(Tw||(Tw=Ry([`
  min-width: 150px;
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: flex-end;
  margin: 0 10px;
  color: `,`;
`],[`
  min-width: 150px;
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: flex-end;
  margin: 0 10px;
  color: `,`;
`])),function(n){return n.theme.text_primary}),Pb=pe(eL)(kw||(kw=Ry([`
  width: 30px;
  height: 30px;
  margin: 0 5px 0 10px;

  @media (max-width: 768px) {
    width: 25px;
    height: 25px;
  }
`],[`
  width: 30px;
  height: 30px;
  margin: 0 5px 0 10px;

  @media (max-width: 768px) {
    width: 25px;
    height: 25px;
  }
`]))),oL=pe(Pb)(Pw||(Pw=Ry([`
  margin: 0 5px;
`],[`
  margin: 0 5px;
`]))),Tw,kw,Pw,aL=function(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n},lL=function(){var n,e,t=U.useContext(iu).state,r=t.config,i=t.currentDocument;if(!i||!((n=r==null?void 0:r.header)===null||n===void 0)&&n.disableFileName)return null;var s=i.uri||"";s=decodeURI(s),!((e=r==null?void 0:r.header)===null||e===void 0)&&e.retainURLParams||(s=s.split("?")[0]);var o=s.split("/");return o.length&&(s=o[o.length-1]),D.createElement(uL,{id:"file-name","data-testid":"file-name"},s)},uL=pe.div(Lw||(Lw=aL([`
  flex: 1;
  text-align: left;
  color: `,`;
  font-weight: bold;
  margin: 0 10px;
  overflow: hidden;
`],[`
  flex: 1;
  text-align: left;
  color: `,`;
  font-weight: bold;
  margin: 0 10px;
  overflow: hidden;
`])),function(n){return n.theme.text_primary}),Lw,cL=function(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n},hL=function(){var n,e,t,r=U.useContext(iu),i=r.state,s=r.dispatch,o=i.config;if(!((n=o==null?void 0:o.header)===null||n===void 0)&&n.disableHeader)return null;var a=(t=(e=o==null?void 0:o.header)===null||e===void 0?void 0:e.overrideComponent)===null||t===void 0?void 0:t.call(e,i,function(){return s(bb())},function(){return s(Eb())});return a||D.createElement(dL,{id:"header-bar","data-testid":"header-bar"},D.createElement(lL,null),D.createElement(iL,null))},dL=pe.div(Rw||(Rw=cL([`
  display: flex;
  justify-content: flex-end;
  align-items: center;
  z-index: 1;
  padding: 0 10px;
  background-color: `,`;
  font-size: 16px;
  min-height: 50px;

  @media (max-width: 768px) {
    min-height: 30px;
    padding: 5px;
    font-size: 10px;
  }
`],[`
  display: flex;
  justify-content: flex-end;
  align-items: center;
  z-index: 1;
  padding: 0 10px;
  background-color: `,`;
  font-size: 16px;
  min-height: 50px;

  @media (max-width: 768px) {
    min-height: 30px;
    padding: 5px;
    font-size: 10px;
  }
`])),function(n){return n.theme.primary}),Rw,Ps=function(){return Ps=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Ps.apply(this,arguments)},fL=function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{c(r.next(h))}catch(d){o(d)}}function l(h){try{c(r.throw(h))}catch(d){o(d)}}function c(h){h.done?s(h.value):i(h.value).then(a,l)}c((r=r.apply(n,e||[])).next())})},pL=function(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(h){return l([c,h])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(t=0)),t;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){t.label=c[1];break}if(c[0]===6&&t.label<s[1]){t.label=s[1],s=c;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(c);break}s[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(n,t)}catch(h){c=[6,h],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},Iy=function(n){var e=n.documentURI,t=n.signal,r=n.fileLoaderComplete,i=n.readerTypeFunction;return fetch(e,{signal:t}).then(function(s){return fL(void 0,void 0,void 0,function(){var o,a;return pL(this,function(l){switch(l.label){case 0:return[4,s.blob()];case 1:switch(o=l.sent(),a=new FileReader,a.addEventListener("loadend",function(){return r(a)}),i){case"arrayBuffer":a.readAsArrayBuffer(o);break;case"binaryString":a.readAsBinaryString(o);break;case"dataURL":a.readAsDataURL(o);break;case"text":a.readAsText(o);break}return[2]}})})}).catch(function(s){return s})},Lb=function(n){return Iy(Ps(Ps({},n),{readerTypeFunction:"arrayBuffer"}))},Rb=function(n){return Iy(Ps(Ps({},n),{readerTypeFunction:"dataURL"}))},gL=function(n){return Iy(Ps(Ps({},n),{readerTypeFunction:"text"}))},mL=Rb,vL=function(){var n=U.useContext(iu).state,e=n.currentDocument,t=n.pluginRenderers,r=U.useState(),i=r[0],s=r[1];return U.useEffect(function(){if(e){if(!e.fileType){s(void 0);return}var o=[];t==null||t.map(function(l){e.fileType!==void 0&&l.fileTypes.indexOf(e.fileType)>=0&&o.push(l)});var a=o.sort(function(l,c){return c.weight-l.weight})[0];s(a&&a!==void 0?function(){return a}:null)}},[e]),{CurrentRenderer:i}},Yu=function(){return Yu=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Yu.apply(this,arguments)},yL=function(){var n=U.useContext(iu),e=n.state,t=n.dispatch,r=e.currentFileNo,i=e.currentDocument,s=vL().CurrentRenderer,o=(i==null?void 0:i.uri)||"";return U.useEffect(function(){if(i&&i.fileType===void 0){var a=new AbortController,l=a.signal;return fetch(o,{method:"HEAD",signal:l}).then(function(c){var h=c.headers.get("content-type"),d=(h==null?void 0:h.split(";"))||[],f=d.length?d[0]:void 0;t(_w(Yu(Yu({},i),{fileType:f||void 0})))}),function(){a.abort()}}},[r,o]),U.useEffect(function(){var a;if(!(!i||s===void 0)){var l=new AbortController,c=l.signal,h=function(d){if(!i||!d){t(Qg(!1));return}var f=Yu({},i);d.result!==null&&(f.fileData=d.result),t(_w(f)),t(Qg(!1))};return s===null?t(Qg(!1)):s.fileLoader!==void 0?(a=s.fileLoader)===null||a===void 0||a.call(s,{documentURI:o,signal:c,fileLoaderComplete:h}):mL({documentURI:o,signal:c,fileLoaderComplete:h}),function(){l.abort()}}},[s]),{state:e,dispatch:t,CurrentRenderer:s}},wL=function(){var n=U.useState({width:void 0,height:void 0}),e=n[0],t=n[1];return U.useEffect(function(){function r(){t({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",r),r(),function(){return window.removeEventListener("resize",r)}},[]),e},Jh=function(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n},_L=function(){var n=yL(),e=n.state,t=n.dispatch,r=n.CurrentRenderer,i=e.documents,s=e.documentLoading,o=e.currentDocument,a=wL(),l=U.useCallback(function(h){h&&t(XP(h==null?void 0:h.getBoundingClientRect()))},[a]),c=function(){return i.length?s?D.createElement(AL,{id:"loading-renderer","data-testid":"loading-renderer"},D.createElement(SL,null,D.createElement(rL,{color:"#444",size:40}))):r?D.createElement(r,{mainState:e}):r===void 0?null:D.createElement("div",{id:"no-renderer","data-testid":"no-renderer"},"No Renderer for file type ",o==null?void 0:o.fileType,D.createElement(xL,{id:"no-renderer-download",href:o==null?void 0:o.uri,download:o==null?void 0:o.uri},"Download File")):D.createElement("div",{id:"no-documents"})};return D.createElement(EL,{id:"proxy-renderer",ref:l},D.createElement(c,null))},EL=pe.div(Iw||(Iw=Jh([`
  display: flex;
  flex: 1;
  overflow-y: auto;
`],[`
  display: flex;
  flex: 1;
  overflow-y: auto;
`]))),AL=pe.div(Mw||(Mw=Jh([`
  display: flex;
  flex: 1;
  height: 75px;
  align-items: center;
  justify-content: center;
`],[`
  display: flex;
  flex: 1;
  height: 75px;
  align-items: center;
  justify-content: center;
`]))),bL=WP(Ow||(Ow=Jh([`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`],[`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`]))),SL=pe.div(Dw||(Dw=Jh([`
  animation-name: `,`;
  animation-duration: 4s;
  animation-timing-function: linear;
  animation-iteration-count: infinite;
`],[`
  animation-name: `,`;
  animation-duration: 4s;
  animation-timing-function: linear;
  animation-iteration-count: infinite;
`])),bL),xL=pe(Tb)(Nw||(Nw=Jh([`
  width: 130px;
  height: 30px;
  background-color: `,`;
  @media (max-width: 768px) {
    width: 125px;
    height: 25px;
  }
`],[`
  width: 130px;
  height: 30px;
  background-color: `,`;
  @media (max-width: 768px) {
    width: 125px;
    height: 25px;
  }
`])),function(n){return n.theme.primary}),Iw,Mw,Ow,Dw,Nw,Ib=function(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n},i0=function(){return i0=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},i0.apply(this,arguments)},ta=function(n){var e=n.mainState.currentDocument,t=n.children;return e?D.createElement(CL,i0({id:"image-renderer"},n),t||D.createElement(TL,{id:"image-img",src:e.fileData})):null};ta.fileTypes=[];ta.weight=0;var CL=pe.div(Fw||(Fw=Ib([`
  display: flex;
  flex: 1;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: 100%;
  background-color: #fff;
`],[`
  display: flex;
  flex: 1;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: 100%;
  background-color: #fff;
`]))),TL=pe.img(Bw||(Bw=Ib([`
  max-width: 95%;
  max-height: 95%;
`],[`
  max-width: 95%;
  max-height: 95%;
`]))),Fw,Bw,s0=function(){return s0=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},s0.apply(this,arguments)},My=function(n){return D.createElement(ta,s0({},n))};My.fileTypes=["bmp","image/bmp"];My.weight=0;var Mb=function(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n},Zp=function(n){var e=n.mainState.currentDocument;return U.useEffect(function(){var t=e==null?void 0:e.fileData,r=(t==null?void 0:t.replace("data:text/html;base64,",""))||"",i=window.atob(r),s=document.getElementById("html-body"),o=(s==null?void 0:s.contentWindow)&&s.contentWindow;if(o){var a=o.document;a.open(),a.write("".concat(i)),a.close()}},[]),D.createElement(kL,{id:"html-renderer"},D.createElement(PL,{id:"html-body",sandbox:"allow-same-origin"}))};Zp.fileTypes=["htm","html","text/htm","text/html"];Zp.weight=0;Zp.fileLoader=Rb;var kL=pe.div(jw||(jw=Mb([`
  display: flex;
  flex-direction: column;
  width: 100%;
  padding: 0 30px;
`],[`
  display: flex;
  flex-direction: column;
  width: 100%;
  padding: 0 30px;
`]))),PL=pe.iframe(zw||(zw=Mb([`
  height: 100%;
  padding: 15px;
  margin: 20px 0 20px 0;
  border: 1px solid `,`;
`],[`
  height: 100%;
  padding: 15px;
  margin: 20px 0 20px 0;
  border: 1px solid `,`;
`])),function(n){return n.theme.secondary}),jw,zw,o0=function(){return o0=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},o0.apply(this,arguments)},Oy=function(n){return D.createElement(ta,o0({},n))};Oy.fileTypes=["jpg","jpeg","image/jpg","image/jpeg"];Oy.weight=0;var Ob=function(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n},ma=function(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))},Jp=function(n){var e=n.mainState.currentDocument;return e?D.createElement(LL,{id:"msdoc-renderer"},D.createElement(RL,{id:"msdoc-iframe",title:"msdoc-iframe",src:"https://view.officeapps.live.com/op/embed.aspx?src=".concat(encodeURIComponent(e.uri)),frameBorder:"0"})):null},va={doc:["doc","application/msword"],docx:["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],xls:["xls","application/vnd.ms-excel"],xlsx:["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],ppt:["ppt","application/vnd.ms-powerpoint"],pptx:["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"]};Jp.fileTypes=ma(ma(ma(ma(ma(ma([],va.doc,!0),va.docx,!0),va.xls,!0),va.xlsx,!0),va.ppt,!0),va.pptx,!0);Jp.weight=0;Jp.fileLoader=function(n){var e=n.fileLoaderComplete;return e()};var LL=pe.div($w||($w=Ob([`
  width: 100%;
`],[`
  width: 100%;
`]))),RL=pe.iframe(Uw||(Uw=Ob([`
  width: 100%;
  height: 100%;
  border: 0;
`],[`
  width: 100%;
  height: 100%;
  border: 0;
`]))),$w,Uw,Dy={},Db={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(U_,function(){var t=function(r,i,s){this._byteOffset=i||0,r instanceof ArrayBuffer?this.buffer=r:typeof r=="object"?(this.dataView=r,i&&(this._byteOffset+=i)):this.buffer=new ArrayBuffer(r||1),this.position=0,this.endianness=s??t.LITTLE_ENDIAN};return t.prototype={},Uint8Array.prototype.BYTES_PER_ELEMENT===void 0&&(Uint8Array.prototype.BYTES_PER_ELEMENT=Uint8Array.BYTES_PER_ELEMENT,Int8Array.prototype.BYTES_PER_ELEMENT=Int8Array.BYTES_PER_ELEMENT,Uint8ClampedArray.prototype.BYTES_PER_ELEMENT=Uint8ClampedArray.BYTES_PER_ELEMENT,Uint16Array.prototype.BYTES_PER_ELEMENT=Uint16Array.BYTES_PER_ELEMENT,Int16Array.prototype.BYTES_PER_ELEMENT=Int16Array.BYTES_PER_ELEMENT,Uint32Array.prototype.BYTES_PER_ELEMENT=Uint32Array.BYTES_PER_ELEMENT,Int32Array.prototype.BYTES_PER_ELEMENT=Int32Array.BYTES_PER_ELEMENT,Float64Array.prototype.BYTES_PER_ELEMENT=Float64Array.BYTES_PER_ELEMENT),t.prototype.save=function(r){var i=new Blob(this.buffer),s=window.webkitURL||window.URL;if(s&&s.createObjectURL){var o=s.createObjectURL(i),a=document.createElement("a");a.setAttribute("href",o),a.setAttribute("download",r),a.click(),s.revokeObjectURL(o)}else throw"DataStream.save: Can't create object URL."},t.BIG_ENDIAN=!1,t.LITTLE_ENDIAN=!0,t.prototype._dynamicSize=!0,Object.defineProperty(t.prototype,"dynamicSize",{get:function(){return this._dynamicSize},set:function(r){r||this._trimAlloc(),this._dynamicSize=r}}),t.prototype._byteLength=0,Object.defineProperty(t.prototype,"byteLength",{get:function(){return this._byteLength-this._byteOffset}}),Object.defineProperty(t.prototype,"buffer",{get:function(){return this._trimAlloc(),this._buffer},set:function(r){this._buffer=r,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._buffer.byteLength}}),Object.defineProperty(t.prototype,"byteOffset",{get:function(){return this._byteOffset},set:function(r){this._byteOffset=r,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._buffer.byteLength}}),Object.defineProperty(t.prototype,"dataView",{get:function(){return this._dataView},set:function(r){this._byteOffset=r.byteOffset,this._buffer=r.buffer,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._byteOffset+r.byteLength}}),t.prototype._realloc=function(r){if(this._dynamicSize){var i=this._byteOffset+this.position+r,s=this._buffer.byteLength;if(i<=s){i>this._byteLength&&(this._byteLength=i);return}for(s<1&&(s=1);i>s;)s*=2;var o=new ArrayBuffer(s),a=new Uint8Array(this._buffer),l=new Uint8Array(o,0,a.length);l.set(a),this.buffer=o,this._byteLength=i}},t.prototype._trimAlloc=function(){if(this._byteLength!=this._buffer.byteLength){var r=new ArrayBuffer(this._byteLength),i=new Uint8Array(r),s=new Uint8Array(this._buffer,0,i.length);i.set(s),this.buffer=r}},t.prototype.seek=function(r){var i=Math.max(0,Math.min(this.byteLength,r));this.position=isNaN(i)||!isFinite(i)?0:i},t.prototype.isEof=function(){return this.position>=this.byteLength},t.prototype.mapInt32Array=function(r,i){this._realloc(r*4);var s=new Int32Array(this._buffer,this.byteOffset+this.position,r);return t.arrayToNative(s,i??this.endianness),this.position+=r*4,s},t.prototype.mapInt16Array=function(r,i){this._realloc(r*2);var s=new Int16Array(this._buffer,this.byteOffset+this.position,r);return t.arrayToNative(s,i??this.endianness),this.position+=r*2,s},t.prototype.mapInt8Array=function(r){this._realloc(r*1);var i=new Int8Array(this._buffer,this.byteOffset+this.position,r);return this.position+=r*1,i},t.prototype.mapUint32Array=function(r,i){this._realloc(r*4);var s=new Uint32Array(this._buffer,this.byteOffset+this.position,r);return t.arrayToNative(s,i??this.endianness),this.position+=r*4,s},t.prototype.mapUint16Array=function(r,i){this._realloc(r*2);var s=new Uint16Array(this._buffer,this.byteOffset+this.position,r);return t.arrayToNative(s,i??this.endianness),this.position+=r*2,s},t.prototype.mapUint8Array=function(r){this._realloc(r*1);var i=new Uint8Array(this._buffer,this.byteOffset+this.position,r);return this.position+=r*1,i},t.prototype.mapFloat64Array=function(r,i){this._realloc(r*8);var s=new Float64Array(this._buffer,this.byteOffset+this.position,r);return t.arrayToNative(s,i??this.endianness),this.position+=r*8,s},t.prototype.mapFloat32Array=function(r,i){this._realloc(r*4);var s=new Float32Array(this._buffer,this.byteOffset+this.position,r);return t.arrayToNative(s,i??this.endianness),this.position+=r*4,s},t.prototype.readInt32Array=function(r,i){r=r??this.byteLength-this.position/4;var s=new Int32Array(r);return t.memcpy(s.buffer,0,this.buffer,this.byteOffset+this.position,r*s.BYTES_PER_ELEMENT),t.arrayToNative(s,i??this.endianness),this.position+=s.byteLength,s},t.prototype.readInt16Array=function(r,i){r=r??this.byteLength-this.position/2;var s=new Int16Array(r);return t.memcpy(s.buffer,0,this.buffer,this.byteOffset+this.position,r*s.BYTES_PER_ELEMENT),t.arrayToNative(s,i??this.endianness),this.position+=s.byteLength,s},t.prototype.readInt8Array=function(r){r=r??this.byteLength-this.position;var i=new Int8Array(r);return t.memcpy(i.buffer,0,this.buffer,this.byteOffset+this.position,r*i.BYTES_PER_ELEMENT),this.position+=i.byteLength,i},t.prototype.readUint32Array=function(r,i){r=r??this.byteLength-this.position/4;var s=new Uint32Array(r);return t.memcpy(s.buffer,0,this.buffer,this.byteOffset+this.position,r*s.BYTES_PER_ELEMENT),t.arrayToNative(s,i??this.endianness),this.position+=s.byteLength,s},t.prototype.readUint16Array=function(r,i){r=r??this.byteLength-this.position/2;var s=new Uint16Array(r);return t.memcpy(s.buffer,0,this.buffer,this.byteOffset+this.position,r*s.BYTES_PER_ELEMENT),t.arrayToNative(s,i??this.endianness),this.position+=s.byteLength,s},t.prototype.readUint8Array=function(r){r=r??this.byteLength-this.position;var i=new Uint8Array(r);return t.memcpy(i.buffer,0,this.buffer,this.byteOffset+this.position,r*i.BYTES_PER_ELEMENT),this.position+=i.byteLength,i},t.prototype.readFloat64Array=function(r,i){r=r??this.byteLength-this.position/8;var s=new Float64Array(r);return t.memcpy(s.buffer,0,this.buffer,this.byteOffset+this.position,r*s.BYTES_PER_ELEMENT),t.arrayToNative(s,i??this.endianness),this.position+=s.byteLength,s},t.prototype.readFloat32Array=function(r,i){r=r??this.byteLength-this.position/4;var s=new Float32Array(r);return t.memcpy(s.buffer,0,this.buffer,this.byteOffset+this.position,r*s.BYTES_PER_ELEMENT),t.arrayToNative(s,i??this.endianness),this.position+=s.byteLength,s},t.prototype.writeInt32Array=function(r,i){if(this._realloc(r.length*4),r instanceof Int32Array&&this.byteOffset+this.position%r.BYTES_PER_ELEMENT==0)t.memcpy(this._buffer,this.byteOffset+this.position,r.buffer,0,r.byteLength),this.mapInt32Array(r.length,i);else for(var s=0;s<r.length;s++)this.writeInt32(r[s],i)},t.prototype.writeInt16Array=function(r,i){if(this._realloc(r.length*2),r instanceof Int16Array&&this.byteOffset+this.position%r.BYTES_PER_ELEMENT==0)t.memcpy(this._buffer,this.byteOffset+this.position,r.buffer,0,r.byteLength),this.mapInt16Array(r.length,i);else for(var s=0;s<r.length;s++)this.writeInt16(r[s],i)},t.prototype.writeInt8Array=function(r){if(this._realloc(r.length*1),r instanceof Int8Array&&this.byteOffset+this.position%r.BYTES_PER_ELEMENT==0)t.memcpy(this._buffer,this.byteOffset+this.position,r.buffer,0,r.byteLength),this.mapInt8Array(r.length);else for(var i=0;i<r.length;i++)this.writeInt8(r[i])},t.prototype.writeUint32Array=function(r,i){if(this._realloc(r.length*4),r instanceof Uint32Array&&this.byteOffset+this.position%r.BYTES_PER_ELEMENT==0)t.memcpy(this._buffer,this.byteOffset+this.position,r.buffer,0,r.byteLength),this.mapUint32Array(r.length,i);else for(var s=0;s<r.length;s++)this.writeUint32(r[s],i)},t.prototype.writeUint16Array=function(r,i){if(this._realloc(r.length*2),r instanceof Uint16Array&&this.byteOffset+this.position%r.BYTES_PER_ELEMENT==0)t.memcpy(this._buffer,this.byteOffset+this.position,r.buffer,0,r.byteLength),this.mapUint16Array(r.length,i);else for(var s=0;s<r.length;s++)this.writeUint16(r[s],i)},t.prototype.writeUint8Array=function(r){if(this._realloc(r.length*1),r instanceof Uint8Array&&this.byteOffset+this.position%r.BYTES_PER_ELEMENT==0)t.memcpy(this._buffer,this.byteOffset+this.position,r.buffer,0,r.byteLength),this.mapUint8Array(r.length);else for(var i=0;i<r.length;i++)this.writeUint8(r[i])},t.prototype.writeFloat64Array=function(r,i){if(this._realloc(r.length*8),r instanceof Float64Array&&this.byteOffset+this.position%r.BYTES_PER_ELEMENT==0)t.memcpy(this._buffer,this.byteOffset+this.position,r.buffer,0,r.byteLength),this.mapFloat64Array(r.length,i);else for(var s=0;s<r.length;s++)this.writeFloat64(r[s],i)},t.prototype.writeFloat32Array=function(r,i){if(this._realloc(r.length*4),r instanceof Float32Array&&this.byteOffset+this.position%r.BYTES_PER_ELEMENT==0)t.memcpy(this._buffer,this.byteOffset+this.position,r.buffer,0,r.byteLength),this.mapFloat32Array(r.length,i);else for(var s=0;s<r.length;s++)this.writeFloat32(r[s],i)},t.prototype.readInt32=function(r){var i=this._dataView.getInt32(this.position,r??this.endianness);return this.position+=4,i},t.prototype.readInt=function(r){return this.seek(r),this.readInt32()},t.prototype.readInt16=function(r){var i=this._dataView.getInt16(this.position,r??this.endianness);return this.position+=2,i},t.prototype.readShort=function(r){return this.seek(r),this.readInt16()},t.prototype.readInt8=function(){var r=this._dataView.getInt8(this.position);return this.position+=1,r},t.prototype.readByte=function(r){return this.seek(r),this.readInt8()},t.prototype.readUint32=function(r){var i=this._dataView.getUint32(this.position,r??this.endianness);return this.position+=4,i},t.prototype.readUint16=function(r){var i=this._dataView.getUint16(this.position,r??this.endianness);return this.position+=2,i},t.prototype.readUint8=function(){var r=this._dataView.getUint8(this.position);return this.position+=1,r},t.prototype.readFloat32=function(r){var i=this._dataView.getFloat32(this.position,r??this.endianness);return this.position+=4,i},t.prototype.readFloat64=function(r){var i=this._dataView.getFloat64(this.position,r??this.endianness);return this.position+=8,i},t.prototype.writeInt32=function(r,i){this._realloc(4),this._dataView.setInt32(this.position,r,i??this.endianness),this.position+=4},t.prototype.writeInt16=function(r,i){this._realloc(2),this._dataView.setInt16(this.position,r,i??this.endianness),this.position+=2},t.prototype.writeInt8=function(r){this._realloc(1),this._dataView.setInt8(this.position,r),this.position+=1},t.prototype.writeUint32=function(r,i){this._realloc(4),this._dataView.setUint32(this.position,r,i??this.endianness),this.position+=4},t.prototype.writeUint16=function(r,i){this._realloc(2),this._dataView.setUint16(this.position,r,i??this.endianness),this.position+=2},t.prototype.writeUint8=function(r){this._realloc(1),this._dataView.setUint8(this.position,r),this.position+=1},t.prototype.writeFloat32=function(r,i){this._realloc(4),this._dataView.setFloat32(this.position,r,i??this.endianness),this.position+=4},t.prototype.writeFloat64=function(r,i){this._realloc(8),this._dataView.setFloat64(this.position,r,i??this.endianness),this.position+=8},t.endianness=new Int8Array(new Int16Array([1]).buffer)[0]>0,t.memcpy=function(r,i,s,o,a){var l=new Uint8Array(r,i,a),c=new Uint8Array(s,o,a);l.set(c)},t.arrayToNative=function(r,i){return i==this.endianness?r:this.flipArrayEndianness(r)},t.nativeToEndian=function(r,i){return this.endianness==i?r:this.flipArrayEndianness(r)},t.flipArrayEndianness=function(r){for(var i=new Uint8Array(r.buffer,r.byteOffset,r.byteLength),s=0;s<r.byteLength;s+=r.BYTES_PER_ELEMENT)for(var o=s+r.BYTES_PER_ELEMENT-1,a=s;o>a;o--,a++){var l=i[a];i[a]=i[o],i[o]=l}return r},t.createStringFromArray=function(r){for(var i="",s=0;s<r.length;s++)i+=String.fromCharCode(r[s]);return i},t.prototype.failurePosition=0,t.prototype.readStruct=function(r){for(var i={},s,o,a=this.position,l=0;l<r.length;l+=2){if(s=r[l+1],o=this.readType(s,i),o==null)return this.failurePosition==0&&(this.failurePosition=this.position),this.position=a,null;i[r[l]]=o}return i},t.prototype.readUCS2String=function(r,i){return t.createStringFromArray(this.readUint16Array(r,i))},t.prototype.readStringAt=function(r,i){return this.seek(r),this.readUCS2String(i)},t.prototype.writeUCS2String=function(r,i,s){s==null&&(s=r.length);for(var o=0;o<r.length&&o<s;o++)this.writeUint16(r.charCodeAt(o),i);for(;o<s;o++)this.writeUint16(0)},t.prototype.readString=function(r,i){return i==null||i=="ASCII"?t.createStringFromArray(this.mapUint8Array(r??this.byteLength-this.position)):new TextDecoder(i).decode(this.mapUint8Array(r))},t.prototype.writeString=function(r,i,s){if(i==null||i=="ASCII")if(s!=null){var o=0,a=Math.min(r.length,s);for(o=0;o<a;o++)this.writeUint8(r.charCodeAt(o));for(;o<s;o++)this.writeUint8(0)}else for(var o=0;o<r.length;o++)this.writeUint8(r.charCodeAt(o));else this.writeUint8Array(new TextEncoder(i).encode(r.substring(0,s)))},t.prototype.readCString=function(r){var i=this.byteLength-this.position,s=new Uint8Array(this._buffer,this._byteOffset+this.position),o=i;r!=null&&(o=Math.min(r,i));for(var a=0;a<o&&s[a]!=0;a++);var l=t.createStringFromArray(this.mapUint8Array(a));return r!=null?this.position+=o-a:a!=i&&(this.position+=1),l},t.prototype.writeCString=function(r,i){if(i!=null){var s=0,o=Math.min(r.length,i);for(s=0;s<o;s++)this.writeUint8(r.charCodeAt(s));for(;s<i;s++)this.writeUint8(0)}else{for(var s=0;s<r.length;s++)this.writeUint8(r.charCodeAt(s));this.writeUint8(0)}},t.prototype.readType=function(r,i){if(typeof r=="function")return r(this,i);if(typeof r=="object"&&!(r instanceof Array))return r.get(this,i);if(r instanceof Array&&r.length!=3)return this.readStruct(r,i);var s=null,o=null,a="ASCII",l=this.position,c;if(typeof r=="string"&&/:/.test(r)){var h=r.split(":");r=h[0],c=h[1],i[c]!=null?o=parseInt(i[c]):o=parseInt(h[1])}if(typeof r=="string"&&/,/.test(r)){var h=r.split(",");r=h[0],a=parseInt(h[1])}switch(r){case"uint8":s=this.readUint8();break;case"int8":s=this.readInt8();break;case"uint16":s=this.readUint16(this.endianness);break;case"int16":s=this.readInt16(this.endianness);break;case"uint32":s=this.readUint32(this.endianness);break;case"int32":s=this.readInt32(this.endianness);break;case"float32":s=this.readFloat32(this.endianness);break;case"float64":s=this.readFloat64(this.endianness);break;case"uint16be":s=this.readUint16(t.BIG_ENDIAN);break;case"int16be":s=this.readInt16(t.BIG_ENDIAN);break;case"uint32be":s=this.readUint32(t.BIG_ENDIAN);break;case"int32be":s=this.readInt32(t.BIG_ENDIAN);break;case"float32be":s=this.readFloat32(t.BIG_ENDIAN);break;case"float64be":s=this.readFloat64(t.BIG_ENDIAN);break;case"uint16le":s=this.readUint16(t.LITTLE_ENDIAN);break;case"int16le":s=this.readInt16(t.LITTLE_ENDIAN);break;case"uint32le":s=this.readUint32(t.LITTLE_ENDIAN);break;case"int32le":s=this.readInt32(t.LITTLE_ENDIAN);break;case"float32le":s=this.readFloat32(t.LITTLE_ENDIAN);break;case"float64le":s=this.readFloat64(t.LITTLE_ENDIAN);break;case"cstring":s=this.readCString(o);break;case"string":s=this.readString(o,a);break;case"u16string":s=this.readUCS2String(o,this.endianness);break;case"u16stringle":s=this.readUCS2String(o,t.LITTLE_ENDIAN);break;case"u16stringbe":s=this.readUCS2String(o,t.BIG_ENDIAN);break;default:if(r.length==3){var d=r[1],c=r[2],f=0;if(typeof c=="function"?f=c(i,this,r):typeof c=="string"&&i[c]!=null?f=parseInt(i[c]):f=parseInt(c),typeof d=="string"){var p=d.replace(/(le|be)$/,""),g=null;switch(/le$/.test(d)?g=t.LITTLE_ENDIAN:/be$/.test(d)&&(g=t.BIG_ENDIAN),c=="*"&&(f=null),p){case"uint8":s=this.readUint8Array(f);break;case"uint16":s=this.readUint16Array(f,g);break;case"uint32":s=this.readUint32Array(f,g);break;case"int8":s=this.readInt8Array(f);break;case"int16":s=this.readInt16Array(f,g);break;case"int32":s=this.readInt32Array(f,g);break;case"float32":s=this.readFloat32Array(f,g);break;case"float64":s=this.readFloat64Array(f,g);break;case"cstring":case"utf16string":case"string":if(f==null)for(s=[];!this.isEof();){var y=this.readType(d,i);if(y==null)break;s.push(y)}else{s=new Array(f);for(var b=0;b<f;b++)s[b]=this.readType(d,i)}break}}else if(c=="*")for(s=[],this.buffer;;){var m=this.position;try{var v=this.readType(d,i);if(v==null){this.position=m;break}s.push(v)}catch{this.position=m;break}}else{s=new Array(f);for(var b=0;b<f;b++){var y=this.readType(d,i);if(y==null)return null;s[b]=y}}break}}return o!=null&&(this.position=l+o),s},t.prototype.writeStruct=function(r,i){for(var s=0;s<r.length;s+=2){var o=r[s+1];this.writeType(o,i[r[s]],i)}},t.prototype.writeType=function(r,i,s){if(typeof r=="function")return r(this,i);if(typeof r=="object"&&!(r instanceof Array))return r.set(this,i,s);var o=null,a="ASCII",l=this.position;if(typeof r=="string"&&/:/.test(r)){var c=r.split(":");r=c[0],o=parseInt(c[1])}if(typeof r=="string"&&/,/.test(r)){var c=r.split(",");r=c[0],a=parseInt(c[1])}switch(r){case"uint8":this.writeUint8(i);break;case"int8":this.writeInt8(i);break;case"uint16":this.writeUint16(i,this.endianness);break;case"int16":this.writeInt16(i,this.endianness);break;case"uint32":this.writeUint32(i,this.endianness);break;case"int32":this.writeInt32(i,this.endianness);break;case"float32":this.writeFloat32(i,this.endianness);break;case"float64":this.writeFloat64(i,this.endianness);break;case"uint16be":this.writeUint16(i,t.BIG_ENDIAN);break;case"int16be":this.writeInt16(i,t.BIG_ENDIAN);break;case"uint32be":this.writeUint32(i,t.BIG_ENDIAN);break;case"int32be":this.writeInt32(i,t.BIG_ENDIAN);break;case"float32be":this.writeFloat32(i,t.BIG_ENDIAN);break;case"float64be":this.writeFloat64(i,t.BIG_ENDIAN);break;case"uint16le":this.writeUint16(i,t.LITTLE_ENDIAN);break;case"int16le":this.writeInt16(i,t.LITTLE_ENDIAN);break;case"uint32le":this.writeUint32(i,t.LITTLE_ENDIAN);break;case"int32le":this.writeInt32(i,t.LITTLE_ENDIAN);break;case"float32le":this.writeFloat32(i,t.LITTLE_ENDIAN);break;case"float64le":this.writeFloat64(i,t.LITTLE_ENDIAN);break;case"cstring":this.writeCString(i,o);break;case"string":this.writeString(i,a,o);break;case"u16string":this.writeUCS2String(i,this.endianness,o);break;case"u16stringle":this.writeUCS2String(i,t.LITTLE_ENDIAN,o);break;case"u16stringbe":this.writeUCS2String(i,t.BIG_ENDIAN,o);break;default:if(r.length==3){for(var h=r[1],d=0;d<i.length;d++)this.writeType(h,i[d]);break}else{this.writeStruct(r,i);break}}o!=null&&(this.position=l,this._realloc(o),this.position=l+o)},t})})(Db);var Nb=Db.exports,Fb={exports:{}};(function(n,e){(function(t,r){n.exports=r(Nb)})(U_,function(t){var r={FILE_HEADER:s([208,207,17,224,161,177,26,225]),MSG:{UNUSED_BLOCK:-1,END_OF_CHAIN:-2,S_BIG_BLOCK_SIZE:512,S_BIG_BLOCK_MARK:9,L_BIG_BLOCK_SIZE:4096,L_BIG_BLOCK_MARK:12,SMALL_BLOCK_SIZE:64,BIG_BLOCK_MIN_DOC_SIZE:4096,HEADER:{PROPERTY_START_OFFSET:48,BAT_START_OFFSET:76,BAT_COUNT_OFFSET:44,SBAT_START_OFFSET:60,SBAT_COUNT_OFFSET:64,XBAT_START_OFFSET:68,XBAT_COUNT_OFFSET:72},PROP:{NO_INDEX:-1,PROPERTY_SIZE:128,NAME_SIZE_OFFSET:64,MAX_NAME_LENGTH:31,TYPE_OFFSET:66,PREVIOUS_PROPERTY_OFFSET:68,NEXT_PROPERTY_OFFSET:72,CHILD_PROPERTY_OFFSET:76,START_BLOCK_OFFSET:116,SIZE_OFFSET:120,TYPE_ENUM:{DIRECTORY:1,DOCUMENT:2,ROOT:5}},FIELD:{PREFIX:{ATTACHMENT:"__attach_version1.0",RECIPIENT:"__recip_version1.0",DOCUMENT:"__substg1."},NAME_MAPPING:{"0037":"subject","0c1a":"senderName","5d02":"senderEmail",1e3:"body","007d":"headers",3703:"extension",3704:"fileNameShort",3707:"fileName",3712:"pidContentId",3001:"name","39fe":"email"},CLASS_MAPPING:{ATTACHMENT_DATA:"3701"},TYPE_MAPPING:{"001e":"string","001f":"unicode","0102":"binary"},DIR_TYPE:{INNER_MSG:"000d"}}}};function i(x,T){if(x===T)return!0;if(x==null||T==null||x.length!=T.length)return!1;for(var L=0;L<x.length;L++)if(x[L]!==T[L])return!1;return!0}function s(x){for(var T=new Array(x.length),L=0;L<x.length;L++)T[L]=x[L]<<24>>24;return T}function o(x){return x.seek(0),i(r.FILE_HEADER,x.readInt8Array(r.FILE_HEADER.length))}function a(x,T){return(T+1)*x.bigBlockSize}function l(x,T,L){var F=a(T,L);return x.seek(F),x.readInt32Array(T.bigBlockLength)}function c(x,T,L,F){var R=Math.floor(L/T.bigBlockLength),O=L%T.bigBlockLength,B=F[R];return l(x,T,B)[O]}function h(x,T,L){return c(x,T,L,T.batData)}function d(x,T,L){return c(x,T,L,T.sbatData)}function f(x){var T=p(x);return T.batData=y(x,T),T.sbatData=b(x,T),T.xbatCount>0&&m(x,T),T.propertyData=v(x,T),T.fieldsData=I(x,T),T}function p(x){var T={};return T.bigBlockSize=x.readByte(30)==r.MSG.L_BIG_BLOCK_MARK?r.MSG.L_BIG_BLOCK_SIZE:r.MSG.S_BIG_BLOCK_SIZE,T.bigBlockLength=T.bigBlockSize/4,T.xBlockLength=T.bigBlockLength-1,T.batCount=x.readInt(r.MSG.HEADER.BAT_COUNT_OFFSET),T.propertyStart=x.readInt(r.MSG.HEADER.PROPERTY_START_OFFSET),T.sbatStart=x.readInt(r.MSG.HEADER.SBAT_START_OFFSET),T.sbatCount=x.readInt(r.MSG.HEADER.SBAT_COUNT_OFFSET),T.xbatStart=x.readInt(r.MSG.HEADER.XBAT_START_OFFSET),T.xbatCount=x.readInt(r.MSG.HEADER.XBAT_COUNT_OFFSET),T}function g(x){var T=(r.MSG.S_BIG_BLOCK_SIZE-r.MSG.HEADER.BAT_START_OFFSET)/4;return Math.min(x.batCount,T)}function y(x,T){var L=new Array(g(T));x.seek(r.MSG.HEADER.BAT_START_OFFSET);for(var F=0;F<L.length;F++)L[F]=x.readInt32();return L}function b(x,T){for(var L=[],F=T.sbatStart,R=0;R<T.sbatCount&&F!=r.MSG.END_OF_CHAIN;R++)L.push(F),F=h(x,T,F);return L}function m(x,T){for(var L=g(T),F=T.batCount,R=F-L,O=T.xbatStart,B=0;B<T.xbatCount;B++){var K=l(x,T,O);O=K[T.xBlockLength];for(var P=Math.min(R,T.xBlockLength),G=0;G<P;G++){var $=K[G];if($==r.MSG.UNUSED_BLOCK||$==r.MSG.END_OF_CHAIN)break;T.batData.push($)}R-=P}}function v(x,T){for(var L=[],F=T.propertyStart;F!=r.MSG.END_OF_CHAIN;)C(x,T,F,L),F=h(x,T,F);return k(L,L[0]),L}function A(x,T){var L=x.readShort(T+r.MSG.PROP.NAME_SIZE_OFFSET);return L<1?"":x.readStringAt(T,L/2)}function S(x,T,L){return{index:T,type:x.readByte(L+r.MSG.PROP.TYPE_OFFSET),name:A(x,L),previousProperty:x.readInt(L+r.MSG.PROP.PREVIOUS_PROPERTY_OFFSET),nextProperty:x.readInt(L+r.MSG.PROP.NEXT_PROPERTY_OFFSET),childProperty:x.readInt(L+r.MSG.PROP.CHILD_PROPERTY_OFFSET),startBlock:x.readInt(L+r.MSG.PROP.START_BLOCK_OFFSET),sizeBlock:x.readInt(L+r.MSG.PROP.SIZE_OFFSET)}}function C(x,T,L,F){for(var R=T.bigBlockSize/r.MSG.PROP.PROPERTY_SIZE,O=a(T,L),B=0;B<R;B++){var K=x.readByte(O+r.MSG.PROP.TYPE_OFFSET);switch(K){case r.MSG.PROP.TYPE_ENUM.ROOT:case r.MSG.PROP.TYPE_ENUM.DIRECTORY:case r.MSG.PROP.TYPE_ENUM.DOCUMENT:F.push(S(x,F.length,O));break;default:F.push(null)}O+=r.MSG.PROP.PROPERTY_SIZE}}function k(x,T){if(T.childProperty!=r.MSG.PROP.NO_INDEX){T.children=[];for(var L=[T.childProperty];L.length!=0;){var F=L.shift(),R=x[F];R!=null&&(T.children.push(F),R.type==r.MSG.PROP.TYPE_ENUM.DIRECTORY&&k(x,R),R.previousProperty!=r.MSG.PROP.NO_INDEX&&L.push(R.previousProperty),R.nextProperty!=r.MSG.PROP.NO_INDEX&&L.push(R.nextProperty))}}}function I(x,T){var L={attachments:[],recipients:[]};return M(x,T,T.propertyData[0],L),L}function M(x,T,L,F){if(L.children&&L.children.length>0)for(var R=0;R<L.children.length;R++){var O=T.propertyData[L.children[R]];O.type==r.MSG.PROP.TYPE_ENUM.DIRECTORY?z(x,T,O,F):O.type==r.MSG.PROP.TYPE_ENUM.DOCUMENT&&O.name.indexOf(r.MSG.FIELD.PREFIX.DOCUMENT)==0&&j(x,T,O,F)}}function z(x,T,L,F){if(L.name.indexOf(r.MSG.FIELD.PREFIX.ATTACHMENT)==0){var R={};F.attachments.push(R),M(x,T,L,R)}else if(L.name.indexOf(r.MSG.FIELD.PREFIX.RECIPIENT)==0){var O={};F.recipients.push(O),M(x,T,L,O)}else{var B=N(L);B!=r.MSG.FIELD.DIR_TYPE.INNER_MSG?M(x,T,L,F):F.innerMsgContent=!0}}function j(x,T,L,F){var R=L.name.substring(12).toLowerCase(),O=R.substring(0,4),B=R.substring(4,8),K=r.MSG.FIELD.NAME_MAPPING[O];K&&(F[K]=le(x,T,L,B)),O==r.MSG.FIELD.CLASS_MAPPING.ATTACHMENT_DATA&&(F.dataId=L.index,F.contentLength=L.sizeBlock)}function N(x){var T=x.name.substring(12).toLowerCase();return T.substring(4,8)}var X={sbat:{extractor:function(T,L,F,R){var O=ee(T,L,F);return O.length==1?q(T,L,F.startBlock,F.sizeBlock,R):O.length>1?Q(T,L,F,O,R):null},dataType:{string:function(T,L,F,R,O){return T.seek(F+R),T.readString(O)},unicode:function(T,L,F,R,O){return T.seek(F+R),T.readUCS2String(O/2)},binary:function(T,L,F,R,O){T.seek(F+R);var B=Math.min(Math.min(L.bigBlockSize-R,O),r.MSG.SMALL_BLOCK_SIZE);return T.readUint8Array(B)}}},bat:{extractor:function(T,L,F,R){var O=a(L,F.startBlock);return T.seek(O),R(T,F)},dataType:{string:function(T,L){return T.readString(L.sizeBlock)},unicode:function(T,L){return T.readUCS2String(L.sizeBlock/2)},binary:function(T,L){return T.readUint8Array(L.sizeBlock)}}}};function q(x,T,L,F,R){for(var O=L*r.MSG.SMALL_BLOCK_SIZE,B=Math.floor(O/T.bigBlockSize),K=O%T.bigBlockSize,P=T.propertyData[0],G=P.startBlock,$=0;$<B;$++)G=h(x,T,G);var ge=a(T,G);return R(x,T,ge,K,F)}function Q(x,T,L,F,R){for(var O=new Int8Array(L.sizeBlock),B=0,K=0;B<F.length;B++)for(var P=q(x,T,F[B],r.MSG.SMALL_BLOCK_SIZE,X.sbat.dataType.binary),G=0;G<P.length;G++)O[K++]=P[G];var $=new t(O,0,t.LITTLE_ENDIAN);return R($,T,0,0,L.sizeBlock)}function ee(x,T,L){for(var F=[],R=L.startBlock;R!=r.MSG.END_OF_CHAIN;)F.push(R),R=d(x,T,R);return F}function le(x,T,L,F){var R=null,O=L.sizeBlock<r.MSG.BIG_BLOCK_MIN_DOC_SIZE?X.sbat:X.bat,B=O.dataType[r.MSG.FIELD.TYPE_MAPPING[F]];return B&&(R=O.extractor(x,T,L,B)),R}var V=function(x){this.ds=new t(x,0,t.LITTLE_ENDIAN)};return V.prototype={getFileData:function(){return o(this.ds)?(this.fileData==null&&(this.fileData=f(this.ds)),this.fileData.fieldsData):{error:"Unsupported file type!"}},getAttachment:function(x){var T=typeof x=="number"?this.fileData.fieldsData.attachments[x]:x,L=this.fileData.propertyData[T.dataId],F=le(this.ds,this.fileData,L,N(L));return{fileName:T.fileName,content:F}}},V})})(Fb);var IL=Fb.exports;Object.defineProperty(Dy,"__esModule",{value:!0});Dy.DataStream=Nb;var ML=Dy.MSGReader=IL,eg=function(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n},tg=function(n){var e=n.mainState.currentDocument,t=U.useState(),r=t[0],i=t[1];if(U.useEffect(function(){if(!(!e||!e.fileData)){var h=new ML(e.fileData).getFileData();i(h)}},[e==null?void 0:e.fileData]),U.useEffect(function(){if(!(!r||r.hasOwnProperty("error"))){var h=document.getElementById("msg-body"),d=(h==null?void 0:h.contentWindow)&&h.contentWindow;if(d){var f=d.document,p=r.body.replace(/(\r\n|\n|\r)/gm,"<br />");f.open(),f.write("".concat(p)),f.close()}}},[r]),!r||r.hasOwnProperty("error"))return D.createElement("span",null,r==null?void 0:r.error);var s=r,o=s.recipients,a=s.subject,l=s.senderEmail,c=s.senderName;return D.createElement(DL,{id:"msg-renderer"},D.createElement("h2",{id:"msg-subject-title",style:{marginBottom:0}},a),D.createElement(OL,{name:c,email:l}),D.createElement(FL,{id:"msg-recipient"},D.createElement("h3",{id:"msg-recipient-title"},"Recipients"),D.createElement("ul",{id:"msg-recipient-ul"},o.map(function(h,d){return D.createElement("li",{key:d,id:"msg-recipient-li"},D.createElement("span",{id:"msg-recipient-name"},h.name),h.hasOwnProperty("email")&&D.createElement("span",{id:"msg-recipient-email"}," - ",h.email))}))),D.createElement(BL,{id:"msg-body",sandbox:"allow-same-origin"}))},OL=function(n){var e=n.name,t=n.email;return!e&&!t?null:D.createElement(NL,{id:"msg-sender"},D.createElement("h3",{id:"msg-sender-title"},"Sender"),e!==void 0&&D.createElement("div",{id:"msg-sender-name"},e),t!==void 0&&D.createElement("div",{id:"msg-sender-email"},t))};tg.fileTypes=["msg","application/vnd.ms-outlook"];tg.weight=0;tg.fileLoader=Lb;var DL=pe.div(Hw||(Hw=eg([`
  display: flex;
  flex-direction: column;
  width: 100%;
  padding: 0 30px;
`],[`
  display: flex;
  flex-direction: column;
  width: 100%;
  padding: 0 30px;
`]))),NL=pe.div(Vw||(Vw=eg([`
  padding: 0 15px 15px 15px;
  margin-top: 20px;
  border: 1px solid `,`;
`],[`
  padding: 0 15px 15px 15px;
  margin-top: 20px;
  border: 1px solid `,`;
`])),function(n){return n.theme.secondary}),FL=pe.div(Gw||(Gw=eg([`
  padding: 0 15px;
  margin-top: 20px;
  border: 1px solid `,`;
`],[`
  padding: 0 15px;
  margin-top: 20px;
  border: 1px solid `,`;
`])),function(n){return n.theme.secondary}),BL=pe.iframe(Ww||(Ww=eg([`
  height: 100%;
  padding: 15px;
  margin: 20px 0 20px 0;
  border: 1px solid `,`;
`],[`
  height: 100%;
  padding: 15px;
  margin: 20px 0 20px 0;
  border: 1px solid `,`;
`])),function(n){return n.theme.secondary}),Hw,Vw,Gw,Ww;const jL="modulepreload",zL=function(n){return"/"+n},Yw={},Td=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.all(t.map(a=>{if(a=zL(a),a in Yw)return;Yw[a]=!0;const l=a.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${c}`))return;const h=document.createElement("link");if(h.rel=l?"stylesheet":jL,l||(h.as="script",h.crossOrigin=""),h.href=a,o&&h.setAttribute("nonce",o),document.head.appendChild(h),l)return new Promise((d,f)=>{h.addEventListener("load",d),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${a}`)))})}))}return i.then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};var Xu={};Xu.d=(n,e)=>{for(var t in e)Xu.o(e,t)&&!Xu.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})};Xu.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var ue=globalThis.pdfjsLib={};Xu.d(ue,{AbortException:()=>ha,AnnotationEditorLayer:()=>yv,AnnotationEditorParamsType:()=>he,AnnotationEditorType:()=>be,AnnotationEditorUIManager:()=>ra,AnnotationLayer:()=>BI,AnnotationMode:()=>Xi,CMapCompressionType:()=>l0,ColorPicker:()=>Jf,DOMSVGFactory:()=>By,DrawLayer:()=>Av,FeatureTest:()=>un,GlobalWorkerOptions:()=>Ti,ImageKind:()=>Yd,InvalidPDFException:()=>jb,MissingPDFException:()=>ca,OPS:()=>Zn,Outliner:()=>J0,PDFDataRangeTransport:()=>RS,PDFDateString:()=>Wb,PDFWorker:()=>Wa,PasswordResponses:()=>VL,PermissionFlag:()=>HL,PixelsPerInch:()=>Ls,RenderingCancelledException:()=>jy,TextLayer:()=>Qf,UnexpectedResponseException:()=>sg,Util:()=>te,VerbosityLevel:()=>ng,XfaLayer:()=>MS,build:()=>yI,createValidAbsoluteUrl:()=>XL,fetchData:()=>hg,getDocument:()=>uI,getFilenameFromUrl:()=>iR,getPdfFilenameFromUrl:()=>sR,getXfaPageViewport:()=>oR,isDataScheme:()=>zy,isPdfFile:()=>$y,noContextMenu:()=>pn,normalizeUnicode:()=>eR,renderTextLayer:()=>eI,setLayerDimensions:()=>na,shadow:()=>Se,updateTextLayer:()=>tI,version:()=>vI});const $t=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),Bb=[1,0,0,1,0,0],a0=[.001,0,0,.001,0,0],$L=1e7,Zg=1.35,zn={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},Xi={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},UL="pdfjs_internal_editor_",be={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},he={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},HL={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Dt={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Yd={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},at={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},gu={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},ng={ERRORS:0,WARNINGS:1,INFOS:5},l0={NONE:0,BINARY:1},Zn={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},VL={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let rg=ng.WARNINGS;function GL(n){Number.isInteger(n)&&(rg=n)}function WL(){return rg}function ig(n){rg>=ng.INFOS&&console.log(`Info: ${n}`)}function fe(n){rg>=ng.WARNINGS&&console.log(`Warning: ${n}`)}function De(n){throw new Error(n)}function ft(n,e){n||De(e)}function YL(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function XL(n,e=null,t=null){if(!n)return null;try{if(t&&typeof n=="string"){if(t.addDefaultProtocol&&n.startsWith("www.")){const i=n.match(/\./g);(i==null?void 0:i.length)>=2&&(n=`http://${n}`)}if(t.tryConvertEncoding)try{n=JL(n)}catch{}}const r=e?new URL(n,e):new URL(n);if(YL(r))return r}catch{}return null}function Se(n,e,t,r=!1){return Object.defineProperty(n,e,{value:t,enumerable:!r,configurable:!0,writable:!1}),t}const Ns=function(){function e(t,r){this.constructor===e&&De("Cannot initialize BaseException."),this.message=t,this.name=r}return e.prototype=new Error,e.constructor=e,e}();class u0 extends Ns{constructor(e,t){super(e,"PasswordException"),this.code=t}}class c0 extends Ns{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class jb extends Ns{constructor(e){super(e,"InvalidPDFException")}}class ca extends Ns{constructor(e){super(e,"MissingPDFException")}}class sg extends Ns{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class KL extends Ns{constructor(e){super(e,"FormatError")}}class ha extends Ns{constructor(e){super(e,"AbortException")}}function zb(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&De("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const r=[];for(let i=0;i<e;i+=t){const s=Math.min(i+t,e),o=n.subarray(i,s);r.push(String.fromCharCode.apply(null,o))}return r.join("")}function og(n){typeof n!="string"&&De("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let r=0;r<e;++r)t[r]=n.charCodeAt(r)&255;return t}function qL(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function Ny(n){const e=Object.create(null);for(const[t,r]of n)e[t]=r;return e}function QL(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function ZL(){try{return new Function(""),!0}catch{return!1}}class un{static get isLittleEndian(){return Se(this,"isLittleEndian",QL())}static get isEvalSupported(){return Se(this,"isEvalSupported",ZL())}static get isOffscreenCanvasSupported(){return Se(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?Se(this,"platform",{isMac:navigator.platform.includes("Mac")}):Se(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){var e,t;return Se(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const Jg=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var Pi,Xd,h0;class te{static makeHexColor(e,t,r){return`#${Jg[e]}${Jg[t]}${Jg[r]}`}static scaleMinMax(e,t){let r;e[0]?(e[0]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[3],t[3]*=e[3]):(r=t[0],t[0]=t[1],t[1]=r,r=t[2],t[2]=t[3],t[3]=r,e[1]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){const r=e[0]*t[0]+e[1]*t[2]+t[4],i=e[0]*t[1]+e[1]*t[3]+t[5];return[r,i]}static applyInverseTransform(e,t){const r=t[0]*t[3]-t[1]*t[2],i=(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/r,s=(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/r;return[i,s]}static getAxialAlignedBoundingBox(e,t){const r=this.applyTransform(e,t),i=this.applyTransform(e.slice(2,4),t),s=this.applyTransform([e[0],e[3]],t),o=this.applyTransform([e[2],e[1]],t);return[Math.min(r[0],i[0],s[0],o[0]),Math.min(r[1],i[1],s[1],o[1]),Math.max(r[0],i[0],s[0],o[0]),Math.max(r[1],i[1],s[1],o[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],r=e[0]*t[0]+e[1]*t[2],i=e[0]*t[1]+e[1]*t[3],s=e[2]*t[0]+e[3]*t[2],o=e[2]*t[1]+e[3]*t[3],a=(r+o)/2,l=Math.sqrt((r+o)**2-4*(r*o-s*i))/2,c=a+l||1,h=a-l||1;return[Math.sqrt(c),Math.sqrt(h)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const r=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(r>i)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),o=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>o?null:[r,s,i,o]}static bezierBoundingBox(e,t,r,i,s,o,a,l,c){return c?(c[0]=Math.min(c[0],e,a),c[1]=Math.min(c[1],t,l),c[2]=Math.max(c[2],e,a),c[3]=Math.max(c[3],t,l)):c=[Math.min(e,a),Math.min(t,l),Math.max(e,a),Math.max(t,l)],_(this,Pi,h0).call(this,e,r,s,a,t,i,o,l,3*(-e+3*(r-s)+a),6*(e-2*r+s),3*(r-e),c),_(this,Pi,h0).call(this,e,r,s,a,t,i,o,l,3*(-t+3*(i-o)+l),6*(t-2*i+o),3*(i-t),c),c}}Pi=new WeakSet,Xd=function(e,t,r,i,s,o,a,l,c,h){if(c<=0||c>=1)return;const d=1-c,f=c*c,p=f*c,g=d*(d*(d*e+3*c*t)+3*f*r)+p*i,y=d*(d*(d*s+3*c*o)+3*f*a)+p*l;h[0]=Math.min(h[0],g),h[1]=Math.min(h[1],y),h[2]=Math.max(h[2],g),h[3]=Math.max(h[3],y)},h0=function(e,t,r,i,s,o,a,l,c,h,d,f){if(Math.abs(c)<1e-12){Math.abs(h)>=1e-12&&_(this,Pi,Xd).call(this,e,t,r,i,s,o,a,l,-d/h,f);return}const p=h**2-4*d*c;if(p<0)return;const g=Math.sqrt(p),y=2*c;_(this,Pi,Xd).call(this,e,t,r,i,s,o,a,l,(-h+g)/y,f),_(this,Pi,Xd).call(this,e,t,r,i,s,o,a,l,(-h-g)/y,f)},E(te,Pi);function JL(n){return decodeURIComponent(escape(n))}let em=null,Xw=null;function eR(n){return em||(em=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Xw=new Map([["","t"]])),n.replaceAll(em,(e,t,r)=>t?t.normalize("NFKC"):Xw.get(r))}function tR(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const n=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(n);else for(let e=0;e<32;e++)n[e]=Math.floor(Math.random()*255);return zb(n)}const $b="pdfjs_internal_id_",Vr={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};class ag{constructor(){this.constructor===ag&&De("Cannot initialize BaseFilterFactory.")}addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,r,i,s){return"none"}destroy(e=!1){}}class lg{constructor(){this.constructor===lg&&De("Cannot initialize BaseCanvasFactory.")}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(e,t);return{canvas:r,context:r.getContext("2d")}}reset(e,t,r){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){De("Abstract method `_createCanvas` called.")}}class ug{constructor({baseUrl:e=null,isCompressed:t=!0}){this.constructor===ug&&De("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":""),r=this.isCompressed?l0.BINARY:l0.NONE;return this._fetchData(t,r).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}_fetchData(e,t){De("Abstract method `_fetchData` called.")}}class cg{constructor({baseUrl:e=null}){this.constructor===cg&&De("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetchData(t).catch(r=>{throw new Error(`Unable to load font data at: ${t}`)})}_fetchData(e){De("Abstract method `_fetchData` called.")}}class Fy{constructor(){this.constructor===Fy&&De("Cannot initialize BaseSVGFactory.")}create(e,t,r=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),r||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${t}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${t}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){De("Abstract method `_createSVG` called.")}}const Wr="http://www.w3.org/2000/svg",Ws=class Ws{};de(Ws,"CSS",96),de(Ws,"PDF",72),de(Ws,"PDF_TO_CSS_UNITS",Ws.CSS/Ws.PDF);let Ls=Ws;var Qs,_r,Jr,tn,ip,Zs,J,Nt,ya,wa,Kd,Ub,d0,_a,Au,bu,f0,Su;class nR extends ag{constructor({docId:t,ownerDocument:r=globalThis.document}={}){super();E(this,J);E(this,Qs);E(this,_r);E(this,Jr);E(this,tn);E(this,ip);E(this,Zs,0);w(this,Jr,t),w(this,tn,r)}addFilter(t){if(!t)return"none";let r=u(this,J,Nt).get(t);if(r)return r;const[i,s,o]=_(this,J,Kd).call(this,t),a=t.length===1?i:`${i}${s}${o}`;if(r=u(this,J,Nt).get(a),r)return u(this,J,Nt).set(t,r),r;const l=`g_${u(this,Jr)}_transfer_map_${gn(this,Zs)._++}`,c=`url(#${l})`;u(this,J,Nt).set(t,c),u(this,J,Nt).set(a,c);const h=_(this,J,_a).call(this,l);return _(this,J,bu).call(this,i,s,o,h),c}addHCMFilter(t,r){var g;const i=`${t}-${r}`,s="base";let o=u(this,J,ya).get(s);if((o==null?void 0:o.key)===i||(o?((g=o.filter)==null||g.remove(),o.key=i,o.url="none",o.filter=null):(o={key:i,url:"none",filter:null},u(this,J,ya).set(s,o)),!t||!r))return o.url;const a=_(this,J,Su).call(this,t);t=te.makeHexColor(...a);const l=_(this,J,Su).call(this,r);if(r=te.makeHexColor(...l),u(this,J,wa).style.color="",t==="#000000"&&r==="#ffffff"||t===r)return o.url;const c=new Array(256);for(let y=0;y<=255;y++){const b=y/255;c[y]=b<=.03928?b/12.92:((b+.055)/1.055)**2.4}const h=c.join(","),d=`g_${u(this,Jr)}_hcm_filter`,f=o.filter=_(this,J,_a).call(this,d);_(this,J,bu).call(this,h,h,h,f),_(this,J,d0).call(this,f);const p=(y,b)=>{const m=a[y]/255,v=l[y]/255,A=new Array(b+1);for(let S=0;S<=b;S++)A[S]=m+S/b*(v-m);return A.join(",")};return _(this,J,bu).call(this,p(0,5),p(1,5),p(2,5),f),o.url=`url(#${d})`,o.url}addAlphaFilter(t){let r=u(this,J,Nt).get(t);if(r)return r;const[i]=_(this,J,Kd).call(this,[t]),s=`alpha_${i}`;if(r=u(this,J,Nt).get(s),r)return u(this,J,Nt).set(t,r),r;const o=`g_${u(this,Jr)}_alpha_map_${gn(this,Zs)._++}`,a=`url(#${o})`;u(this,J,Nt).set(t,a),u(this,J,Nt).set(s,a);const l=_(this,J,_a).call(this,o);return _(this,J,f0).call(this,i,l),a}addLuminosityFilter(t){let r=u(this,J,Nt).get(t||"luminosity");if(r)return r;let i,s;if(t?([i]=_(this,J,Kd).call(this,[t]),s=`luminosity_${i}`):s="luminosity",r=u(this,J,Nt).get(s),r)return u(this,J,Nt).set(t,r),r;const o=`g_${u(this,Jr)}_luminosity_map_${gn(this,Zs)._++}`,a=`url(#${o})`;u(this,J,Nt).set(t,a),u(this,J,Nt).set(s,a);const l=_(this,J,_a).call(this,o);return _(this,J,Ub).call(this,l),t&&_(this,J,f0).call(this,i,l),a}addHighlightHCMFilter(t,r,i,s,o){var v;const a=`${r}-${i}-${s}-${o}`;let l=u(this,J,ya).get(t);if((l==null?void 0:l.key)===a||(l?((v=l.filter)==null||v.remove(),l.key=a,l.url="none",l.filter=null):(l={key:a,url:"none",filter:null},u(this,J,ya).set(t,l)),!r||!i))return l.url;const[c,h]=[r,i].map(_(this,J,Su).bind(this));let d=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),f=Math.round(.2126*h[0]+.7152*h[1]+.0722*h[2]),[p,g]=[s,o].map(_(this,J,Su).bind(this));f<d&&([d,f,p,g]=[f,d,g,p]),u(this,J,wa).style.color="";const y=(A,S,C)=>{const k=new Array(256),I=(f-d)/C,M=A/255,z=(S-A)/(255*C);let j=0;for(let N=0;N<=C;N++){const X=Math.round(d+N*I),q=M+N*z;for(let Q=j;Q<=X;Q++)k[Q]=q;j=X+1}for(let N=j;N<256;N++)k[N]=k[j-1];return k.join(",")},b=`g_${u(this,Jr)}_hcm_${t}_filter`,m=l.filter=_(this,J,_a).call(this,b);return _(this,J,d0).call(this,m),_(this,J,bu).call(this,y(p[0],g[0],5),y(p[1],g[1],5),y(p[2],g[2],5),m),l.url=`url(#${b})`,l.url}destroy(t=!1){t&&u(this,J,ya).size!==0||(u(this,_r)&&(u(this,_r).parentNode.parentNode.remove(),w(this,_r,null)),u(this,Qs)&&(u(this,Qs).clear(),w(this,Qs,null)),w(this,Zs,0))}}Qs=new WeakMap,_r=new WeakMap,Jr=new WeakMap,tn=new WeakMap,ip=new WeakMap,Zs=new WeakMap,J=new WeakSet,Nt=function(){return u(this,Qs)||w(this,Qs,new Map)},ya=function(){return u(this,ip)||w(this,ip,new Map)},wa=function(){if(!u(this,_r)){const t=u(this,tn).createElement("div"),{style:r}=t;r.visibility="hidden",r.contain="strict",r.width=r.height=0,r.position="absolute",r.top=r.left=0,r.zIndex=-1;const i=u(this,tn).createElementNS(Wr,"svg");i.setAttribute("width",0),i.setAttribute("height",0),w(this,_r,u(this,tn).createElementNS(Wr,"defs")),t.append(i),i.append(u(this,_r)),u(this,tn).body.append(t)}return u(this,_r)},Kd=function(t){if(t.length===1){const c=t[0],h=new Array(256);for(let f=0;f<256;f++)h[f]=c[f]/255;const d=h.join(",");return[d,d,d]}const[r,i,s]=t,o=new Array(256),a=new Array(256),l=new Array(256);for(let c=0;c<256;c++)o[c]=r[c]/255,a[c]=i[c]/255,l[c]=s[c]/255;return[o.join(","),a.join(","),l.join(",")]},Ub=function(t){const r=u(this,tn).createElementNS(Wr,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(r)},d0=function(t){const r=u(this,tn).createElementNS(Wr,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(r)},_a=function(t){const r=u(this,tn).createElementNS(Wr,"filter");return r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("id",t),u(this,J,wa).append(r),r},Au=function(t,r,i){const s=u(this,tn).createElementNS(Wr,r);s.setAttribute("type","discrete"),s.setAttribute("tableValues",i),t.append(s)},bu=function(t,r,i,s){const o=u(this,tn).createElementNS(Wr,"feComponentTransfer");s.append(o),_(this,J,Au).call(this,o,"feFuncR",t),_(this,J,Au).call(this,o,"feFuncG",r),_(this,J,Au).call(this,o,"feFuncB",i)},f0=function(t,r){const i=u(this,tn).createElementNS(Wr,"feComponentTransfer");r.append(i),_(this,J,Au).call(this,i,"feFuncA",t)},Su=function(t){return u(this,J,wa).style.color=t,Uy(getComputedStyle(u(this,J,wa)).getPropertyValue("color"))};class rR extends lg{constructor({ownerDocument:e=globalThis.document}={}){super(),this._document=e}_createCanvas(e,t){const r=this._document.createElement("canvas");return r.width=e,r.height=t,r}}async function hg(n,e="text"){if(xu(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,r)=>{const i=new XMLHttpRequest;i.open("GET",n,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(i.response);return}t(i.responseText);return}r(new Error(i.statusText))}},i.send(null)})}class Hb extends ug{_fetchData(e,t){return hg(e,this.isCompressed?"arraybuffer":"text").then(r=>({cMapData:r instanceof ArrayBuffer?new Uint8Array(r):og(r),compressionType:t}))}}class Vb extends cg{_fetchData(e){return hg(e,"arraybuffer").then(t=>new Uint8Array(t))}}class By extends Fy{_createSVG(e){return document.createElementNS(Wr,e)}}class ed{constructor({viewBox:e,scale:t,rotation:r,offsetX:i=0,offsetY:s=0,dontFlip:o=!1}){this.viewBox=e,this.scale=t,this.rotation=r,this.offsetX=i,this.offsetY=s;const a=(e[2]+e[0])/2,l=(e[3]+e[1])/2;let c,h,d,f;switch(r%=360,r<0&&(r+=360),r){case 180:c=-1,h=0,d=0,f=1;break;case 90:c=0,h=1,d=1,f=0;break;case 270:c=0,h=-1,d=-1,f=0;break;case 0:c=1,h=0,d=0,f=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(d=-d,f=-f);let p,g,y,b;c===0?(p=Math.abs(l-e[1])*t+i,g=Math.abs(a-e[0])*t+s,y=(e[3]-e[1])*t,b=(e[2]-e[0])*t):(p=Math.abs(a-e[0])*t+i,g=Math.abs(l-e[1])*t+s,y=(e[2]-e[0])*t,b=(e[3]-e[1])*t),this.transform=[c*t,h*t,d*t,f*t,p-c*t*a-d*t*l,g-h*t*a-f*t*l],this.width=y,this.height=b}get rawDims(){const{viewBox:e}=this;return Se(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:r=this.offsetX,offsetY:i=this.offsetY,dontFlip:s=!1}={}){return new ed({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:r,offsetY:i,dontFlip:s})}convertToViewportPoint(e,t){return te.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=te.applyTransform([e[0],e[1]],this.transform),r=te.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],r[0],r[1]]}convertToPdfPoint(e,t){return te.applyInverseTransform([e,t],this.transform)}}class jy extends Ns{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function zy(n){const e=n.length;let t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function $y(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function iR(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function sR(n,e="document.pdf"){if(typeof n!="string")return e;if(zy(n))return fe('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const t=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,r=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=t.exec(n);let s=r.exec(i[1])||r.exec(i[2])||r.exec(i[3]);if(s&&(s=s[0],s.includes("%")))try{s=r.exec(decodeURIComponent(s))[0]}catch{}return s||e}class Kw{constructor(){de(this,"started",Object.create(null));de(this,"times",[])}time(e){e in this.started&&fe(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||fe(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:r}of this.times)t=Math.max(r.length,t);for(const{name:r,start:i,end:s}of this.times)e.push(`${r.padEnd(t)} ${s-i}ms
`);return e.join("")}}function xu(n,e){try{const{protocol:t}=e?new URL(n,e):new URL(n);return t==="http:"||t==="https:"}catch{return!1}}function pn(n){n.preventDefault()}function Gb(n){console.log("Deprecated API usage: "+n)}let qw;class Wb{static toDateObject(e){if(!e||typeof e!="string")return null;qw||(qw=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=qw.exec(e);if(!t)return null;const r=parseInt(t[1],10);let i=parseInt(t[2],10);i=i>=1&&i<=12?i-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let o=parseInt(t[4],10);o=o>=0&&o<=23?o:0;let a=parseInt(t[5],10);a=a>=0&&a<=59?a:0;let l=parseInt(t[6],10);l=l>=0&&l<=59?l:0;const c=t[7]||"Z";let h=parseInt(t[8],10);h=h>=0&&h<=23?h:0;let d=parseInt(t[9],10)||0;return d=d>=0&&d<=59?d:0,c==="-"?(o+=h,a+=d):c==="+"&&(o-=h,a-=d),new Date(Date.UTC(r,i,s,o,a,l))}}function oR(n,{scale:e=1,rotation:t=0}){const{width:r,height:i}=n.attributes.style,s=[0,0,parseInt(r),parseInt(i)];return new ed({viewBox:s,scale:e,rotation:t})}function Uy(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(fe(`Not a valid color format: "${n}"`),[0,0,0])}function aR(n){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const t of n.keys()){e.style.color=t;const r=window.getComputedStyle(e).color;n.set(t,Uy(r))}e.remove()}function Xe(n){const{a:e,b:t,c:r,d:i,e:s,f:o}=n.getTransform();return[e,t,r,i,s,o]}function Gr(n){const{a:e,b:t,c:r,d:i,e:s,f:o}=n.getTransform().invertSelf();return[e,t,r,i,s,o]}function na(n,e,t=!1,r=!0){if(e instanceof ed){const{pageWidth:i,pageHeight:s}=e.rawDims,{style:o}=n,a=un.isCSSRoundSupported,l=`var(--scale-factor) * ${i}px`,c=`var(--scale-factor) * ${s}px`,h=a?`round(${l}, 1px)`:`calc(${l})`,d=a?`round(${c}, 1px)`:`calc(${c})`;!t||e.rotation%180===0?(o.width=h,o.height=d):(o.width=d,o.height=h)}r&&n.setAttribute("data-main-rotation",e.rotation)}var Js,eo,Er,to,sp,Yb,qt,Xb,Kb,qd,qb,g0;const op=class op{constructor(e){E(this,qt);E(this,Js,null);E(this,eo,null);E(this,Er);E(this,to,null);w(this,Er,e)}render(){const e=w(this,Js,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",pn),e.addEventListener("pointerdown",_(op,sp,Yb));const t=w(this,to,document.createElement("div"));t.className="buttons",e.append(t);const r=u(this,Er).toolbarPosition;if(r){const{style:i}=e,s=u(this,Er)._uiManager.direction==="ltr"?1-r[0]:r[0];i.insetInlineEnd=`${100*s}%`,i.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return _(this,qt,qb).call(this),e}hide(){var e;u(this,Js).classList.add("hidden"),(e=u(this,eo))==null||e.hideDropdown()}show(){u(this,Js).classList.remove("hidden")}addAltTextButton(e){_(this,qt,qd).call(this,e),u(this,to).prepend(e,u(this,qt,g0))}addColorPicker(e){w(this,eo,e);const t=e.renderButton();_(this,qt,qd).call(this,t),u(this,to).prepend(t,u(this,qt,g0))}remove(){var e;u(this,Js).remove(),(e=u(this,eo))==null||e.destroy(),w(this,eo,null)}};Js=new WeakMap,eo=new WeakMap,Er=new WeakMap,to=new WeakMap,sp=new WeakSet,Yb=function(e){e.stopPropagation()},qt=new WeakSet,Xb=function(e){u(this,Er)._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()},Kb=function(e){u(this,Er)._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()},qd=function(e){e.addEventListener("focusin",_(this,qt,Xb).bind(this),{capture:!0}),e.addEventListener("focusout",_(this,qt,Kb).bind(this),{capture:!0}),e.addEventListener("contextmenu",pn)},qb=function(){const e=document.createElement("button");e.className="delete",e.tabIndex=0,e.setAttribute("data-l10n-id",`pdfjs-editor-remove-${u(this,Er).editorType}-button`),_(this,qt,qd).call(this,e),e.addEventListener("click",t=>{u(this,Er)._uiManager.delete()}),u(this,to).append(e)},g0=function(){const e=document.createElement("div");return e.className="divider",e},E(op,sp);let p0=op;var gc,no,mc,Rs,Qb,Zb,Jb;class lR{constructor(e){E(this,Rs);E(this,gc,null);E(this,no,null);E(this,mc);w(this,mc,e)}show(e,t,r){const[i,s]=_(this,Rs,Zb).call(this,t,r),{style:o}=u(this,no)||w(this,no,_(this,Rs,Qb).call(this));e.append(u(this,no)),o.insetInlineEnd=`${100*i}%`,o.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){u(this,no).remove()}}gc=new WeakMap,no=new WeakMap,mc=new WeakMap,Rs=new WeakSet,Qb=function(){const e=w(this,no,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",pn);const t=w(this,gc,document.createElement("div"));return t.className="buttons",e.append(t),_(this,Rs,Jb).call(this),e},Zb=function(e,t){let r=0,i=0;for(const s of e){const o=s.y+s.height;if(o<r)continue;const a=s.x+(t?s.width:0);if(o>r){i=a,r=o;continue}t?a>i&&(i=a):a<i&&(i=a)}return[t?1-i:i,r]},Jb=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label"),e.addEventListener("contextmenu",pn),e.addEventListener("click",()=>{u(this,mc).highlightSelection("floating_button")}),u(this,gc).append(e)};function Xf(n,e,t){for(const r of t)e.addEventListener(r,n[r].bind(n))}function uR(n){return Math.round(Math.min(255,Math.max(1,255*n))).toString(16).padStart(2,"0")}var ap;class cR{constructor(){E(this,ap,0)}get id(){return`${UL}${gn(this,ap)._++}`}}ap=new WeakMap;var vc,lp,Nn,yc,v0;const qy=class qy{constructor(){E(this,yc);E(this,vc,tR());E(this,lp,0);E(this,Nn,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',r=new OffscreenCanvas(1,3).getContext("2d"),i=new Image;i.src=e;const s=i.decode().then(()=>(r.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0]===0));return Se(this,"_isSVGFittingCanvas",s)}async getFromFile(e){const{lastModified:t,name:r,size:i,type:s}=e;return _(this,yc,v0).call(this,`${t}_${r}_${i}_${s}`,e)}async getFromUrl(e){return _(this,yc,v0).call(this,e,e)}async getFromId(e){u(this,Nn)||w(this,Nn,new Map);const t=u(this,Nn).get(e);return t?t.bitmap?(t.refCounter+=1,t):t.file?this.getFromFile(t.file):this.getFromUrl(t.url):null}getSvgUrl(e){const t=u(this,Nn).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){u(this,Nn)||w(this,Nn,new Map);const t=u(this,Nn).get(e);t&&(t.refCounter-=1,t.refCounter===0&&(t.bitmap=null))}isValidId(e){return e.startsWith(`image_${u(this,vc)}_`)}};vc=new WeakMap,lp=new WeakMap,Nn=new WeakMap,yc=new WeakSet,v0=async function(e,t){u(this,Nn)||w(this,Nn,new Map);let r=u(this,Nn).get(e);if(r===null)return null;if(r!=null&&r.bitmap)return r.refCounter+=1,r;try{r||(r={bitmap:null,id:`image_${u(this,vc)}_${gn(this,lp)._++}`,refCounter:0,isSvg:!1});let i;if(typeof t=="string"?(r.url=t,i=await hg(t,"blob")):i=r.file=t,i.type==="image/svg+xml"){const s=qy._isSVGFittingCanvas,o=new FileReader,a=new Image,l=new Promise((c,h)=>{a.onload=()=>{r.bitmap=a,r.isSvg=!0,c()},o.onload=async()=>{const d=r.svgUrl=o.result;a.src=await s?`${d}#svgView(preserveAspectRatio(none))`:d},a.onerror=o.onerror=h});o.readAsDataURL(i),await l}else r.bitmap=await createImageBitmap(i);r.refCounter=1}catch(i){console.error(i),r=null}return u(this,Nn).set(e,r),r&&u(this,Nn).set(r.id,r),r};let m0=qy;var mt,Ki,wc,vt;class hR{constructor(e=128){E(this,mt,[]);E(this,Ki,!1);E(this,wc);E(this,vt,-1);w(this,wc,e)}add({cmd:e,undo:t,post:r,mustExec:i,type:s=NaN,overwriteIfSameType:o=!1,keepUndo:a=!1}){if(i&&e(),u(this,Ki))return;const l={cmd:e,undo:t,post:r,type:s};if(u(this,vt)===-1){u(this,mt).length>0&&(u(this,mt).length=0),w(this,vt,0),u(this,mt).push(l);return}if(o&&u(this,mt)[u(this,vt)].type===s){a&&(l.undo=u(this,mt)[u(this,vt)].undo),u(this,mt)[u(this,vt)]=l;return}const c=u(this,vt)+1;c===u(this,wc)?u(this,mt).splice(0,1):(w(this,vt,c),c<u(this,mt).length&&u(this,mt).splice(c)),u(this,mt).push(l)}undo(){if(u(this,vt)===-1)return;w(this,Ki,!0);const{undo:e,post:t}=u(this,mt)[u(this,vt)];e(),t==null||t(),w(this,Ki,!1),w(this,vt,u(this,vt)-1)}redo(){if(u(this,vt)<u(this,mt).length-1){w(this,vt,u(this,vt)+1),w(this,Ki,!0);const{cmd:e,post:t}=u(this,mt)[u(this,vt)];e(),t==null||t(),w(this,Ki,!1)}}hasSomethingToUndo(){return u(this,vt)!==-1}hasSomethingToRedo(){return u(this,vt)<u(this,mt).length-1}destroy(){w(this,mt,null)}}mt=new WeakMap,Ki=new WeakMap,wc=new WeakMap,vt=new WeakMap;var up,eS;class td{constructor(e){E(this,up);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=un.platform;for(const[r,i,s={}]of e)for(const o of r){const a=o.startsWith("mac+");t&&a?(this.callbacks.set(o.slice(4),{callback:i,options:s}),this.allKeys.add(o.split("+").at(-1))):!t&&!a&&(this.callbacks.set(o,{callback:i,options:s}),this.allKeys.add(o.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const r=this.callbacks.get(_(this,up,eS).call(this,t));if(!r)return;const{callback:i,options:{bubbles:s=!1,args:o=[],checker:a=null}}=r;a&&!a(e,t)||(i.bind(e,...o,t)(),s||(t.stopPropagation(),t.preventDefault()))}}up=new WeakSet,eS=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const cp=class cp{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return aR(e),Se(this,"_colors",e)}convert(e){const t=Uy(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[r,i]of this._colors)if(i.every((s,o)=>s===t[o]))return cp._colorsMapping.get(r);return t}getHexCode(e){const t=this._colors.get(e);return t?te.makeHexColor(...t):e}};de(cp,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let y0=cp;var yn,lt,bt,Ka,ei,qa,Jn,Qa,ro,Ar,ti,io,_c,Ec,br,Za,qi,Sr,hp,Qi,Ac,so,bc,Ja,St,Le,ni,oo,Sc,xc,Cc,Tc,kc,Pc,Lc,Rc,Ic,Mc,Oc,Dc,Nc,Fc,Zi,xr,ri,Bc,W,Qd,tS,nS,Zd,rS,iS,sS,w0,_0,E0,A0,b0,Ht,$i,oS,aS,S0,lS,Cu,x0;const Ba=class Ba{constructor(e,t,r,i,s,o,a,l,c){E(this,W);E(this,yn,null);E(this,lt,new Map);E(this,bt,new Map);E(this,Ka,null);E(this,ei,null);E(this,qa,null);E(this,Jn,new hR);E(this,Qa,0);E(this,ro,new Set);E(this,Ar,null);E(this,ti,null);E(this,io,new Set);E(this,_c,!1);E(this,Ec,null);E(this,br,null);E(this,Za,null);E(this,qi,!1);E(this,Sr,null);E(this,hp,new cR);E(this,Qi,!1);E(this,Ac,!1);E(this,so,null);E(this,bc,null);E(this,Ja,null);E(this,St,be.NONE);E(this,Le,new Set);E(this,ni,null);E(this,oo,null);E(this,Sc,null);E(this,xc,this.blur.bind(this));E(this,Cc,this.focus.bind(this));E(this,Tc,this.copy.bind(this));E(this,kc,this.cut.bind(this));E(this,Pc,this.paste.bind(this));E(this,Lc,this.keydown.bind(this));E(this,Rc,this.keyup.bind(this));E(this,Ic,this.onEditingAction.bind(this));E(this,Mc,this.onPageChanging.bind(this));E(this,Oc,this.onScaleChanging.bind(this));E(this,Dc,_(this,W,nS).bind(this));E(this,Nc,this.onRotationChanging.bind(this));E(this,Fc,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});E(this,Zi,[0,0]);E(this,xr,null);E(this,ri,null);E(this,Bc,null);w(this,ri,e),w(this,Bc,t),w(this,Ka,r),this._eventBus=i,this._eventBus._on("editingaction",u(this,Ic)),this._eventBus._on("pagechanging",u(this,Mc)),this._eventBus._on("scalechanging",u(this,Oc)),this._eventBus._on("rotationchanging",u(this,Nc)),_(this,W,rS).call(this),_(this,W,_0).call(this),w(this,ei,s.annotationStorage),w(this,Ec,s.filterFactory),w(this,oo,o),w(this,Za,a||null),w(this,_c,l),w(this,Ja,c||null),this.viewParameters={realScale:Ls.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const e=Ba.prototype,t=o=>u(o,ri).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),r=(o,{target:a})=>{if(a instanceof HTMLInputElement){const{type:l}=a;return l!=="text"&&l!=="number"}return!0},i=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return Se(this,"_keyboardManager",new td([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&u(o,ri).contains(a)&&!o.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&u(o,ri).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}destroy(){var e,t;_(this,W,E0).call(this),_(this,W,w0).call(this),this._eventBus._off("editingaction",u(this,Ic)),this._eventBus._off("pagechanging",u(this,Mc)),this._eventBus._off("scalechanging",u(this,Oc)),this._eventBus._off("rotationchanging",u(this,Nc));for(const r of u(this,bt).values())r.destroy();u(this,bt).clear(),u(this,lt).clear(),u(this,io).clear(),w(this,yn,null),u(this,Le).clear(),u(this,Jn).destroy(),(e=u(this,Ka))==null||e.destroy(),(t=u(this,Sr))==null||t.hide(),w(this,Sr,null),u(this,br)&&(clearTimeout(u(this,br)),w(this,br,null)),u(this,xr)&&(clearTimeout(u(this,xr)),w(this,xr,null)),_(this,W,iS).call(this)}async mlGuess(e){var t;return((t=u(this,Ja))==null?void 0:t.guess(e))||null}get hasMLManager(){return!!u(this,Ja)}get hcmFilter(){return Se(this,"hcmFilter",u(this,oo)?u(this,Ec).addHCMFilter(u(this,oo).foreground,u(this,oo).background):"none")}get direction(){return Se(this,"direction",getComputedStyle(u(this,ri)).direction)}get highlightColors(){return Se(this,"highlightColors",u(this,Za)?new Map(u(this,Za).split(",").map(e=>e.split("=").map(t=>t.trim()))):null)}get highlightColorNames(){return Se(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){w(this,bc,e)}editAltText(e){var t;(t=u(this,Ka))==null||t.editAltText(this,e)}onPageChanging({pageNumber:e}){w(this,Qa,e-1)}focusMainContainer(){u(this,ri).focus()}findParent(e,t){for(const r of u(this,bt).values()){const{x:i,y:s,width:o,height:a}=r.div.getBoundingClientRect();if(e>=i&&e<=i+o&&t>=s&&t<=s+a)return r}return null}disableUserSelect(e=!1){u(this,Bc).classList.toggle("noUserSelect",e)}addShouldRescale(e){u(this,io).add(e)}removeShouldRescale(e){u(this,io).delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*Ls.PDF_TO_CSS_UNITS;for(const t of u(this,io))t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:r,anchorOffset:i,focusNode:s,focusOffset:o}=t,a=t.toString(),c=_(this,W,Qd).call(this,t).closest(".textLayer"),h=this.getSelectionBoxes(c);if(h){t.empty(),u(this,St)===be.NONE&&(this._eventBus.dispatch("showannotationeditorui",{source:this,mode:be.HIGHLIGHT}),this.showAllEditors("highlight",!0,!0));for(const d of u(this,bt).values())if(d.hasTextLayer(c)){d.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:h,anchorNode:r,anchorOffset:i,focusNode:s,focusOffset:o,text:a});break}}}addToAnnotationStorage(e){!e.isEmpty()&&u(this,ei)&&!u(this,ei).has(e.id)&&u(this,ei).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,u(this,qi)&&(w(this,qi,!1),_(this,W,Zd).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of u(this,Le))if(t.div.contains(e)){w(this,so,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!u(this,so))return;const[e,t]=u(this,so);w(this,so,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0}),t.focus()}addEditListeners(){_(this,W,_0).call(this),_(this,W,A0).call(this)}removeEditListeners(){_(this,W,E0).call(this),_(this,W,b0).call(this)}copy(e){var r;if(e.preventDefault(),(r=u(this,yn))==null||r.commitOrRemove(),!this.hasSelection)return;const t=[];for(const i of u(this,Le)){const s=i.serialize(!0);s&&t.push(s)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}paste(e){e.preventDefault();const{clipboardData:t}=e;for(const s of t.items)for(const o of u(this,ti))if(o.isHandlingMimeForPasting(s.type)){o.paste(s,this.currentLayer);return}let r=t.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(s){fe(`paste: "${s.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();const i=this.currentLayer;try{const s=[];for(const l of r){const c=i.deserialize(l);if(!c)return;s.push(c)}const o=()=>{for(const l of s)_(this,W,S0).call(this,l);_(this,W,x0).call(this,s)},a=()=>{for(const l of s)l.remove()};this.addCommands({cmd:o,undo:a,mustExec:!0})}catch(s){fe(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),u(this,St)!==be.NONE&&!this.isEditorHandlingKeyboard&&Ba._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,u(this,qi)&&(w(this,qi,!1),_(this,W,Zd).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(_(this,W,sS).call(this),_(this,W,A0).call(this),_(this,W,Ht).call(this,{isEditing:u(this,St)!==be.NONE,isEmpty:_(this,W,Cu).call(this),hasSomethingToUndo:u(this,Jn).hasSomethingToUndo(),hasSomethingToRedo:u(this,Jn).hasSomethingToRedo(),hasSelectedEditor:!1})):(_(this,W,w0).call(this),_(this,W,b0).call(this),_(this,W,Ht).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!u(this,ti)){w(this,ti,e);for(const t of u(this,ti))_(this,W,$i).call(this,t.defaultPropertiesToUpdate)}}getId(){return u(this,hp).id}get currentLayer(){return u(this,bt).get(u(this,Qa))}getLayer(e){return u(this,bt).get(e)}get currentPageIndex(){return u(this,Qa)}addLayer(e){u(this,bt).set(e.pageIndex,e),u(this,Qi)?e.enable():e.disable()}removeLayer(e){u(this,bt).delete(e.pageIndex)}updateMode(e,t=null,r=!1){if(u(this,St)!==e){if(w(this,St,e),e===be.NONE){this.setEditingState(!1),_(this,W,aS).call(this);return}this.setEditingState(!0),_(this,W,oS).call(this),this.unselectAll();for(const i of u(this,bt).values())i.updateMode(e);if(!t&&r){this.addNewEditorFromKeyboard();return}if(t){for(const i of u(this,lt).values())if(i.annotationElementId===t){this.setSelected(i),i.enterInEditMode();break}}}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==u(this,St)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){var r;if(u(this,ti)){switch(e){case he.CREATE:this.currentLayer.addNewEditor();return;case he.HIGHLIGHT_DEFAULT_COLOR:(r=u(this,bc))==null||r.updateColor(t);break;case he.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(u(this,Sc)||w(this,Sc,new Map)).set(e,t),this.showAllEditors("highlight",t);break}for(const i of u(this,Le))i.updateParams(e,t);for(const i of u(this,ti))i.updateDefaultParams(e,t)}}showAllEditors(e,t,r=!1){var s;for(const o of u(this,lt).values())o.editorType===e&&o.show(t);(((s=u(this,Sc))==null?void 0:s.get(he.HIGHLIGHT_SHOW_ALL))??!0)!==t&&_(this,W,$i).call(this,[[he.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(u(this,Ac)!==e){w(this,Ac,e);for(const t of u(this,bt).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const r of u(this,lt).values())r.pageIndex===e&&t.push(r);return t}getEditor(e){return u(this,lt).get(e)}addEditor(e){u(this,lt).set(e.id,e)}removeEditor(e){var t;e.div.contains(document.activeElement)&&(u(this,br)&&clearTimeout(u(this,br)),w(this,br,setTimeout(()=>{this.focusMainContainer(),w(this,br,null)},0))),u(this,lt).delete(e.id),this.unselect(e),(!e.annotationElementId||!u(this,ro).has(e.annotationElementId))&&((t=u(this,ei))==null||t.remove(e.id))}addDeletedAnnotationElement(e){u(this,ro).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return u(this,ro).has(e)}removeDeletedAnnotationElement(e){u(this,ro).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){u(this,yn)!==e&&(w(this,yn,e),e&&_(this,W,$i).call(this,e.propertiesToUpdate))}updateUI(e){u(this,W,lS)===e&&_(this,W,$i).call(this,e.propertiesToUpdate)}toggleSelected(e){if(u(this,Le).has(e)){u(this,Le).delete(e),e.unselect(),_(this,W,Ht).call(this,{hasSelectedEditor:this.hasSelection});return}u(this,Le).add(e),e.select(),_(this,W,$i).call(this,e.propertiesToUpdate),_(this,W,Ht).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const t of u(this,Le))t!==e&&t.unselect();u(this,Le).clear(),u(this,Le).add(e),e.select(),_(this,W,$i).call(this,e.propertiesToUpdate),_(this,W,Ht).call(this,{hasSelectedEditor:!0})}isSelected(e){return u(this,Le).has(e)}get firstSelectedEditor(){return u(this,Le).values().next().value}unselect(e){e.unselect(),u(this,Le).delete(e),_(this,W,Ht).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return u(this,Le).size!==0}get isEnterHandled(){return u(this,Le).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){u(this,Jn).undo(),_(this,W,Ht).call(this,{hasSomethingToUndo:u(this,Jn).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:_(this,W,Cu).call(this)})}redo(){u(this,Jn).redo(),_(this,W,Ht).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:u(this,Jn).hasSomethingToRedo(),isEmpty:_(this,W,Cu).call(this)})}addCommands(e){u(this,Jn).add(e),_(this,W,Ht).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:_(this,W,Cu).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...u(this,Le)],t=()=>{for(const i of e)i.remove()},r=()=>{for(const i of e)_(this,W,S0).call(this,i)};this.addCommands({cmd:t,undo:r,mustExec:!0})}commitOrRemove(){var e;(e=u(this,yn))==null||e.commitOrRemove()}hasSomethingToControl(){return u(this,yn)||this.hasSelection}selectAll(){for(const e of u(this,Le))e.commit();_(this,W,x0).call(this,u(this,lt).values())}unselectAll(){if(!(u(this,yn)&&(u(this,yn).commitOrRemove(),u(this,St)!==be.NONE))&&this.hasSelection){for(const e of u(this,Le))e.unselect();u(this,Le).clear(),_(this,W,Ht).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;u(this,Zi)[0]+=e,u(this,Zi)[1]+=t;const[i,s]=u(this,Zi),o=[...u(this,Le)],a=1e3;u(this,xr)&&clearTimeout(u(this,xr)),w(this,xr,setTimeout(()=>{w(this,xr,null),u(this,Zi)[0]=u(this,Zi)[1]=0,this.addCommands({cmd:()=>{for(const l of o)u(this,lt).has(l.id)&&l.translateInPage(i,s)},undo:()=>{for(const l of o)u(this,lt).has(l.id)&&l.translateInPage(-i,-s)},mustExec:!1})},a));for(const l of o)l.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),w(this,Ar,new Map);for(const e of u(this,Le))u(this,Ar).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!u(this,Ar))return!1;this.disableUserSelect(!1);const e=u(this,Ar);w(this,Ar,null);let t=!1;for(const[{x:i,y:s,pageIndex:o},a]of e)a.newX=i,a.newY=s,a.newPageIndex=o,t||(t=i!==a.savedX||s!==a.savedY||o!==a.savedPageIndex);if(!t)return!1;const r=(i,s,o,a)=>{if(u(this,lt).has(i.id)){const l=u(this,bt).get(a);l?i._setParentAndPosition(l,s,o):(i.pageIndex=a,i.x=s,i.y=o)}};return this.addCommands({cmd:()=>{for(const[i,{newX:s,newY:o,newPageIndex:a}]of e)r(i,s,o,a)},undo:()=>{for(const[i,{savedX:s,savedY:o,savedPageIndex:a}]of e)r(i,s,o,a)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(u(this,Ar))for(const r of u(this,Ar).keys())r.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||u(this,Le).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return u(this,yn)===e}getActive(){return u(this,yn)}getMode(){return u(this,St)}get imageManager(){return Se(this,"imageManager",new m0)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let c=0,h=t.rangeCount;c<h;c++)if(!e.contains(t.getRangeAt(c).commonAncestorContainer))return null;const{x:r,y:i,width:s,height:o}=e.getBoundingClientRect();let a;switch(e.getAttribute("data-main-rotation")){case"90":a=(c,h,d,f)=>({x:(h-i)/o,y:1-(c+d-r)/s,width:f/o,height:d/s});break;case"180":a=(c,h,d,f)=>({x:1-(c+d-r)/s,y:1-(h+f-i)/o,width:d/s,height:f/o});break;case"270":a=(c,h,d,f)=>({x:1-(h+f-i)/o,y:(c-r)/s,width:f/o,height:d/s});break;default:a=(c,h,d,f)=>({x:(c-r)/s,y:(h-i)/o,width:d/s,height:f/o});break}const l=[];for(let c=0,h=t.rangeCount;c<h;c++){const d=t.getRangeAt(c);if(!d.collapsed)for(const{x:f,y:p,width:g,height:y}of d.getClientRects())g===0||y===0||l.push(a(f,p,g,y))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:t}){(u(this,qa)||w(this,qa,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=u(this,qa))==null||t.delete(e)}renderAnnotationElement(e){var i;const t=(i=u(this,qa))==null?void 0:i.get(e.data.id);if(!t)return;const r=u(this,ei).getRawValue(t);r&&(u(this,St)===be.NONE&&!r.hasBeenModified||r.renderAnnotationElement(e))}};yn=new WeakMap,lt=new WeakMap,bt=new WeakMap,Ka=new WeakMap,ei=new WeakMap,qa=new WeakMap,Jn=new WeakMap,Qa=new WeakMap,ro=new WeakMap,Ar=new WeakMap,ti=new WeakMap,io=new WeakMap,_c=new WeakMap,Ec=new WeakMap,br=new WeakMap,Za=new WeakMap,qi=new WeakMap,Sr=new WeakMap,hp=new WeakMap,Qi=new WeakMap,Ac=new WeakMap,so=new WeakMap,bc=new WeakMap,Ja=new WeakMap,St=new WeakMap,Le=new WeakMap,ni=new WeakMap,oo=new WeakMap,Sc=new WeakMap,xc=new WeakMap,Cc=new WeakMap,Tc=new WeakMap,kc=new WeakMap,Pc=new WeakMap,Lc=new WeakMap,Rc=new WeakMap,Ic=new WeakMap,Mc=new WeakMap,Oc=new WeakMap,Dc=new WeakMap,Nc=new WeakMap,Fc=new WeakMap,Zi=new WeakMap,xr=new WeakMap,ri=new WeakMap,Bc=new WeakMap,W=new WeakSet,Qd=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},tS=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const r=_(this,W,Qd).call(this,e).closest(".textLayer"),i=this.getSelectionBoxes(r);i&&(u(this,Sr)||w(this,Sr,new lR(this)),u(this,Sr).show(r,i,this.direction==="ltr"))},nS=function(){var s,o,a;const e=document.getSelection();if(!e||e.isCollapsed){u(this,ni)&&((s=u(this,Sr))==null||s.hide(),w(this,ni,null),_(this,W,Ht).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===u(this,ni))return;if(!_(this,W,Qd).call(this,e).closest(".textLayer")){u(this,ni)&&((o=u(this,Sr))==null||o.hide(),w(this,ni,null),_(this,W,Ht).call(this,{hasSelectedText:!1}));return}if((a=u(this,Sr))==null||a.hide(),w(this,ni,t),_(this,W,Ht).call(this,{hasSelectedText:!0}),!(u(this,St)!==be.HIGHLIGHT&&u(this,St)!==be.NONE)&&(u(this,St)===be.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),w(this,qi,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=c=>{c.type==="pointerup"&&c.button!==0||(window.removeEventListener("pointerup",l),window.removeEventListener("blur",l),c.type==="pointerup"&&_(this,W,Zd).call(this,"main_toolbar"))};window.addEventListener("pointerup",l),window.addEventListener("blur",l)}},Zd=function(e=""){u(this,St)===be.HIGHLIGHT?this.highlightSelection(e):u(this,_c)&&_(this,W,tS).call(this)},rS=function(){document.addEventListener("selectionchange",u(this,Dc))},iS=function(){document.removeEventListener("selectionchange",u(this,Dc))},sS=function(){window.addEventListener("focus",u(this,Cc)),window.addEventListener("blur",u(this,xc))},w0=function(){window.removeEventListener("focus",u(this,Cc)),window.removeEventListener("blur",u(this,xc))},_0=function(){window.addEventListener("keydown",u(this,Lc)),window.addEventListener("keyup",u(this,Rc))},E0=function(){window.removeEventListener("keydown",u(this,Lc)),window.removeEventListener("keyup",u(this,Rc))},A0=function(){document.addEventListener("copy",u(this,Tc)),document.addEventListener("cut",u(this,kc)),document.addEventListener("paste",u(this,Pc))},b0=function(){document.removeEventListener("copy",u(this,Tc)),document.removeEventListener("cut",u(this,kc)),document.removeEventListener("paste",u(this,Pc))},Ht=function(e){Object.entries(e).some(([r,i])=>u(this,Fc)[r]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(u(this,Fc),e)}),u(this,St)===be.HIGHLIGHT&&e.hasSelectedEditor===!1&&_(this,W,$i).call(this,[[he.HIGHLIGHT_FREE,!0]]))},$i=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},oS=function(){if(!u(this,Qi)){w(this,Qi,!0);for(const e of u(this,bt).values())e.enable();for(const e of u(this,lt).values())e.enable()}},aS=function(){if(this.unselectAll(),u(this,Qi)){w(this,Qi,!1);for(const e of u(this,bt).values())e.disable();for(const e of u(this,lt).values())e.disable()}},S0=function(e){const t=u(this,bt).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},lS=function(){let e=null;for(e of u(this,Le));return e},Cu=function(){if(u(this,lt).size===0)return!0;if(u(this,lt).size===1)for(const e of u(this,lt).values())return e.isEmpty();return!1},x0=function(e){for(const t of u(this,Le))t.unselect();u(this,Le).clear();for(const t of e)t.isEmpty()||(u(this,Le).add(t),t.select());_(this,W,Ht).call(this,{hasSelectedEditor:this.hasSelection})},de(Ba,"TRANSLATE_SMALL",1),de(Ba,"TRANSLATE_BIG",10);let ra=Ba;var ii,si,er,oi,tr,el,ai,jc,C0;const Xr=class Xr{constructor(e){E(this,jc);E(this,ii,"");E(this,si,!1);E(this,er,null);E(this,oi,null);E(this,tr,null);E(this,el,!1);E(this,ai,null);w(this,ai,e)}static initialize(e){Xr._l10nPromise||(Xr._l10nPromise=e)}async render(){const e=w(this,er,document.createElement("button"));e.className="altText";const t=await Xr._l10nPromise.get("pdfjs-editor-alt-text-button-label");e.textContent=t,e.setAttribute("aria-label",t),e.tabIndex="0",e.addEventListener("contextmenu",pn),e.addEventListener("pointerdown",i=>i.stopPropagation());const r=i=>{i.preventDefault(),u(this,ai)._uiManager.editAltText(u(this,ai))};return e.addEventListener("click",r,{capture:!0}),e.addEventListener("keydown",i=>{i.target===e&&i.key==="Enter"&&(w(this,el,!0),r(i))}),await _(this,jc,C0).call(this),e}finish(){u(this,er)&&(u(this,er).focus({focusVisible:u(this,el)}),w(this,el,!1))}isEmpty(){return!u(this,ii)&&!u(this,si)}get data(){return{altText:u(this,ii),decorative:u(this,si)}}set data({altText:e,decorative:t}){u(this,ii)===e&&u(this,si)===t||(w(this,ii,e),w(this,si,t),_(this,jc,C0).call(this))}toggle(e=!1){u(this,er)&&(!e&&u(this,tr)&&(clearTimeout(u(this,tr)),w(this,tr,null)),u(this,er).disabled=!e)}destroy(){var e;(e=u(this,er))==null||e.remove(),w(this,er,null),w(this,oi,null)}};ii=new WeakMap,si=new WeakMap,er=new WeakMap,oi=new WeakMap,tr=new WeakMap,el=new WeakMap,ai=new WeakMap,jc=new WeakSet,C0=async function(){var i;const e=u(this,er);if(!e)return;if(!u(this,ii)&&!u(this,si)){e.classList.remove("done"),(i=u(this,oi))==null||i.remove();return}e.classList.add("done"),Xr._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then(s=>{e.setAttribute("aria-label",s)});let t=u(this,oi);if(!t){w(this,oi,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip");const s=t.id=`alt-text-tooltip-${u(this,ai).id}`;e.setAttribute("aria-describedby",s);const o=100;e.addEventListener("mouseenter",()=>{w(this,tr,setTimeout(()=>{w(this,tr,null),u(this,oi).classList.add("show"),u(this,ai)._reportTelemetry({action:"alt_text_tooltip"})},o))}),e.addEventListener("mouseleave",()=>{var a;u(this,tr)&&(clearTimeout(u(this,tr)),w(this,tr,null)),(a=u(this,oi))==null||a.classList.remove("show")})}t.innerText=u(this,si)?await Xr._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):u(this,ii),t.parentNode||e.append(t);const r=u(this,ai).getImageForAltText();r==null||r.setAttribute("aria-describedby",t.id)},de(Xr,"_l10nPromise",null);let Kf=Xr;var nr,Vt,tl,ao,xt,lo,nl,rl,Bt,zc,uo,Ji,$c,co,li,Cr,il,sl,Fn,Uc,dp,ve,T0,Hc,k0,P0,uS,cS,L0,R0,I0,hS,dS,fS,pS,M0,Tu;const Fe=class Fe{constructor(e){E(this,ve);E(this,nr,null);E(this,Vt,null);E(this,tl,!1);E(this,ao,!1);E(this,xt,null);E(this,lo,null);E(this,nl,this.focusin.bind(this));E(this,rl,this.focusout.bind(this));E(this,Bt,null);E(this,zc,"");E(this,uo,!1);E(this,Ji,null);E(this,$c,!1);E(this,co,!1);E(this,li,!1);E(this,Cr,null);E(this,il,0);E(this,sl,0);E(this,Fn,null);de(this,"_initialOptions",Object.create(null));de(this,"_isVisible",!0);de(this,"_uiManager",null);de(this,"_focusEventsAllowed",!0);de(this,"_l10nPromise",null);E(this,Uc,!1);E(this,dp,Fe._zIndex++);this.constructor===Fe&&De("Cannot initialize AnnotationEditor."),this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:r,pageHeight:i,pageX:s,pageY:o}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,i],this.pageTranslation=[s,o];const[a,l]=this.parentDimensions;this.x=e.x/a,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=Fe.prototype._resizeWithKeyboard,t=ra.TRANSLATE_SMALL,r=ra.TRANSLATE_BIG;return Se(this,"_resizerKeyboardManager",new td([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,r]}],[["Escape","mac+Escape"],Fe.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return Se(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new dR({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t,r){if(Fe._l10nPromise||(Fe._l10nPromise=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map(s=>[s,e.get(s.replaceAll(/([A-Z])/g,o=>`-${o.toLowerCase()}`))]))),r!=null&&r.strings)for(const s of r.strings)Fe._l10nPromise.set(s,e.get(s));if(Fe._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);Fe._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){De("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return u(this,Uc)}set _isDraggable(e){var t;w(this,Uc,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=u(this,dp)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):_(this,ve,Tu).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(u(this,uo)?w(this,uo,!1):this.parent.setSelected(this))}focusout(e){var r;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(r=this.parent)!=null&&r.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,r,i){const[s,o]=this.parentDimensions;[r,i]=this.screenToPageTranslation(r,i),this.x=(e+r)/s,this.y=(t+i)/o,this.fixAndSetPosition()}translate(e,t){_(this,ve,T0).call(this,this.parentDimensions,e,t)}translateInPage(e,t){u(this,Ji)||w(this,Ji,[this.x,this.y]),_(this,ve,T0).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){u(this,Ji)||w(this,Ji,[this.x,this.y]);const[r,i]=this.parentDimensions;if(this.x+=e/r,this.y+=t/i,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:c,y:h}=this.div.getBoundingClientRect();this.parent.findNewParent(this,c,h)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:s,y:o}=this;const[a,l]=this.getBaseTranslation();s+=a,o+=l,this.div.style.left=`${(100*s).toFixed(2)}%`,this.div.style.top=`${(100*o).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!u(this,Ji)&&(u(this,Ji)[0]!==this.x||u(this,Ji)[1]!==this.y)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:r}=Fe,i=r/e,s=r/t;switch(this.rotation){case 90:return[-i,s];case 180:return[i,s];case 270:return[i,-s];default:return[-i,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const[t,r]=this.pageDimensions;let{x:i,y:s,width:o,height:a}=this;if(o*=t,a*=r,i*=t,s*=r,this._mustFixPosition)switch(e){case 0:i=Math.max(0,Math.min(t-o,i)),s=Math.max(0,Math.min(r-a,s));break;case 90:i=Math.max(0,Math.min(t-a,i)),s=Math.min(r,Math.max(o,s));break;case 180:i=Math.min(t,Math.max(o,i)),s=Math.min(r,Math.max(a,s));break;case 270:i=Math.min(t,Math.max(a,i)),s=Math.max(0,Math.min(r-o,s));break}this.x=i/=t,this.y=s/=r;const[l,c]=this.getBaseTranslation();i+=l,s+=c;const{style:h}=this.div;h.left=`${(100*i).toFixed(2)}%`,h.top=`${(100*s).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var r;return _(r=Fe,Hc,k0).call(r,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var r;return _(r=Fe,Hc,k0).call(r,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,r]}=this,i=t*e,s=r*e;return un.isCSSRoundSupported?[Math.round(i),Math.round(s)]:[i,s]}setDims(e,t){const[r,i]=this.parentDimensions;this.div.style.width=`${(100*e/r).toFixed(2)}%`,u(this,ao)||(this.div.style.height=`${(100*t/i).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:r}=e,i=r.endsWith("%"),s=!u(this,ao)&&t.endsWith("%");if(i&&s)return;const[o,a]=this.parentDimensions;i||(e.width=`${(100*parseFloat(r)/o).toFixed(2)}%`),!u(this,ao)&&!s&&(e.height=`${(100*parseFloat(t)/a).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var e;(e=u(this,Vt))==null||e.finish()}async addEditToolbar(){return u(this,Bt)||u(this,co)?u(this,Bt):(w(this,Bt,new p0(this)),this.div.append(u(this,Bt).render()),u(this,Vt)&&u(this,Bt).addAltTextButton(await u(this,Vt).render()),u(this,Bt))}removeEditToolbar(){var e;u(this,Bt)&&(u(this,Bt).remove(),w(this,Bt,null),(e=u(this,Vt))==null||e.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){u(this,Vt)||(Kf.initialize(Fe._l10nPromise),w(this,Vt,new Kf(this)),await this.addEditToolbar())}get altTextData(){var e;return(e=u(this,Vt))==null?void 0:e.data}set altTextData(e){u(this,Vt)&&(u(this,Vt).data=e)}hasAltText(){var e;return!((e=u(this,Vt))!=null&&e.isEmpty())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=u(this,tl)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),this.div.addEventListener("focusin",u(this,nl)),this.div.addEventListener("focusout",u(this,rl));const[e,t]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*t/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/t).toFixed(2)}%`);const[r,i]=this.getInitialTranslation();return this.translate(r,i),Xf(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:t}=un.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(w(this,uo,!0),this._isDraggable){_(this,ve,hS).call(this,e);return}_(this,ve,I0).call(this,e)}moveInDOM(){u(this,Cr)&&clearTimeout(u(this,Cr)),w(this,Cr,setTimeout(()=>{var e;w(this,Cr,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,r){e.changeParent(this),this.x=t,this.y=r,this.fixAndSetPosition()}getRect(e,t,r=this.rotation){const i=this.parentScale,[s,o]=this.pageDimensions,[a,l]=this.pageTranslation,c=e/i,h=t/i,d=this.x*s,f=this.y*o,p=this.width*s,g=this.height*o;switch(r){case 0:return[d+c+a,o-f-h-g+l,d+c+p+a,o-f-h+l];case 90:return[d+h+a,o-f+c+l,d+h+g+a,o-f+c+p+l];case 180:return[d-c-p+a,o-f+h+l,d-c+a,o-f+h+g+l];case 270:return[d-h-g+a,o-f-c-p+l,d-h+a,o-f-c+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[r,i,s,o]=e,a=s-r,l=o-i;switch(this.rotation){case 0:return[r,t-o,a,l];case 90:return[r,t-i,l,a];case 180:return[s,t-i,a,l];case 270:return[s,t-o,l,a];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){w(this,co,!0)}disableEditMode(){w(this,co,!1)}isInEditMode(){return u(this,co)}shouldGetKeyboardEvents(){return u(this,li)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var e,t;(e=this.div)==null||e.addEventListener("focusin",u(this,nl)),(t=this.div)==null||t.addEventListener("focusout",u(this,rl))}rotate(e){}serialize(e=!1,t=null){De("An editor must be serializable")}static deserialize(e,t,r){const i=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:r});i.rotation=e.rotation;const[s,o]=i.pageDimensions,[a,l,c,h]=i.getRectInCurrentCoords(e.rect,o);return i.x=a/s,i.y=l/o,i.width=c/s,i.height=h/o,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.div.removeEventListener("focusin",u(this,nl)),this.div.removeEventListener("focusout",u(this,rl)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),u(this,Cr)&&(clearTimeout(u(this,Cr)),w(this,Cr,null)),_(this,ve,Tu).call(this),this.removeEditToolbar(),u(this,Fn)){for(const e of u(this,Fn).values())clearTimeout(e);w(this,Fn,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(_(this,ve,uS).call(this),u(this,xt).classList.remove("hidden"),Xf(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),w(this,lo,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=u(this,xt).children;if(!u(this,nr)){w(this,nr,Array.from(t));const o=_(this,ve,dS).bind(this),a=_(this,ve,fS).bind(this);for(const l of u(this,nr)){const c=l.getAttribute("data-resizer-name");l.setAttribute("role","spinbutton"),l.addEventListener("keydown",o),l.addEventListener("blur",a),l.addEventListener("focus",_(this,ve,pS).bind(this,c)),Fe._l10nPromise.get(`pdfjs-editor-resizer-label-${c}`).then(h=>l.setAttribute("aria-label",h))}}const r=u(this,nr)[0];let i=0;for(const o of t){if(o===r)break;i++}const s=(360-this.rotation+this.parentRotation)%360/90*(u(this,nr).length/4);if(s!==i){if(s<i)for(let a=0;a<i-s;a++)u(this,xt).append(u(this,xt).firstChild);else if(s>i)for(let a=0;a<s-i;a++)u(this,xt).firstChild.before(u(this,xt).lastChild);let o=0;for(const a of t){const c=u(this,nr)[o++].getAttribute("data-resizer-name");Fe._l10nPromise.get(`pdfjs-editor-resizer-label-${c}`).then(h=>a.setAttribute("aria-label",h))}}_(this,ve,M0).call(this,0),w(this,li,!0),u(this,xt).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){u(this,li)&&_(this,ve,R0).call(this,u(this,zc),{movementX:e,movementY:t})}_stopResizingWithKeyboard(){_(this,ve,Tu).call(this),this.div.focus()}select(){var e,t;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!u(this,Bt)){this.addEditToolbar().then(()=>{var r,i;(r=this.div)!=null&&r.classList.contains("selectedEditor")&&((i=u(this,Bt))==null||i.show())});return}(t=u(this,Bt))==null||t.show()}unselect(){var e,t,r,i;(e=u(this,xt))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(r=this.div)!=null&&r.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=u(this,Bt))==null||i.hide()}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return u(this,$c)}set isEditing(e){w(this,$c,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){w(this,ao,!0);const r=e/t,{style:i}=this.div;i.aspectRatio=r,i.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){u(this,Fn)||w(this,Fn,new Map);const{action:r}=e;let i=u(this,Fn).get(r);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),u(this,Fn).delete(r),u(this,Fn).size===0&&w(this,Fn,null)},Fe._telemetryTimeout),u(this,Fn).set(r,i);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),w(this,tl,!1)}disable(){this.div&&(this.div.tabIndex=-1),w(this,tl,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const r=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),r.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;t.nodeName==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};nr=new WeakMap,Vt=new WeakMap,tl=new WeakMap,ao=new WeakMap,xt=new WeakMap,lo=new WeakMap,nl=new WeakMap,rl=new WeakMap,Bt=new WeakMap,zc=new WeakMap,uo=new WeakMap,Ji=new WeakMap,$c=new WeakMap,co=new WeakMap,li=new WeakMap,Cr=new WeakMap,il=new WeakMap,sl=new WeakMap,Fn=new WeakMap,Uc=new WeakMap,dp=new WeakMap,ve=new WeakSet,T0=function([e,t],r,i){[r,i]=this.screenToPageTranslation(r,i),this.x+=r/e,this.y+=i/t,this.fixAndSetPosition()},Hc=new WeakSet,k0=function(e,t,r){switch(r){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},P0=function(e){switch(e){case 90:{const[t,r]=this.pageDimensions;return[0,-t/r,r/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,r]=this.pageDimensions;return[0,t/r,-r/t,0]}default:return[1,0,0,1]}},uS=function(){if(u(this,xt))return;w(this,xt,document.createElement("div")),u(this,xt).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"];for(const t of e){const r=document.createElement("div");u(this,xt).append(r),r.classList.add("resizer",t),r.setAttribute("data-resizer-name",t),r.addEventListener("pointerdown",_(this,ve,cS).bind(this,t)),r.addEventListener("contextmenu",pn),r.tabIndex=-1}this.div.prepend(u(this,xt))},cS=function(e,t){var g;t.preventDefault();const{isMac:r}=un.platform;if(t.button!==0||t.ctrlKey&&r)return;(g=u(this,Vt))==null||g.toggle(!1);const i=_(this,ve,R0).bind(this,e),s=this._isDraggable;this._isDraggable=!1;const o={passive:!0,capture:!0};this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",i,o),window.addEventListener("contextmenu",pn);const a=this.x,l=this.y,c=this.width,h=this.height,d=this.parent.div.style.cursor,f=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const p=()=>{var y;this.parent.togglePointerEvents(!0),(y=u(this,Vt))==null||y.toggle(!0),this._isDraggable=s,window.removeEventListener("pointerup",p),window.removeEventListener("blur",p),window.removeEventListener("pointermove",i,o),window.removeEventListener("contextmenu",pn),this.parent.div.style.cursor=d,this.div.style.cursor=f,_(this,ve,L0).call(this,a,l,c,h)};window.addEventListener("pointerup",p),window.addEventListener("blur",p)},L0=function(e,t,r,i){const s=this.x,o=this.y,a=this.width,l=this.height;s===e&&o===t&&a===r&&l===i||this.addCommands({cmd:()=>{this.width=a,this.height=l,this.x=s,this.y=o;const[c,h]=this.parentDimensions;this.setDims(c*a,h*l),this.fixAndSetPosition()},undo:()=>{this.width=r,this.height=i,this.x=e,this.y=t;const[c,h]=this.parentDimensions;this.setDims(c*r,h*i),this.fixAndSetPosition()},mustExec:!0})},R0=function(e,t){const[r,i]=this.parentDimensions,s=this.x,o=this.y,a=this.width,l=this.height,c=Fe.MIN_SIZE/r,h=Fe.MIN_SIZE/i,d=V=>Math.round(V*1e4)/1e4,f=_(this,ve,P0).call(this,this.rotation),p=(V,x)=>[f[0]*V+f[2]*x,f[1]*V+f[3]*x],g=_(this,ve,P0).call(this,360-this.rotation),y=(V,x)=>[g[0]*V+g[2]*x,g[1]*V+g[3]*x];let b,m,v=!1,A=!1;switch(e){case"topLeft":v=!0,b=(V,x)=>[0,0],m=(V,x)=>[V,x];break;case"topMiddle":b=(V,x)=>[V/2,0],m=(V,x)=>[V/2,x];break;case"topRight":v=!0,b=(V,x)=>[V,0],m=(V,x)=>[0,x];break;case"middleRight":A=!0,b=(V,x)=>[V,x/2],m=(V,x)=>[0,x/2];break;case"bottomRight":v=!0,b=(V,x)=>[V,x],m=(V,x)=>[0,0];break;case"bottomMiddle":b=(V,x)=>[V/2,x],m=(V,x)=>[V/2,0];break;case"bottomLeft":v=!0,b=(V,x)=>[0,x],m=(V,x)=>[V,0];break;case"middleLeft":A=!0,b=(V,x)=>[0,x/2],m=(V,x)=>[V,x/2];break}const S=b(a,l),C=m(a,l);let k=p(...C);const I=d(s+k[0]),M=d(o+k[1]);let z=1,j=1,[N,X]=this.screenToPageTranslation(t.movementX,t.movementY);if([N,X]=y(N/r,X/i),v){const V=Math.hypot(a,l);z=j=Math.max(Math.min(Math.hypot(C[0]-S[0]-N,C[1]-S[1]-X)/V,1/a,1/l),c/a,h/l)}else A?z=Math.max(c,Math.min(1,Math.abs(C[0]-S[0]-N)))/a:j=Math.max(h,Math.min(1,Math.abs(C[1]-S[1]-X)))/l;const q=d(a*z),Q=d(l*j);k=p(...m(q,Q));const ee=I-k[0],le=M-k[1];this.width=q,this.height=Q,this.x=ee,this.y=le,this.setDims(r*q,i*Q),this.fixAndSetPosition()},I0=function(e){const{isMac:t}=un.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},hS=function(e){const t=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let r,i;t&&(this.div.classList.add("moving"),r={passive:!0,capture:!0},w(this,il,e.clientX),w(this,sl,e.clientY),i=o=>{const{clientX:a,clientY:l}=o,[c,h]=this.screenToPageTranslation(a-u(this,il),l-u(this,sl));w(this,il,a),w(this,sl,l),this._uiManager.dragSelectedEditors(c,h)},window.addEventListener("pointermove",i,r));const s=()=>{window.removeEventListener("pointerup",s),window.removeEventListener("blur",s),t&&(this.div.classList.remove("moving"),window.removeEventListener("pointermove",i,r)),w(this,uo,!1),this._uiManager.endDragSession()||_(this,ve,I0).call(this,e)};window.addEventListener("pointerup",s),window.addEventListener("blur",s)},dS=function(e){Fe._resizerKeyboardManager.exec(this,e)},fS=function(e){var t;u(this,li)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==u(this,xt)&&_(this,ve,Tu).call(this)},pS=function(e){w(this,zc,u(this,li)?e:"")},M0=function(e){if(u(this,nr))for(const t of u(this,nr))t.tabIndex=e},Tu=function(){if(w(this,li,!1),_(this,ve,M0).call(this,-1),u(this,lo)){const{savedX:e,savedY:t,savedWidth:r,savedHeight:i}=u(this,lo);_(this,ve,L0).call(this,e,t,r,i),w(this,lo,null)}},E(Fe,Hc),de(Fe,"_borderLineWidth",-1),de(Fe,"_colorManager",new y0),de(Fe,"_zIndex",1),de(Fe,"_telemetryTimeout",1e3);let Re=Fe;class dR extends Re{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}const Qw=3285377520,On=4294901760,vr=65535;class gS{constructor(e){this.h1=e?e&4294967295:Qw,this.h2=e?e&4294967295:Qw}update(e){let t,r;if(typeof e=="string"){t=new Uint8Array(e.length*2),r=0;for(let y=0,b=e.length;y<b;y++){const m=e.charCodeAt(y);m<=255?t[r++]=m:(t[r++]=m>>>8,t[r++]=m&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),r=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=r>>2,s=r-i*4,o=new Uint32Array(t.buffer,0,i);let a=0,l=0,c=this.h1,h=this.h2;const d=3432918353,f=461845907,p=d&vr,g=f&vr;for(let y=0;y<i;y++)y&1?(a=o[y],a=a*d&On|a*p&vr,a=a<<15|a>>>17,a=a*f&On|a*g&vr,c^=a,c=c<<13|c>>>19,c=c*5+3864292196):(l=o[y],l=l*d&On|l*p&vr,l=l<<15|l>>>17,l=l*f&On|l*g&vr,h^=l,h=h<<13|h>>>19,h=h*5+3864292196);switch(a=0,s){case 3:a^=t[i*4+2]<<16;case 2:a^=t[i*4+1]<<8;case 1:a^=t[i*4],a=a*d&On|a*p&vr,a=a<<15|a>>>17,a=a*f&On|a*g&vr,i&1?c^=a:h^=a}this.h1=c,this.h2=h}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&On|e*36045&vr,t=t*4283543511&On|((t<<16|e>>>16)*2950163797&On)>>>16,e^=t>>>1,e=e*444984403&On|e*60499&vr,t=t*3301882366&On|((t<<16|e>>>16)*3120437893&On)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const O0=Object.freeze({map:null,hash:"",transfer:void 0});var ho,Ct,fp,mS;class Hy{constructor(){E(this,fp);E(this,ho,!1);E(this,Ct,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const r=u(this,Ct).get(e);return r===void 0?t:Object.assign(t,r)}getRawValue(e){return u(this,Ct).get(e)}remove(e){if(u(this,Ct).delete(e),u(this,Ct).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of u(this,Ct).values())if(t instanceof Re)return;this.onAnnotationEditor(null)}}setValue(e,t){const r=u(this,Ct).get(e);let i=!1;if(r!==void 0)for(const[s,o]of Object.entries(t))r[s]!==o&&(i=!0,r[s]=o);else i=!0,u(this,Ct).set(e,t);i&&_(this,fp,mS).call(this),t instanceof Re&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return u(this,Ct).has(e)}getAll(){return u(this,Ct).size>0?Ny(u(this,Ct)):null}setAll(e){for(const[t,r]of Object.entries(e))this.setValue(t,r)}get size(){return u(this,Ct).size}resetModified(){u(this,ho)&&(w(this,ho,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new vS(this)}get serializable(){if(u(this,Ct).size===0)return O0;const e=new Map,t=new gS,r=[],i=Object.create(null);let s=!1;for(const[o,a]of u(this,Ct)){const l=a instanceof Re?a.serialize(!1,i):a;l&&(e.set(o,l),t.update(`${o}:${JSON.stringify(l)}`),s||(s=!!l.bitmap))}if(s)for(const o of e.values())o.bitmap&&r.push(o.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:r}:O0}get editorStats(){let e=null;const t=new Map;for(const r of u(this,Ct).values()){if(!(r instanceof Re))continue;const i=r.telemetryFinalData;if(!i)continue;const{type:s}=i;t.has(s)||t.set(s,Object.getPrototypeOf(r).constructor),e||(e=Object.create(null));const o=e[s]||(e[s]=new Map);for(const[a,l]of Object.entries(i)){if(a==="type")continue;let c=o.get(a);c||(c=new Map,o.set(a,c));const h=c.get(l)??0;c.set(l,h+1)}}for(const[r,i]of t)e[r]=i.computeTelemetryFinalData(e[r]);return e}}ho=new WeakMap,Ct=new WeakMap,fp=new WeakSet,mS=function(){u(this,ho)||(w(this,ho,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Vc;class vS extends Hy{constructor(t){super();E(this,Vc);const{map:r,hash:i,transfer:s}=t.serializable,o=structuredClone(r,s?{transfer:s}:null);w(this,Vc,{map:o,hash:i,transfer:s})}get print(){De("Should not call PrintAnnotationStorage.print")}get serializable(){return u(this,Vc)}}Vc=new WeakMap;var ol;class fR{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){E(this,ol,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),u(this,ol).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:t}){if(!(!e||u(this,ol).has(e.loadedName))){if(ft(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:i,style:s}=e,o=new FontFace(r,i,s);this.addNativeFontFace(o);try{await o.load(),u(this,ol).add(r),t==null||t(e)}catch{fe(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}De("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const r=e.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(i){throw fe(`Failed to load font '${r.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const i=this._queueLoadingCallback(r);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return Se(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return($t||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),Se(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function t(){for(ft(!i.done,"completeRequest() cannot be called twice."),i.done=!0;r.length>0&&r[0].done;){const s=r.shift();setTimeout(s.callback,0)}}const{loadingRequests:r}=this,i={done:!1,complete:t,callback:e};return r.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Se(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function r(S,C){return S.charCodeAt(C)<<24|S.charCodeAt(C+1)<<16|S.charCodeAt(C+2)<<8|S.charCodeAt(C+3)&255}function i(S,C,k,I){const M=S.substring(0,C),z=S.substring(C+k);return M+I+z}let s,o;const a=this._document.createElement("canvas");a.width=1,a.height=1;const l=a.getContext("2d");let c=0;function h(S,C){if(++c>30){fe("Load test font never loaded."),C();return}if(l.font="30px "+S,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){C();return}setTimeout(h.bind(null,S,C))}const d=`lt${Date.now()}${this.loadTestFontId++}`;let f=this._loadTestFont;f=i(f,976,d.length,d);const g=16,y=1482184792;let b=r(f,g);for(s=0,o=d.length-3;s<o;s+=4)b=b-y+r(d,s)|0;s<d.length&&(b=b-y+r(d+"XXX",s)|0),f=i(f,g,4,qL(b));const m=`url(data:font/opentype;base64,${btoa(f)});`,v=`@font-face {font-family:"${d}";src:${m}}`;this.insertRule(v);const A=this._document.createElement("div");A.style.visibility="hidden",A.style.width=A.style.height="10px",A.style.position="absolute",A.style.top=A.style.left="0px";for(const S of[e.loadedName,d]){const C=this._document.createElement("span");C.textContent="Hi",C.style.fontFamily=S,A.append(C)}this._document.body.append(A),h(d,()=>{A.remove(),t.complete()})}}ol=new WeakMap;class pR{constructor(e,{disableFontFace:t=!1,inspectFont:r=null}){this.compiledGlyphs=Object.create(null);for(const i in e)this[i]=e[i];this.disableFontFace=t===!0,this._inspectFont=r}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const r={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(r.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,r)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var i;if(!this.data||this.disableFontFace)return null;const e=zb(this.data),t=`url(data:${this.mimetype};base64,${btoa(e)});`;let r;if(!this.cssFontInfo)r=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let s=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(s+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),r=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${s}src:${t}}`}return(i=this._inspectFont)==null||i.call(this,this,t),r}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];let r;try{r=e.get(this.loadedName+"_path_"+t)}catch(s){fe(`getPathGenerator - ignoring character: "${s}".`)}if(!Array.isArray(r)||r.length===0)return this.compiledGlyphs[t]=function(s,o){};const i=[];for(let s=0,o=r.length;s<o;)switch(r[s++]){case Vr.BEZIER_CURVE_TO:{const[a,l,c,h,d,f]=r.slice(s,s+6);i.push(p=>p.bezierCurveTo(a,l,c,h,d,f)),s+=6}break;case Vr.MOVE_TO:{const[a,l]=r.slice(s,s+2);i.push(c=>c.moveTo(a,l)),s+=2}break;case Vr.LINE_TO:{const[a,l]=r.slice(s,s+2);i.push(c=>c.lineTo(a,l)),s+=2}break;case Vr.QUADRATIC_CURVE_TO:{const[a,l,c,h]=r.slice(s,s+4);i.push(d=>d.quadraticCurveTo(a,l,c,h)),s+=4}break;case Vr.RESTORE:i.push(a=>a.restore());break;case Vr.SAVE:i.push(a=>a.save());break;case Vr.SCALE:ft(i.length===2,"Scale command is only valid at the third position.");break;case Vr.TRANSFORM:{const[a,l,c,h,d,f]=r.slice(s,s+6);i.push(p=>p.transform(a,l,c,h,d,f)),s+=6}break;case Vr.TRANSLATE:{const[a,l]=r.slice(s,s+2);i.push(c=>c.translate(a,l)),s+=2}break}return this.compiledGlyphs[t]=function(o,a){i[0](o),i[1](o),o.scale(a,-a);for(let l=2,c=i.length;l<c;l++)i[l](o)}}}if($t){var D0=Promise.withResolvers(),Ku=null;(async()=>{const e=await Td(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),t=await Td(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),r=await Td(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),i=await Td(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let s,o;return new Map(Object.entries({fs:e,http:t,https:r,url:i,canvas:s,path2d:o}))})().then(e=>{Ku=e,D0.resolve()},e=>{fe(`loadPackages: ${e}`),Ku=new Map,D0.resolve()})}class Ur{static get promise(){return D0.promise}static get(e){return Ku==null?void 0:Ku.get(e)}}const yS=function(n){return Ur.get("fs").promises.readFile(n).then(t=>new Uint8Array(t))};class gR extends ag{}class mR extends lg{_createCanvas(e,t){return Ur.get("canvas").createCanvas(e,t)}}class vR extends ug{_fetchData(e,t){return yS(e).then(r=>({cMapData:r,compressionType:t}))}}class yR extends cg{_fetchData(e){return yS(e)}}const Xt={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function N0(n,e){if(!e)return;const t=e[2]-e[0],r=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],t,r),n.clip(i)}class nd{constructor(){this.constructor===nd&&De("Cannot initialize BaseShadingPattern.")}getPattern(){De("Abstract method `getPattern` called.")}}class wR extends nd{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const r of this._colorStops)t.addColorStop(r[0],r[1]);return t}getPattern(e,t,r,i){let s;if(i===Xt.STROKE||i===Xt.FILL){const o=t.current.getClippedPathBoundingBox(i,Xe(e))||[0,0,0,0],a=Math.ceil(o[2]-o[0])||1,l=Math.ceil(o[3]-o[1])||1,c=t.cachedCanvases.getCanvas("pattern",a,l,!0),h=c.context;h.clearRect(0,0,h.canvas.width,h.canvas.height),h.beginPath(),h.rect(0,0,h.canvas.width,h.canvas.height),h.translate(-o[0],-o[1]),r=te.transform(r,[1,0,0,1,o[0],o[1]]),h.transform(...t.baseTransform),this.matrix&&h.transform(...this.matrix),N0(h,this._bbox),h.fillStyle=this._createGradient(h),h.fill(),s=e.createPattern(c.canvas,"no-repeat");const d=new DOMMatrix(r);s.setTransform(d)}else N0(e,this._bbox),s=this._createGradient(e);return s}}function tm(n,e,t,r,i,s,o,a){const l=e.coords,c=e.colors,h=n.data,d=n.width*4;let f;l[t+1]>l[r+1]&&(f=t,t=r,r=f,f=s,s=o,o=f),l[r+1]>l[i+1]&&(f=r,r=i,i=f,f=o,o=a,a=f),l[t+1]>l[r+1]&&(f=t,t=r,r=f,f=s,s=o,o=f);const p=(l[t]+e.offsetX)*e.scaleX,g=(l[t+1]+e.offsetY)*e.scaleY,y=(l[r]+e.offsetX)*e.scaleX,b=(l[r+1]+e.offsetY)*e.scaleY,m=(l[i]+e.offsetX)*e.scaleX,v=(l[i+1]+e.offsetY)*e.scaleY;if(g>=v)return;const A=c[s],S=c[s+1],C=c[s+2],k=c[o],I=c[o+1],M=c[o+2],z=c[a],j=c[a+1],N=c[a+2],X=Math.round(g),q=Math.round(v);let Q,ee,le,V,x,T,L,F;for(let R=X;R<=q;R++){if(R<b){const G=R<g?0:(g-R)/(g-b);Q=p-(p-y)*G,ee=A-(A-k)*G,le=S-(S-I)*G,V=C-(C-M)*G}else{let G;R>v?G=1:b===v?G=0:G=(b-R)/(b-v),Q=y-(y-m)*G,ee=k-(k-z)*G,le=I-(I-j)*G,V=M-(M-N)*G}let O;R<g?O=0:R>v?O=1:O=(g-R)/(g-v),x=p-(p-m)*O,T=A-(A-z)*O,L=S-(S-j)*O,F=C-(C-N)*O;const B=Math.round(Math.min(Q,x)),K=Math.round(Math.max(Q,x));let P=d*R+B*4;for(let G=B;G<=K;G++)O=(Q-G)/(Q-x),O<0?O=0:O>1&&(O=1),h[P++]=ee-(ee-T)*O|0,h[P++]=le-(le-L)*O|0,h[P++]=V-(V-F)*O|0,h[P++]=255}}function _R(n,e,t){const r=e.coords,i=e.colors;let s,o;switch(e.type){case"lattice":const a=e.verticesPerRow,l=Math.floor(r.length/a)-1,c=a-1;for(s=0;s<l;s++){let h=s*a;for(let d=0;d<c;d++,h++)tm(n,t,r[h],r[h+1],r[h+a],i[h],i[h+1],i[h+a]),tm(n,t,r[h+a+1],r[h+1],r[h+a],i[h+a+1],i[h+1],i[h+a])}break;case"triangles":for(s=0,o=r.length;s<o;s+=3)tm(n,t,r[s],r[s+1],r[s+2],i[s],i[s+1],i[s+2]);break;default:throw new Error("illegal figure")}}class ER extends nd{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,r){const a=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),c=Math.ceil(this._bounds[2])-a,h=Math.ceil(this._bounds[3])-l,d=Math.min(Math.ceil(Math.abs(c*e[0]*1.1)),3e3),f=Math.min(Math.ceil(Math.abs(h*e[1]*1.1)),3e3),p=c/d,g=h/f,y={coords:this._coords,colors:this._colors,offsetX:-a,offsetY:-l,scaleX:1/p,scaleY:1/g},b=d+2*2,m=f+2*2,v=r.getCanvas("mesh",b,m,!1),A=v.context,S=A.createImageData(d,f);if(t){const k=S.data;for(let I=0,M=k.length;I<M;I+=4)k[I]=t[0],k[I+1]=t[1],k[I+2]=t[2],k[I+3]=255}for(const k of this._figures)_R(S,k,y);return A.putImageData(S,2,2),{canvas:v.canvas,offsetX:a-2*p,offsetY:l-2*g,scaleX:p,scaleY:g}}getPattern(e,t,r,i){N0(e,this._bbox);let s;if(i===Xt.SHADING)s=te.singularValueDecompose2dScale(Xe(e));else if(s=te.singularValueDecompose2dScale(t.baseTransform),this.matrix){const a=te.singularValueDecompose2dScale(this.matrix);s=[s[0]*a[0],s[1]*a[1]]}const o=this._createMeshCanvas(s,i===Xt.SHADING?null:this._background,t.cachedCanvases);return i!==Xt.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(o.offsetX,o.offsetY),e.scale(o.scaleX,o.scaleY),e.createPattern(o.canvas,"no-repeat")}}class AR extends nd{getPattern(){return"hotpink"}}function bR(n){switch(n[0]){case"RadialAxial":return new wR(n);case"Mesh":return new ER(n);case"Dummy":return new AR}throw new Error(`Unknown IR type: ${n[0]}`)}const Zw={COLORED:1,UNCOLORED:2},pp=class pp{constructor(e,t,r,i,s){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=r,this.canvasGraphicsFactory=i,this.baseTransform=s}createPatternCanvas(e){const t=this.operatorList,r=this.bbox,i=this.xstep,s=this.ystep,o=this.paintType,a=this.tilingType,l=this.color,c=this.canvasGraphicsFactory;ig("TilingType: "+a);const h=r[0],d=r[1],f=r[2],p=r[3],g=te.singularValueDecompose2dScale(this.matrix),y=te.singularValueDecompose2dScale(this.baseTransform),b=[g[0]*y[0],g[1]*y[1]],m=this.getSizeAndScale(i,this.ctx.canvas.width,b[0]),v=this.getSizeAndScale(s,this.ctx.canvas.height,b[1]),A=e.cachedCanvases.getCanvas("pattern",m.size,v.size,!0),S=A.context,C=c.createCanvasGraphics(S);C.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(C,o,l);let k=h,I=d,M=f,z=p;return h<0&&(k=0,M+=Math.abs(h)),d<0&&(I=0,z+=Math.abs(d)),S.translate(-(m.scale*k),-(v.scale*I)),C.transform(m.scale,0,0,v.scale,0,0),S.save(),this.clipBbox(C,k,I,M,z),C.baseTransform=Xe(C.ctx),C.executeOperatorList(t),C.endDrawing(),{canvas:A.canvas,scaleX:m.scale,scaleY:v.scale,offsetX:k,offsetY:I}}getSizeAndScale(e,t,r){e=Math.abs(e);const i=Math.max(pp.MAX_PATTERN_SIZE,t);let s=Math.ceil(e*r);return s>=i?s=i:r=s/e,{scale:r,size:s}}clipBbox(e,t,r,i,s){const o=i-t,a=s-r;e.ctx.rect(t,r,o,a),e.current.updateRectMinMax(Xe(e.ctx),[t,r,i,s]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,r){const i=e.ctx,s=e.current;switch(t){case Zw.COLORED:const o=this.ctx;i.fillStyle=o.fillStyle,i.strokeStyle=o.strokeStyle,s.fillColor=o.fillStyle,s.strokeColor=o.strokeStyle;break;case Zw.UNCOLORED:const a=te.makeHexColor(r[0],r[1],r[2]);i.fillStyle=a,i.strokeStyle=a,s.fillColor=a,s.strokeColor=a;break;default:throw new KL(`Unsupported paint type: ${t}`)}}getPattern(e,t,r,i){let s=r;i!==Xt.SHADING&&(s=te.transform(s,t.baseTransform),this.matrix&&(s=te.transform(s,this.matrix)));const o=this.createPatternCanvas(t);let a=new DOMMatrix(s);a=a.translate(o.offsetX,o.offsetY),a=a.scale(1/o.scaleX,1/o.scaleY);const l=e.createPattern(o.canvas,"repeat");return l.setTransform(a),l}};de(pp,"MAX_PATTERN_SIZE",3e3);let F0=pp;function SR({src:n,srcPos:e=0,dest:t,width:r,height:i,nonBlackColor:s=4294967295,inverseDecode:o=!1}){const a=un.isLittleEndian?4278190080:255,[l,c]=o?[s,a]:[a,s],h=r>>3,d=r&7,f=n.length;t=new Uint32Array(t.buffer);let p=0;for(let g=0;g<i;g++){for(const b=e+h;e<b;e++){const m=e<f?n[e]:255;t[p++]=m&128?c:l,t[p++]=m&64?c:l,t[p++]=m&32?c:l,t[p++]=m&16?c:l,t[p++]=m&8?c:l,t[p++]=m&4?c:l,t[p++]=m&2?c:l,t[p++]=m&1?c:l}if(d===0)continue;const y=e<f?n[e++]:255;for(let b=0;b<d;b++)t[p++]=y&1<<7-b?c:l}return{srcPos:e,destPos:p}}const Jw=16,e_=100,xR=15,t_=10,n_=1e3,rn=16;function CR(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(r,i){e.translate(r,i),this.__originalTranslate(r,i)},n.scale=function(r,i){e.scale(r,i),this.__originalScale(r,i)},n.transform=function(r,i,s,o,a,l){e.transform(r,i,s,o,a,l),this.__originalTransform(r,i,s,o,a,l)},n.setTransform=function(r,i,s,o,a,l){e.setTransform(r,i,s,o,a,l),this.__originalSetTransform(r,i,s,o,a,l)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(r){e.rotate(r),this.__originalRotate(r)},n.clip=function(r){e.clip(r),this.__originalClip(r)},n.moveTo=function(t,r){e.moveTo(t,r),this.__originalMoveTo(t,r)},n.lineTo=function(t,r){e.lineTo(t,r),this.__originalLineTo(t,r)},n.bezierCurveTo=function(t,r,i,s,o,a){e.bezierCurveTo(t,r,i,s,o,a),this.__originalBezierCurveTo(t,r,i,s,o,a)},n.rect=function(t,r,i,s){e.rect(t,r,i,s),this.__originalRect(t,r,i,s)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class TR{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,r){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,t,r)):(i=this.canvasFactory.create(t,r),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function kd(n,e,t,r,i,s,o,a,l,c){const[h,d,f,p,g,y]=Xe(n);if(d===0&&f===0){const v=o*h+g,A=Math.round(v),S=a*p+y,C=Math.round(S),k=(o+l)*h+g,I=Math.abs(Math.round(k)-A)||1,M=(a+c)*p+y,z=Math.abs(Math.round(M)-C)||1;return n.setTransform(Math.sign(h),0,0,Math.sign(p),A,C),n.drawImage(e,t,r,i,s,0,0,I,z),n.setTransform(h,d,f,p,g,y),[I,z]}if(h===0&&p===0){const v=a*f+g,A=Math.round(v),S=o*d+y,C=Math.round(S),k=(a+c)*f+g,I=Math.abs(Math.round(k)-A)||1,M=(o+l)*d+y,z=Math.abs(Math.round(M)-C)||1;return n.setTransform(0,Math.sign(d),Math.sign(f),0,A,C),n.drawImage(e,t,r,i,s,0,0,z,I),n.setTransform(h,d,f,p,g,y),[z,I]}n.drawImage(e,t,r,i,s,o,a,l,c);const b=Math.hypot(h,d),m=Math.hypot(f,p);return[b*l,m*c]}function kR(n){const{width:e,height:t}=n;if(e>n_||t>n_)return null;const r=1e3,i=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),s=e+1;let o=new Uint8Array(s*(t+1)),a,l,c;const h=e+7&-8;let d=new Uint8Array(h*t),f=0;for(const m of n.data){let v=128;for(;v>0;)d[f++]=m&v?0:255,v>>=1}let p=0;for(f=0,d[f]!==0&&(o[0]=1,++p),l=1;l<e;l++)d[f]!==d[f+1]&&(o[l]=d[f]?2:1,++p),f++;for(d[f]!==0&&(o[l]=2,++p),a=1;a<t;a++){f=a*h,c=a*s,d[f-h]!==d[f]&&(o[c]=d[f]?1:8,++p);let m=(d[f]?4:0)+(d[f-h]?8:0);for(l=1;l<e;l++)m=(m>>2)+(d[f+1]?4:0)+(d[f-h+1]?8:0),i[m]&&(o[c+l]=i[m],++p),f++;if(d[f-h]!==d[f]&&(o[c+l]=d[f]?2:4,++p),p>r)return null}for(f=h*(t-1),c=a*s,d[f]!==0&&(o[c]=8,++p),l=1;l<e;l++)d[f]!==d[f+1]&&(o[c+l]=d[f]?4:8,++p),f++;if(d[f]!==0&&(o[c+l]=4,++p),p>r)return null;const g=new Int32Array([0,s,-1,0,-s,0,0,0,1]),y=new Path2D;for(a=0;p&&a<=t;a++){let m=a*s;const v=m+e;for(;m<v&&!o[m];)m++;if(m===v)continue;y.moveTo(m%s,a);const A=m;let S=o[m];do{const C=g[S];do m+=C;while(!o[m]);const k=o[m];k!==5&&k!==10?(S=k,o[m]=0):(S=k&51*S>>4,o[m]&=S>>2|S<<2),y.lineTo(m%s,m/s|0),o[m]||--p}while(A!==m);--a}return d=null,o=null,function(m){m.save(),m.scale(1/e,-1/t),m.translate(0,-t),m.fill(y),m.beginPath(),m.restore()}}class r_{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=Bb,this.textMatrixScale=1,this.fontMatrix=a0,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Dt.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,r){[t,r]=te.applyTransform([t,r],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,r),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,r)}updateRectMinMax(e,t){const r=te.applyTransform(t,e),i=te.applyTransform(t.slice(2),e),s=te.applyTransform([t[0],t[3]],e),o=te.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,r[0],i[0],s[0],o[0]),this.minY=Math.min(this.minY,r[1],i[1],s[1],o[1]),this.maxX=Math.max(this.maxX,r[0],i[0],s[0],o[0]),this.maxY=Math.max(this.maxY,r[1],i[1],s[1],o[1])}updateScalingPathMinMax(e,t){te.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,r,i,s,o,a,l,c,h){const d=te.bezierBoundingBox(t,r,i,s,o,a,l,c,h);h||this.updateRectMinMax(e,d)}getPathBoundingBox(e=Xt.FILL,t=null){const r=[this.minX,this.minY,this.maxX,this.maxY];if(e===Xt.STROKE){t||De("Stroke bounding box must include transform.");const i=te.singularValueDecompose2dScale(t),s=i[0]*this.lineWidth/2,o=i[1]*this.lineWidth/2;r[0]-=s,r[1]-=o,r[2]+=s,r[3]+=o}return r}updateClipFromPath(){const e=te.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=Xt.FILL,t=null){return te.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function i_(n,e){if(typeof ImageData<"u"&&e instanceof ImageData){n.putImageData(e,0,0);return}const t=e.height,r=e.width,i=t%rn,s=(t-i)/rn,o=i===0?s:s+1,a=n.createImageData(r,rn);let l=0,c;const h=e.data,d=a.data;let f,p,g,y;if(e.kind===Yd.GRAYSCALE_1BPP){const b=h.byteLength,m=new Uint32Array(d.buffer,0,d.byteLength>>2),v=m.length,A=r+7>>3,S=4294967295,C=un.isLittleEndian?4278190080:255;for(f=0;f<o;f++){for(g=f<s?rn:i,c=0,p=0;p<g;p++){const k=b-l;let I=0;const M=k>A?r:k*8-7,z=M&-8;let j=0,N=0;for(;I<z;I+=8)N=h[l++],m[c++]=N&128?S:C,m[c++]=N&64?S:C,m[c++]=N&32?S:C,m[c++]=N&16?S:C,m[c++]=N&8?S:C,m[c++]=N&4?S:C,m[c++]=N&2?S:C,m[c++]=N&1?S:C;for(;I<M;I++)j===0&&(N=h[l++],j=128),m[c++]=N&j?S:C,j>>=1}for(;c<v;)m[c++]=0;n.putImageData(a,0,f*rn)}}else if(e.kind===Yd.RGBA_32BPP){for(p=0,y=r*rn*4,f=0;f<s;f++)d.set(h.subarray(l,l+y)),l+=y,n.putImageData(a,0,p),p+=rn;f<o&&(y=r*i*4,d.set(h.subarray(l,l+y)),n.putImageData(a,0,p))}else if(e.kind===Yd.RGB_24BPP)for(g=rn,y=r*g,f=0;f<o;f++){for(f>=s&&(g=i,y=r*g),c=0,p=y;p--;)d[c++]=h[l++],d[c++]=h[l++],d[c++]=h[l++],d[c++]=255;n.putImageData(a,0,f*rn)}else throw new Error(`bad image kind: ${e.kind}`)}function s_(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const t=e.height,r=e.width,i=t%rn,s=(t-i)/rn,o=i===0?s:s+1,a=n.createImageData(r,rn);let l=0;const c=e.data,h=a.data;for(let d=0;d<o;d++){const f=d<s?rn:i;({srcPos:l}=SR({src:c,srcPos:l,dest:h,width:r,height:f,nonBlackColor:0})),n.putImageData(a,0,d*rn)}}function mu(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of t)n[r]!==void 0&&(e[r]=n[r]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function Pd(n){if(n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0),!$t){const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}}function o_(n,e){if(e)return!0;const t=te.singularValueDecompose2dScale(n);t[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]);const r=Math.fround((globalThis.devicePixelRatio||1)*Ls.PDF_TO_CSS_UNITS);return t[0]<=r&&t[1]<=r}const PR=["butt","round","square"],LR=["miter","round","bevel"],RR={},a_={};var Is,B0,j0;const Qy=class Qy{constructor(e,t,r,i,s,{optionalContentConfig:o,markedContentStack:a=null},l,c){E(this,Is);this.ctx=e,this.current=new r_(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=r,this.canvasFactory=i,this.filterFactory=s,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=a||[],this.optionalContentConfig=o,this.cachedCanvases=new TR(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=c,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:r=!1,background:i=null}){const s=this.ctx.canvas.width,o=this.ctx.canvas.height,a=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,s,o),this.ctx.fillStyle=a,r){const l=this.cachedCanvases.getCanvas("transparent",s,o);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...Xe(this.compositeCtx))}this.ctx.save(),Pd(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=Xe(this.ctx)}executeOperatorList(e,t,r,i){const s=e.argsArray,o=e.fnArray;let a=t||0;const l=s.length;if(l===a)return a;const c=l-a>t_&&typeof r=="function",h=c?Date.now()+xR:0;let d=0;const f=this.commonObjs,p=this.objs;let g;for(;;){if(i!==void 0&&a===i.nextBreakPoint)return i.breakIt(a,r),a;if(g=o[a],g!==Zn.dependency)this[g].apply(this,s[a]);else for(const y of s[a]){const b=y.startsWith("g_")?f:p;if(!b.has(y))return b.get(y,r),a}if(a++,a===l)return a;if(c&&++d>t_){if(Date.now()>h)return r(),a;d=0}}}endDrawing(){_(this,Is,B0).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),_(this,Is,j0).call(this)}_scaleImage(e,t){const r=e.width,i=e.height;let s=Math.max(Math.hypot(t[0],t[1]),1),o=Math.max(Math.hypot(t[2],t[3]),1),a=r,l=i,c="prescale1",h,d;for(;s>2&&a>1||o>2&&l>1;){let f=a,p=l;s>2&&a>1&&(f=a>=16384?Math.floor(a/2)-1||1:Math.ceil(a/2),s/=a/f),o>2&&l>1&&(p=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,o/=l/p),h=this.cachedCanvases.getCanvas(c,f,p),d=h.context,d.clearRect(0,0,f,p),d.drawImage(e,0,0,a,l,0,0,f,p),e=h.canvas,a=f,l=p,c=c==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:a,paintHeight:l}}_createMaskCanvas(e){const t=this.ctx,{width:r,height:i}=e,s=this.current.fillColor,o=this.current.patternFill,a=Xe(t);let l,c,h,d;if((e.bitmap||e.data)&&e.count>1){const M=e.bitmap||e.data.buffer;c=JSON.stringify(o?a:[a.slice(0,4),s]),l=this._cachedBitmapsMap.get(M),l||(l=new Map,this._cachedBitmapsMap.set(M,l));const z=l.get(c);if(z&&!o){const j=Math.round(Math.min(a[0],a[2])+a[4]),N=Math.round(Math.min(a[1],a[3])+a[5]);return{canvas:z,offsetX:j,offsetY:N}}h=z}h||(d=this.cachedCanvases.getCanvas("maskCanvas",r,i),s_(d.context,e));let f=te.transform(a,[1/r,0,0,-1/i,0,0]);f=te.transform(f,[1,0,0,1,0,-i]);const[p,g,y,b]=te.getAxialAlignedBoundingBox([0,0,r,i],f),m=Math.round(y-p)||1,v=Math.round(b-g)||1,A=this.cachedCanvases.getCanvas("fillCanvas",m,v),S=A.context,C=p,k=g;S.translate(-C,-k),S.transform(...f),h||(h=this._scaleImage(d.canvas,Gr(S)),h=h.img,l&&o&&l.set(c,h)),S.imageSmoothingEnabled=o_(Xe(S),e.interpolate),kd(S,h,0,0,h.width,h.height,0,0,r,i),S.globalCompositeOperation="source-in";const I=te.transform(Gr(S),[1,0,0,1,-C,-k]);return S.fillStyle=o?s.getPattern(t,this,I,Xt.FILL):s,S.fillRect(0,0,r,i),l&&!o&&(this.cachedCanvases.delete("fillCanvas"),l.set(c,A.canvas)),{canvas:A.canvas,offsetX:Math.round(C),offsetY:Math.round(k)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=PR[e]}setLineJoin(e){this.ctx.lineJoin=LR[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(e),r.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,r]of e)switch(t){case"LW":this.setLineWidth(r);break;case"LC":this.setLineCap(r);break;case"LJ":this.setLineJoin(r);break;case"ML":this.setMiterLimit(r);break;case"D":this.setDash(r[0],r[1]);break;case"RI":this.setRenderingIntent(r);break;case"FL":this.setFlatness(r);break;case"Font":this.setFont(r[0],r[1]);break;case"CA":this.current.strokeAlpha=r;break;case"ca":this.current.fillAlpha=r,this.ctx.globalAlpha=r;break;case"BM":this.ctx.globalCompositeOperation=r;break;case"SMask":this.current.activeSMask=r?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(r);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(r,e,t);this.suspendedCtx=this.ctx,this.ctx=i.context;const s=this.ctx;s.setTransform(...Xe(this.suspendedCtx)),mu(this.suspendedCtx,s),CR(s,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),mu(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,r,i){const s=i[0],o=i[1],a=i[2]-s,l=i[3]-o;a===0||l===0||(this.genericComposeSMask(t.context,r,a,l,t.subtype,t.backdrop,t.transferMap,s,o,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}genericComposeSMask(e,t,r,i,s,o,a,l,c,h,d){let f=e.canvas,p=l-h,g=c-d;if(o){if(p<0||g<0||p+r>f.width||g+i>f.height){const b=this.cachedCanvases.getCanvas("maskExtension",r,i),m=b.context;m.drawImage(f,-p,-g),o.some(v=>v!==0)&&(m.globalCompositeOperation="destination-atop",m.fillStyle=te.makeHexColor(...o),m.fillRect(0,0,r,i),m.globalCompositeOperation="source-over"),f=b.canvas,p=g=0}else if(o.some(b=>b!==0)){e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const b=new Path2D;b.rect(p,g,r,i),e.clip(b),e.globalCompositeOperation="destination-atop",e.fillStyle=te.makeHexColor(...o),e.fillRect(p,g,r,i),e.restore()}}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),s==="Alpha"&&a?t.filter=this.filterFactory.addAlphaFilter(a):s==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(a));const y=new Path2D;y.rect(l,c,r,i),t.clip(y),t.globalCompositeOperation="destination-in",t.drawImage(f,p,g,r,i,l,c,r,i),t.restore()}save(){this.inSMaskMode?(mu(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),mu(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,r,i,s,o){this.ctx.transform(e,t,r,i,s,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,r){const i=this.ctx,s=this.current;let o=s.x,a=s.y,l,c;const h=Xe(i),d=h[0]===0&&h[3]===0||h[1]===0&&h[2]===0,f=d?r.slice(0):null;for(let p=0,g=0,y=e.length;p<y;p++)switch(e[p]|0){case Zn.rectangle:o=t[g++],a=t[g++];const b=t[g++],m=t[g++],v=o+b,A=a+m;i.moveTo(o,a),b===0||m===0?i.lineTo(v,A):(i.lineTo(v,a),i.lineTo(v,A),i.lineTo(o,A)),d||s.updateRectMinMax(h,[o,a,v,A]),i.closePath();break;case Zn.moveTo:o=t[g++],a=t[g++],i.moveTo(o,a),d||s.updatePathMinMax(h,o,a);break;case Zn.lineTo:o=t[g++],a=t[g++],i.lineTo(o,a),d||s.updatePathMinMax(h,o,a);break;case Zn.curveTo:l=o,c=a,o=t[g+4],a=t[g+5],i.bezierCurveTo(t[g],t[g+1],t[g+2],t[g+3],o,a),s.updateCurvePathMinMax(h,l,c,t[g],t[g+1],t[g+2],t[g+3],o,a,f),g+=6;break;case Zn.curveTo2:l=o,c=a,i.bezierCurveTo(o,a,t[g],t[g+1],t[g+2],t[g+3]),s.updateCurvePathMinMax(h,l,c,o,a,t[g],t[g+1],t[g+2],t[g+3],f),o=t[g+2],a=t[g+3],g+=4;break;case Zn.curveTo3:l=o,c=a,o=t[g+2],a=t[g+3],i.bezierCurveTo(t[g],t[g+1],o,a,o,a),s.updateCurvePathMinMax(h,l,c,t[g],t[g+1],o,a,o,a,f),g+=4;break;case Zn.closePath:i.closePath();break}d&&s.updateScalingPathMinMax(h,f),s.setCurrentPoint(o,a)}closePath(){this.ctx.closePath()}stroke(e=!0){const t=this.ctx,r=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof r=="object"&&(r!=null&&r.getPattern)?(t.save(),t.strokeStyle=r.getPattern(t,this,Gr(t),Xt.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const t=this.ctx,r=this.current.fillColor,i=this.current.patternFill;let s=!1;i&&(t.save(),t.fillStyle=r.getPattern(t,this,Gr(t),Xt.FILL),s=!0);const o=this.current.getClippedPathBoundingBox();this.contentVisible&&o!==null&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),s&&t.restore(),e&&this.consumePath(o)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=RR}eoClip(){this.pendingClip=a_}beginText(){this.current.textMatrix=Bb,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0){t.beginPath();return}t.save(),t.beginPath();for(const r of e)t.setTransform(...r.transform),t.translate(r.x,r.y),r.addToPath(t,r.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var h;const r=this.commonObjs.get(e),i=this.current;if(!r)throw new Error(`Can't find font for ${e}`);if(i.fontMatrix=r.fontMatrix||a0,(i.fontMatrix[0]===0||i.fontMatrix[3]===0)&&fe("Invalid font matrix for font "+e),t<0?(t=-t,i.fontDirection=-1):i.fontDirection=1,this.current.font=r,this.current.fontSize=t,r.isType3Font)return;const s=r.loadedName||"sans-serif",o=((h=r.systemFontInfo)==null?void 0:h.css)||`"${s}", ${r.fallbackName}`;let a="normal";r.black?a="900":r.bold&&(a="bold");const l=r.italic?"italic":"normal";let c=t;t<Jw?c=Jw:t>e_&&(c=e_),this.current.fontSizeScale=t/c,this.ctx.font=`${l} ${a} ${c}px ${o}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,r,i,s,o){this.current.textMatrix=[e,t,r,i,s,o],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,r,i){const s=this.ctx,o=this.current,a=o.font,l=o.textRenderingMode,c=o.fontSize/o.fontSizeScale,h=l&Dt.FILL_STROKE_MASK,d=!!(l&Dt.ADD_TO_PATH_FLAG),f=o.patternFill&&!a.missingFile;let p;(a.disableFontFace||d||f)&&(p=a.getPathGenerator(this.commonObjs,e)),a.disableFontFace||f?(s.save(),s.translate(t,r),s.beginPath(),p(s,c),i&&s.setTransform(...i),(h===Dt.FILL||h===Dt.FILL_STROKE)&&s.fill(),(h===Dt.STROKE||h===Dt.FILL_STROKE)&&s.stroke(),s.restore()):((h===Dt.FILL||h===Dt.FILL_STROKE)&&s.fillText(e,t,r),(h===Dt.STROKE||h===Dt.FILL_STROKE)&&s.strokeText(e,t,r)),d&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Xe(s),x:t,y:r,fontSize:c,addToPath:p})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let r=!1;for(let i=3;i<t.length;i+=4)if(t[i]>0&&t[i]<255){r=!0;break}return Se(this,"isFontSubpixelAAEnabled",r)}showText(e){const t=this.current,r=t.font;if(r.isType3Font)return this.showType3Text(e);const i=t.fontSize;if(i===0)return;const s=this.ctx,o=t.fontSizeScale,a=t.charSpacing,l=t.wordSpacing,c=t.fontDirection,h=t.textHScale*c,d=e.length,f=r.vertical,p=f?1:-1,g=r.defaultVMetrics,y=i*t.fontMatrix[0],b=t.textRenderingMode===Dt.FILL&&!r.disableFontFace&&!t.patternFill;s.save(),s.transform(...t.textMatrix),s.translate(t.x,t.y+t.textRise),c>0?s.scale(h,-1):s.scale(h,1);let m;if(t.patternFill){s.save();const k=t.fillColor.getPattern(s,this,Gr(s),Xt.FILL);m=Xe(s),s.restore(),s.fillStyle=k}let v=t.lineWidth;const A=t.textMatrixScale;if(A===0||v===0){const k=t.textRenderingMode&Dt.FILL_STROKE_MASK;(k===Dt.STROKE||k===Dt.FILL_STROKE)&&(v=this.getSinglePixelWidth())}else v/=A;if(o!==1&&(s.scale(o,o),v/=o),s.lineWidth=v,r.isInvalidPDFjsFont){const k=[];let I=0;for(const M of e)k.push(M.unicode),I+=M.width;s.fillText(k.join(""),0,0),t.x+=I*y*h,s.restore(),this.compose();return}let S=0,C;for(C=0;C<d;++C){const k=e[C];if(typeof k=="number"){S+=p*k*i/1e3;continue}let I=!1;const M=(k.isSpace?l:0)+a,z=k.fontChar,j=k.accent;let N,X,q=k.width;if(f){const ee=k.vmetric||g,le=-(k.vmetric?ee[1]:q*.5)*y,V=ee[2]*y;q=ee?-ee[0]:q,N=le/o,X=(S+V)/o}else N=S/o,X=0;if(r.remeasure&&q>0){const ee=s.measureText(z).width*1e3/i*o;if(q<ee&&this.isFontSubpixelAAEnabled){const le=q/ee;I=!0,s.save(),s.scale(le,1),N/=le}else q!==ee&&(N+=(q-ee)/2e3*i/o)}if(this.contentVisible&&(k.isInFont||r.missingFile)){if(b&&!j)s.fillText(z,N,X);else if(this.paintChar(z,N,X,m),j){const ee=N+i*j.offset.x/o,le=X-i*j.offset.y/o;this.paintChar(j.fontChar,ee,le,m)}}const Q=f?q*y-M*c:q*y+M*c;S+=Q,I&&s.restore()}f?t.y-=S:t.x+=S*h,s.restore(),this.compose()}showType3Text(e){const t=this.ctx,r=this.current,i=r.font,s=r.fontSize,o=r.fontDirection,a=i.vertical?1:-1,l=r.charSpacing,c=r.wordSpacing,h=r.textHScale*o,d=r.fontMatrix||a0,f=e.length,p=r.textRenderingMode===Dt.INVISIBLE;let g,y,b,m;if(!(p||s===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...r.textMatrix),t.translate(r.x,r.y),t.scale(h,o),g=0;g<f;++g){if(y=e[g],typeof y=="number"){m=a*y*s/1e3,this.ctx.translate(m,0),r.x+=m*h;continue}const v=(y.isSpace?c:0)+l,A=i.charProcOperatorList[y.operatorListId];if(!A){fe(`Type3 character "${y.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=y,this.save(),t.scale(s,s),t.transform(...d),this.executeOperatorList(A),this.restore()),b=te.applyTransform([y.width,0],d)[0]*s+v,t.translate(b,0),r.x+=b*h}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,r,i,s,o){this.ctx.rect(r,i,s-r,o-i),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const r=e[1],i=this.baseTransform||Xe(this.ctx),s={createCanvasGraphics:o=>new Qy(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new F0(e,r,this.ctx,s,i)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,r){const i=te.makeHexColor(e,t,r);this.ctx.strokeStyle=i,this.current.strokeColor=i}setFillRGBColor(e,t,r){const i=te.makeHexColor(e,t,r);this.ctx.fillStyle=i,this.current.fillColor=i,this.current.patternFill=!1}_getPattern(e,t=null){let r;return this.cachedPatterns.has(e)?r=this.cachedPatterns.get(e):(r=bR(this.getObject(e)),this.cachedPatterns.set(e,r)),t&&(r.matrix=t),r}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const r=this._getPattern(e);t.fillStyle=r.getPattern(t,this,Gr(t),Xt.SHADING);const i=Gr(t);if(i){const{width:s,height:o}=t.canvas,[a,l,c,h]=te.getAxialAlignedBoundingBox([0,0,s,o],i);this.ctx.fillRect(a,l,c-a,h-l)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){De("Should not call beginInlineImage")}beginImageData(){De("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=Xe(this.ctx),t)){const r=t[2]-t[0],i=t[3]-t[1];this.ctx.rect(t[0],t[1],r,i),this.current.updateRectMinMax(Xe(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||ig("TODO: Support non-isolated groups."),e.knockout&&fe("Knockout groups not supported.");const r=Xe(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let i=te.getAxialAlignedBoundingBox(e.bbox,Xe(t));const s=[0,0,t.canvas.width,t.canvas.height];i=te.intersect(i,s)||[0,0,0,0];const o=Math.floor(i[0]),a=Math.floor(i[1]),l=Math.max(Math.ceil(i[2])-o,1),c=Math.max(Math.ceil(i[3])-a,1);this.current.startNewPathAndClipBox([0,0,l,c]);let h="groupAt"+this.groupLevel;e.smask&&(h+="_smask_"+this.smaskCounter++%2);const d=this.cachedCanvases.getCanvas(h,l,c),f=d.context;f.translate(-o,-a),f.transform(...r),e.smask?this.smaskStack.push({canvas:d.canvas,context:f,offsetX:o,offsetY:a,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(o,a),t.save()),mu(t,f),this.ctx=f,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const i=Xe(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...i);const s=te.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],i);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(s)}}beginAnnotation(e,t,r,i,s){if(_(this,Is,B0).call(this),Pd(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const o=t[2]-t[0],a=t[3]-t[1];if(s&&this.annotationCanvasMap){r=r.slice(),r[4]-=t[0],r[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=o,t[3]=a;const[l,c]=te.singularValueDecompose2dScale(Xe(this.ctx)),{viewportScale:h}=this,d=Math.ceil(o*this.outputScaleX*h),f=Math.ceil(a*this.outputScaleY*h);this.annotationCanvas=this.canvasFactory.create(d,f);const{canvas:p,context:g}=this.annotationCanvas;this.annotationCanvasMap.set(e,p),this.annotationCanvas.savedCtx=this.ctx,this.ctx=g,this.ctx.save(),this.ctx.setTransform(l,0,0,-c,0,a*c),Pd(this.ctx)}else Pd(this.ctx),this.ctx.rect(t[0],t[1],o,a),this.ctx.clip(),this.endPath()}this.current=new r_(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...r),this.transform(...i)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),_(this,Is,j0).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const r=this.ctx,i=this.processingType3;if(i&&(i.compiled===void 0&&(i.compiled=kR(e)),i.compiled)){i.compiled(r);return}const s=this._createMaskCanvas(e),o=s.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(o,s.offsetX,s.offsetY),r.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,r=0,i=0,s,o){if(!this.contentVisible)return;e=this.getObject(e.data,e);const a=this.ctx;a.save();const l=Xe(a);a.transform(t,r,i,s,0,0);const c=this._createMaskCanvas(e);a.setTransform(1,0,0,1,c.offsetX-l[4],c.offsetY-l[5]);for(let h=0,d=o.length;h<d;h+=2){const f=te.transform(l,[t,r,i,s,o[h],o[h+1]]),[p,g]=te.applyTransform([0,0],f);a.drawImage(c.canvas,p,g)}a.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,r=this.current.fillColor,i=this.current.patternFill;for(const s of e){const{data:o,width:a,height:l,transform:c}=s,h=this.cachedCanvases.getCanvas("maskCanvas",a,l),d=h.context;d.save();const f=this.getObject(o,s);s_(d,f),d.globalCompositeOperation="source-in",d.fillStyle=i?r.getPattern(d,this,Gr(t),Xt.FILL):r,d.fillRect(0,0,a,l),d.restore(),t.save(),t.transform(...c),t.scale(1,-1),kd(t,h.canvas,0,0,a,l,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){fe("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,r,i){if(!this.contentVisible)return;const s=this.getObject(e);if(!s){fe("Dependent image isn't ready yet");return}const o=s.width,a=s.height,l=[];for(let c=0,h=i.length;c<h;c+=2)l.push({transform:[t,0,0,r,i[c],i[c+1]],x:0,y:0,w:o,h:a});this.paintInlineImageXObjectGroup(s,l)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:r,height:i}=e,s=this.cachedCanvases.getCanvas("inlineImage",r,i),o=s.context;return o.filter=this.current.transferMaps,o.drawImage(t,0,0),o.filter="none",s.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,r=e.height,i=this.ctx;if(this.save(),!$t){const{filter:a}=i;a!=="none"&&a!==""&&(i.filter="none")}i.scale(1/t,-1/r);let s;if(e.bitmap)s=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)s=e;else{const l=this.cachedCanvases.getCanvas("inlineImage",t,r).context;i_(l,e),s=this.applyTransferMapsToCanvas(l)}const o=this._scaleImage(s,Gr(i));i.imageSmoothingEnabled=o_(Xe(i),e.interpolate),kd(i,o.img,0,0,o.paintWidth,o.paintHeight,0,-r,t,r),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const r=this.ctx;let i;if(e.bitmap)i=e.bitmap;else{const s=e.width,o=e.height,l=this.cachedCanvases.getCanvas("inlineImage",s,o).context;i_(l,e),i=this.applyTransferMapsToCanvas(l)}for(const s of t)r.save(),r.transform(...s.transform),r.scale(1,-1),kd(r,i,s.x,s.y,s.w,s.h,0,-1,1,1),r.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const r=this.ctx;this.pendingClip&&(t||(this.pendingClip===a_?r.clip("evenodd"):r.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),r.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Xe(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(r,i)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:r,c:i,d:s}=this.ctx.getTransform();let o,a;if(r===0&&i===0){const l=Math.abs(t),c=Math.abs(s);if(l===c)if(e===0)o=a=1/l;else{const h=l*e;o=a=h<1?1/h:1}else if(e===0)o=1/l,a=1/c;else{const h=l*e,d=c*e;o=h<1?1/h:1,a=d<1?1/d:1}}else{const l=Math.abs(t*s-r*i),c=Math.hypot(t,r),h=Math.hypot(i,s);if(e===0)o=h/l,a=c/l;else{const d=e*l;o=h>d?h/d:1,a=c>d?c/d:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:r}=this.current,[i,s]=this.getScaleForStroking();if(t.lineWidth=r||1,i===1&&s===1){t.stroke();return}const o=t.getLineDash();if(e&&t.save(),t.scale(i,s),o.length>0){const a=Math.max(i,s);t.setLineDash(o.map(l=>l/a)),t.lineDashOffset/=a}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};Is=new WeakSet,B0=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},j0=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}};let Ga=Qy;for(const n in Zn)Ga.prototype[n]!==void 0&&(Ga.prototype[Zn[n]]=Ga.prototype[n]);var Gc,Wc;class Ti{static get workerPort(){return u(this,Gc)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");w(this,Gc,e)}static get workerSrc(){return u(this,Wc)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");w(this,Wc,e)}}Gc=new WeakMap,Wc=new WeakMap,E(Ti,Gc,null),E(Ti,Wc,"");const Ld={UNKNOWN:0,DATA:1,ERROR:2},rt={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function mn(n){switch(n instanceof Error||typeof n=="object"&&n!==null||De('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new ha(n.message);case"MissingPDFException":return new ca(n.message);case"PasswordException":return new u0(n.message,n.code);case"UnexpectedResponseException":return new sg(n.message,n.status);case"UnknownErrorException":return new c0(n.message,n.details);default:return new c0(n.message,n.toString())}}var $r,wS,_S,Jd;class ku{constructor(e,t,r){E(this,$r);this.sourceName=e,this.targetName=t,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=i=>{const s=i.data;if(s.targetName!==this.sourceName)return;if(s.stream){_(this,$r,_S).call(this,s);return}if(s.callback){const a=s.callbackId,l=this.callbackCapabilities[a];if(!l)throw new Error(`Cannot resolve callback ${a}`);if(delete this.callbackCapabilities[a],s.callback===Ld.DATA)l.resolve(s.data);else if(s.callback===Ld.ERROR)l.reject(mn(s.reason));else throw new Error("Unexpected callback case");return}const o=this.actionHandler[s.action];if(!o)throw new Error(`Unknown action from worker: ${s.action}`);if(s.callbackId){const a=this.sourceName,l=s.sourceName;new Promise(function(c){c(o(s.data))}).then(function(c){r.postMessage({sourceName:a,targetName:l,callback:Ld.DATA,callbackId:s.callbackId,data:c})},function(c){r.postMessage({sourceName:a,targetName:l,callback:Ld.ERROR,callbackId:s.callbackId,reason:mn(c)})});return}if(s.streamId){_(this,$r,wS).call(this,s);return}o(s.data)},r.addEventListener("message",this._onComObjOnMessage)}on(e,t){const r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=t}send(e,t,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},r)}sendWithPromise(e,t,r){const i=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[i]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},r)}catch(o){s.reject(o)}return s.promise}sendWithStream(e,t,r,i){const s=this.streamId++,o=this.sourceName,a=this.targetName,l=this.comObj;return new ReadableStream({start:c=>{const h=Promise.withResolvers();return this.streamControllers[s]={controller:c,startCall:h,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:o,targetName:a,action:e,streamId:s,data:t,desiredSize:c.desiredSize},i),h.promise},pull:c=>{const h=Promise.withResolvers();return this.streamControllers[s].pullCall=h,l.postMessage({sourceName:o,targetName:a,stream:rt.PULL,streamId:s,desiredSize:c.desiredSize}),h.promise},cancel:c=>{ft(c instanceof Error,"cancel must have a valid reason");const h=Promise.withResolvers();return this.streamControllers[s].cancelCall=h,this.streamControllers[s].isClosed=!0,l.postMessage({sourceName:o,targetName:a,stream:rt.CANCEL,streamId:s,reason:mn(c)}),h.promise}},r)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}$r=new WeakSet,wS=function(e){const t=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,o=this,a=this.actionHandler[e.action],l={enqueue(c,h=1,d){if(this.isCancelled)return;const f=this.desiredSize;this.desiredSize-=h,f>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:r,targetName:i,stream:rt.ENQUEUE,streamId:t,chunk:c},d)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:rt.CLOSE,streamId:t}),delete o.streamSinks[t])},error(c){ft(c instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:rt.ERROR,streamId:t,reason:mn(c)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[t]=l,new Promise(function(c){c(a(e.data,l))}).then(function(){s.postMessage({sourceName:r,targetName:i,stream:rt.START_COMPLETE,streamId:t,success:!0})},function(c){s.postMessage({sourceName:r,targetName:i,stream:rt.START_COMPLETE,streamId:t,reason:mn(c)})})},_S=function(e){const t=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,o=this.streamControllers[t],a=this.streamSinks[t];switch(e.stream){case rt.START_COMPLETE:e.success?o.startCall.resolve():o.startCall.reject(mn(e.reason));break;case rt.PULL_COMPLETE:e.success?o.pullCall.resolve():o.pullCall.reject(mn(e.reason));break;case rt.PULL:if(!a){s.postMessage({sourceName:r,targetName:i,stream:rt.PULL_COMPLETE,streamId:t,success:!0});break}a.desiredSize<=0&&e.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=e.desiredSize,new Promise(function(l){var c;l((c=a.onPull)==null?void 0:c.call(a))}).then(function(){s.postMessage({sourceName:r,targetName:i,stream:rt.PULL_COMPLETE,streamId:t,success:!0})},function(l){s.postMessage({sourceName:r,targetName:i,stream:rt.PULL_COMPLETE,streamId:t,reason:mn(l)})});break;case rt.ENQUEUE:if(ft(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(e.chunk);break;case rt.CLOSE:if(ft(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),_(this,$r,Jd).call(this,o,t);break;case rt.ERROR:ft(o,"error should have stream controller"),o.controller.error(mn(e.reason)),_(this,$r,Jd).call(this,o,t);break;case rt.CANCEL_COMPLETE:e.success?o.cancelCall.resolve():o.cancelCall.reject(mn(e.reason)),_(this,$r,Jd).call(this,o,t);break;case rt.CANCEL:if(!a)break;new Promise(function(l){var c;l((c=a.onCancel)==null?void 0:c.call(a,mn(e.reason)))}).then(function(){s.postMessage({sourceName:r,targetName:i,stream:rt.CANCEL_COMPLETE,streamId:t,success:!0})},function(l){s.postMessage({sourceName:r,targetName:i,stream:rt.CANCEL_COMPLETE,streamId:t,reason:mn(l)})}),a.sinkCapability.reject(mn(e.reason)),a.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},Jd=async function(e,t){var r,i,s;await Promise.allSettled([(r=e.startCall)==null?void 0:r.promise,(i=e.pullCall)==null?void 0:i.promise,(s=e.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[t]};var fo,Yc;class IR{constructor({parsedData:e,rawData:t}){E(this,fo);E(this,Yc);w(this,fo,e),w(this,Yc,t)}getRaw(){return u(this,Yc)}get(e){return u(this,fo).get(e)??null}getAll(){return Ny(u(this,fo))}has(e){return u(this,fo).has(e)}}fo=new WeakMap,Yc=new WeakMap;const Ui=Symbol("INTERNAL");var Xc,Kc,qc,al;class MR{constructor(e,{name:t,intent:r,usage:i}){E(this,Xc,!1);E(this,Kc,!1);E(this,qc,!1);E(this,al,!0);w(this,Xc,!!(e&zn.DISPLAY)),w(this,Kc,!!(e&zn.PRINT)),this.name=t,this.intent=r,this.usage=i}get visible(){if(u(this,qc))return u(this,al);if(!u(this,al))return!1;const{print:e,view:t}=this.usage;return u(this,Xc)?(t==null?void 0:t.viewState)!=="OFF":u(this,Kc)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,r=!1){e!==Ui&&De("Internal method `_setVisible` called."),w(this,qc,r),w(this,al,t)}}Xc=new WeakMap,Kc=new WeakMap,qc=new WeakMap,al=new WeakMap;var es,Oe,ll,ul,Qc,z0;class OR{constructor(e,t=zn.DISPLAY){E(this,Qc);E(this,es,null);E(this,Oe,new Map);E(this,ll,null);E(this,ul,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,w(this,ul,e.order);for(const r of e.groups)u(this,Oe).set(r.id,new MR(t,r));if(e.baseState==="OFF")for(const r of u(this,Oe).values())r._setVisible(Ui,!1);for(const r of e.on)u(this,Oe).get(r)._setVisible(Ui,!0);for(const r of e.off)u(this,Oe).get(r)._setVisible(Ui,!1);w(this,ll,this.getHash())}}isVisible(e){if(u(this,Oe).size===0)return!0;if(!e)return ig("Optional content group not defined."),!0;if(e.type==="OCG")return u(this,Oe).has(e.id)?u(this,Oe).get(e.id).visible:(fe(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return _(this,Qc,z0).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!u(this,Oe).has(t))return fe(`Optional content group not found: ${t}`),!0;if(u(this,Oe).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!u(this,Oe).has(t))return fe(`Optional content group not found: ${t}`),!0;if(!u(this,Oe).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!u(this,Oe).has(t))return fe(`Optional content group not found: ${t}`),!0;if(!u(this,Oe).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!u(this,Oe).has(t))return fe(`Optional content group not found: ${t}`),!0;if(u(this,Oe).get(t).visible)return!1}return!0}return fe(`Unknown optional content policy ${e.policy}.`),!0}return fe(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0){const r=u(this,Oe).get(e);if(!r){fe(`Optional content group not found: ${e}`);return}r._setVisible(Ui,!!t,!0),w(this,es,null)}setOCGState({state:e,preserveRB:t}){let r;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":r=i;continue}const s=u(this,Oe).get(i);if(s)switch(r){case"ON":s._setVisible(Ui,!0);break;case"OFF":s._setVisible(Ui,!1);break;case"Toggle":s._setVisible(Ui,!s.visible);break}}w(this,es,null)}get hasInitialVisibility(){return u(this,ll)===null||this.getHash()===u(this,ll)}getOrder(){return u(this,Oe).size?u(this,ul)?u(this,ul).slice():[...u(this,Oe).keys()]:null}getGroups(){return u(this,Oe).size>0?Ny(u(this,Oe)):null}getGroup(e){return u(this,Oe).get(e)||null}getHash(){if(u(this,es)!==null)return u(this,es);const e=new gS;for(const[t,r]of u(this,Oe))e.update(`${t}:${r.visible}`);return w(this,es,e.hexdigest())}}es=new WeakMap,Oe=new WeakMap,ll=new WeakMap,ul=new WeakMap,Qc=new WeakSet,z0=function(e){const t=e.length;if(t<2)return!0;const r=e[0];for(let i=1;i<t;i++){const s=e[i];let o;if(Array.isArray(s))o=_(this,Qc,z0).call(this,s);else if(u(this,Oe).has(s))o=u(this,Oe).get(s).visible;else return fe(`Optional content group not found: ${s}`),!0;switch(r){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return r==="And"};class DR{constructor(e,{disableRange:t=!1,disableStream:r=!1}){ft(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:s,progressiveDone:o,contentDispositionFilename:a}=e;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=a,(s==null?void 0:s.length)>0){const l=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!t,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,c)=>{this._onReceiveData({begin:l,chunk:c})}),e.addProgressListener((l,c)=>{this._onProgress({loaded:l,total:c})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const r=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{const i=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(r),!0)});ft(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,r,i,s;e.total===void 0?(r=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||r.call(t,{loaded:e.loaded}):(s=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||s.call(i,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){ft(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new NR(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new FR(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeReaders.slice(0))r.cancel(e);this._pdfDataRangeTransport.abort()}}class NR{constructor(e,t,r=!1,i=null){this._stream=e,this._done=r||!1,this._filename=$y(i)?i:null,this._queuedChunks=t||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class FR{constructor(e,t,r){this._stream=e,this._begin=t,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function BR(n){let e=!0,t=r("filename\\*","i").exec(n);if(t){t=t[1];let h=a(t);return h=unescape(h),h=l(h),h=c(h),s(h)}if(t=o(n),t){const h=c(t);return s(h)}if(t=r("filename","i").exec(n),t){t=t[1];let h=a(t);return h=c(h),s(h)}function r(h,d){return new RegExp("(?:^|;)\\s*"+h+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',d)}function i(h,d){if(h){if(!/^[\x00-\xFF]+$/.test(d))return d;try{const f=new TextDecoder(h,{fatal:!0}),p=og(d);d=f.decode(p),e=!1}catch{}}return d}function s(h){return e&&/[\x80-\xff]/.test(h)&&(h=i("utf-8",h),e&&(h=i("iso-8859-1",h))),h}function o(h){const d=[];let f;const p=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(f=p.exec(h))!==null;){let[,y,b,m]=f;if(y=parseInt(y,10),y in d){if(y===0)break;continue}d[y]=[b,m]}const g=[];for(let y=0;y<d.length&&y in d;++y){let[b,m]=d[y];m=a(m),b&&(m=unescape(m),y===0&&(m=l(m))),g.push(m)}return g.join("")}function a(h){if(h.startsWith('"')){const d=h.slice(1).split('\\"');for(let f=0;f<d.length;++f){const p=d[f].indexOf('"');p!==-1&&(d[f]=d[f].slice(0,p),d.length=f+1),d[f]=d[f].replaceAll(/\\(.)/g,"$1")}h=d.join('"')}return h}function l(h){const d=h.indexOf("'");if(d===-1)return h;const f=h.slice(0,d),g=h.slice(d+1).replace(/^[^']*'/,"");return i(f,g)}function c(h){return!h.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(h)?h:h.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(d,f,p,g){if(p==="q"||p==="Q")return g=g.replaceAll("_"," "),g=g.replaceAll(/=([0-9a-fA-F]{2})/g,function(y,b){return String.fromCharCode(parseInt(b,16))}),i(f,g);try{g=atob(g)}catch{}return i(f,g)})}return""}function Vy({getResponseHeader:n,isHttp:e,rangeChunkSize:t,disableRange:r}){const i={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(n("Content-Length"),10);return!Number.isInteger(s)||(i.suggestedLength=s,s<=2*t)||r||!e||n("Accept-Ranges")!=="bytes"||(n("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function Gy(n){const e=n("Content-Disposition");if(e){let t=BR(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if($y(t))return t}return null}function dg(n,e){return n===404||n===0&&e.startsWith("file:")?new ca('Missing PDF "'+e+'".'):new sg(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n)}function ES(n){return n===200||n===206}function AS(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function bS(n){const e=new Headers;for(const t in n){const r=n[t];r!==void 0&&e.append(t,r)}return e}function SS(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(fe(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class l_{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return ft(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new jR(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new zR(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class jR{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._headers=bS(this._stream.httpHeaders);const r=t.url;fetch(r,AS(this._headers,this._withCredentials,this._abortController)).then(i=>{if(!ES(i.status))throw dg(i.status,r);this._reader=i.body.getReader(),this._headersCapability.resolve();const s=l=>i.headers.get(l),{allowRangeRequests:o,suggestedLength:a}=Vy({getResponseHeader:s,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=a||this._contentLength,this._filename=Gy(s),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new ha("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:SS(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class zR{constructor(e,t,r){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController,this._headers=bS(this._stream.httpHeaders),this._headers.append("Range",`bytes=${t}-${r-1}`);const s=i.url;fetch(s,AS(this._headers,this._withCredentials,this._abortController)).then(o=>{if(!ES(o.status))throw dg(o.status,s);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:SS(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const nm=200,rm=206;function $R(n){const e=n.response;return typeof e!="string"?e:og(e).buffer}class UR{constructor(e,t={}){this.url=e,this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&t.httpHeaders||Object.create(null),this.withCredentials=t.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,r){const i={begin:e,end:t};for(const s in r)i[s]=r[s];return this.request(i)}requestFull(e){return this.request(e)}request(e){const t=new XMLHttpRequest,r=this.currXhrId++,i=this.pendingRequests[r]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const s in this.httpHeaders){const o=this.httpHeaders[s];o!==void 0&&t.setRequestHeader(s,o)}return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=rm):i.expectedStatus=nm,t.responseType="arraybuffer",e.onError&&(t.onerror=function(s){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,r),t.onprogress=this.onProgress.bind(this,r),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,t.send(null),r}onProgress(e,t){var i;const r=this.pendingRequests[e];r&&((i=r.onProgress)==null||i.call(r,t))}onStateChange(e,t){var l,c,h;const r=this.pendingRequests[e];if(!r)return;const i=r.xhr;if(i.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){(l=r.onError)==null||l.call(r,i.status);return}const s=i.status||nm;if(!(s===nm&&r.expectedStatus===rm)&&s!==r.expectedStatus){(c=r.onError)==null||c.call(r,i.status);return}const a=$R(i);if(s===rm){const d=i.getResponseHeader("Content-Range"),f=/bytes (\d+)-(\d+)\/(\d+)/.exec(d);r.onDone({begin:parseInt(f[1],10),chunk:a})}else a?r.onDone({begin:0,chunk:a}):(h=r.onError)==null||h.call(r,i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class HR{constructor(e){this._source=e,this._manager=new UR(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return ft(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new VR(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const r=new GR(this._manager,e,t);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class VR{constructor(e,t){this._manager=e;const r={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(r),this._headersReceivedCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),r=o=>t.getResponseHeader(o),{allowRangeRequests:i,suggestedLength:s}=Vy({getResponseHeader:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});i&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=Gy(r),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=dg(e,this._url),this._headersReceivedCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersReceivedCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class GR{constructor(e,t,r){this._manager=e;const i={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,r,i),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=dg(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const xS=/^file:\/\/\/[a-zA-Z]:\//;function WR(n){const e=Ur.get("url"),t=e.parse(n);return t.protocol==="file:"||t.host?t:/^[a-z]:[/\\]/i.test(n)?e.parse(`file:///${n}`):(t.host||(t.protocol="file:"),t)}class YR{constructor(e){this.source=e,this.url=WR(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return ft(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new qR(this):new XR(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=this.isFsUrl?new QR(this,e,t):new KR(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class CS{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new ha("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class TS{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function qf(n,e){return{protocol:n.protocol,auth:n.auth,host:n.hostname,port:n.port,path:n.path,method:"GET",headers:e}}class XR extends CS{constructor(e){super(e);const t=r=>{if(r.statusCode===404){const a=new ca(`Missing PDF "${this._url}".`);this._storedError=a,this._headersCapability.reject(a);return}this._headersCapability.resolve(),this._setReadableStream(r);const i=a=>this._readableStream.headers[a.toLowerCase()],{allowRangeRequests:s,suggestedLength:o}=Vy({getResponseHeader:i,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=s,this._contentLength=o||this._contentLength,this._filename=Gy(i)};if(this._request=null,this._url.protocol==="http:"){const r=Ur.get("http");this._request=r.request(qf(this._url,e.httpHeaders),t)}else{const r=Ur.get("https");this._request=r.request(qf(this._url,e.httpHeaders),t)}this._request.on("error",r=>{this._storedError=r,this._headersCapability.reject(r)}),this._request.end()}}class KR extends TS{constructor(e,t,r){super(e),this._httpHeaders={};for(const s in e.httpHeaders){const o=e.httpHeaders[s];o!==void 0&&(this._httpHeaders[s]=o)}this._httpHeaders.Range=`bytes=${t}-${r-1}`;const i=s=>{if(s.statusCode===404){const o=new ca(`Missing PDF "${this._url}".`);this._storedError=o;return}this._setReadableStream(s)};if(this._request=null,this._url.protocol==="http:"){const s=Ur.get("http");this._request=s.request(qf(this._url,this._httpHeaders),i)}else{const s=Ur.get("https");this._request=s.request(qf(this._url,this._httpHeaders),i)}this._request.on("error",s=>{this._storedError=s}),this._request.end()}}class qR extends CS{constructor(e){super(e);let t=decodeURIComponent(this._url.path);xS.test(this._url.href)&&(t=t.replace(/^\//,""));const r=Ur.get("fs");r.promises.lstat(t).then(i=>{this._contentLength=i.size,this._setReadableStream(r.createReadStream(t)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=new ca(`Missing PDF "${t}".`)),this._storedError=i,this._headersCapability.reject(i)})}}class QR extends TS{constructor(e,t,r){super(e);let i=decodeURIComponent(this._url.path);xS.test(this._url.href)&&(i=i.replace(/^\//,""));const s=Ur.get("fs");this._setReadableStream(s.createReadStream(i,{start:t,end:r-1}))}}const ZR=1e5,en=30,JR=.8;var z_,ts,nn,Zc,Jc,po,ui,eh,th,go,cl,hl,ns,dl,nh,fl,mo,rh,ih,sn,vo,yo,pl,Di,kS,PS,$0,Cs,ef,LS;let Qf=(sn=class{constructor({textContentSource:e,container:t,viewport:r}){E(this,Di);E(this,ts,Promise.withResolvers());E(this,nn,null);E(this,Zc,!1);E(this,Jc,!!((z_=globalThis.FontInspector)!=null&&z_.enabled));E(this,po,null);E(this,ui,null);E(this,eh,0);E(this,th,0);E(this,go,null);E(this,cl,null);E(this,hl,0);E(this,ns,0);E(this,dl,Object.create(null));E(this,nh,[]);E(this,fl,null);E(this,mo,[]);E(this,rh,new WeakMap);E(this,ih,null);if(e instanceof ReadableStream)w(this,fl,e);else if(typeof e=="object")w(this,fl,new ReadableStream({start(l){l.enqueue(e),l.close()}}));else throw new Error('No "textContentSource" parameter specified.');w(this,nn,w(this,cl,t)),w(this,ns,r.scale*(globalThis.devicePixelRatio||1)),w(this,hl,r.rotation),w(this,ui,{prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:s,pageX:o,pageY:a}=r.rawDims;w(this,ih,[1,0,0,-1,-o,a+s]),w(this,th,i),w(this,eh,s),na(t,r),u(this,ts).promise.catch(()=>{}).then(()=>{u(sn,pl).delete(this),w(this,ui,null),w(this,dl,null)})}render(){const e=()=>{u(this,go).read().then(({value:t,done:r})=>{if(r){u(this,ts).resolve();return}u(this,po)??w(this,po,t.lang),Object.assign(u(this,dl),t.styles),_(this,Di,kS).call(this,t.items),e()},u(this,ts).reject)};return w(this,go,u(this,fl).getReader()),u(sn,pl).add(this),e(),u(this,ts).promise}update({viewport:e,onBefore:t=null}){var s;const r=e.scale*(globalThis.devicePixelRatio||1),i=e.rotation;if(i!==u(this,hl)&&(t==null||t(),w(this,hl,i),na(u(this,cl),{rotation:i})),r!==u(this,ns)){t==null||t(),w(this,ns,r);const o={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:_(s=sn,Cs,ef).call(s,u(this,po))};for(const a of u(this,mo))o.properties=u(this,rh).get(a),o.div=a,_(this,Di,$0).call(this,o)}}cancel(){var t;const e=new ha("TextLayer task cancelled.");(t=u(this,go))==null||t.cancel(e).catch(()=>{}),w(this,go,null),u(this,ts).reject(e)}get textDivs(){return u(this,mo)}get textContentItemsStr(){return u(this,nh)}static cleanup(){if(!(u(this,pl).size>0)){u(this,vo).clear();for(const{canvas:e}of u(this,yo).values())e.remove();u(this,yo).clear()}}},ts=new WeakMap,nn=new WeakMap,Zc=new WeakMap,Jc=new WeakMap,po=new WeakMap,ui=new WeakMap,eh=new WeakMap,th=new WeakMap,go=new WeakMap,cl=new WeakMap,hl=new WeakMap,ns=new WeakMap,dl=new WeakMap,nh=new WeakMap,fl=new WeakMap,mo=new WeakMap,rh=new WeakMap,ih=new WeakMap,vo=new WeakMap,yo=new WeakMap,pl=new WeakMap,Di=new WeakSet,kS=function(e){var i,s;if(u(this,Zc))return;(s=u(this,ui)).ctx||(s.ctx=_(i=sn,Cs,ef).call(i,u(this,po)));const t=u(this,mo),r=u(this,nh);for(const o of e){if(t.length>ZR){fe("Ignoring additional textDivs for performance reasons."),w(this,Zc,!0);return}if(o.str===void 0){if(o.type==="beginMarkedContentProps"||o.type==="beginMarkedContent"){const a=u(this,nn);w(this,nn,document.createElement("span")),u(this,nn).classList.add("markedContent"),o.id!==null&&u(this,nn).setAttribute("id",`${o.id}`),a.append(u(this,nn))}else o.type==="endMarkedContent"&&w(this,nn,u(this,nn).parentNode);continue}r.push(o.str),_(this,Di,PS).call(this,o)}},PS=function(e){var y;const t=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};u(this,mo).push(t);const i=te.transform(u(this,ih),e.transform);let s=Math.atan2(i[1],i[0]);const o=u(this,dl)[e.fontName];o.vertical&&(s+=Math.PI/2);const a=u(this,Jc)&&o.fontSubstitution||o.fontFamily,l=Math.hypot(i[2],i[3]),c=l*_(y=sn,Cs,LS).call(y,a,u(this,po));let h,d;s===0?(h=i[4],d=i[5]-c):(h=i[4]+c*Math.sin(s),d=i[5]-c*Math.cos(s));const f="calc(var(--scale-factor)*",p=t.style;u(this,nn)===u(this,cl)?(p.left=`${(100*h/u(this,th)).toFixed(2)}%`,p.top=`${(100*d/u(this,eh)).toFixed(2)}%`):(p.left=`${f}${h.toFixed(2)}px)`,p.top=`${f}${d.toFixed(2)}px)`),p.fontSize=`${f}${l.toFixed(2)}px)`,p.fontFamily=a,r.fontSize=l,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,u(this,Jc)&&(t.dataset.fontName=o.fontSubstitutionLoadedName||e.fontName),s!==0&&(r.angle=s*(180/Math.PI));let g=!1;if(e.str.length>1)g=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const b=Math.abs(e.transform[0]),m=Math.abs(e.transform[3]);b!==m&&Math.max(b,m)/Math.min(b,m)>1.5&&(g=!0)}if(g&&(r.canvasWidth=o.vertical?e.height:e.width),u(this,rh).set(t,r),u(this,ui).div=t,u(this,ui).properties=r,_(this,Di,$0).call(this,u(this,ui)),r.hasText&&u(this,nn).append(t),r.hasEOL){const b=document.createElement("br");b.setAttribute("role","presentation"),u(this,nn).append(b)}},$0=function(e){const{div:t,properties:r,ctx:i,prevFontSize:s,prevFontFamily:o}=e,{style:a}=t;let l="";if(r.canvasWidth!==0&&r.hasText){const{fontFamily:c}=a,{canvasWidth:h,fontSize:d}=r;(s!==d||o!==c)&&(i.font=`${d*u(this,ns)}px ${c}`,e.prevFontSize=d,e.prevFontFamily=c);const{width:f}=i.measureText(t.textContent);f>0&&(l=`scaleX(${h*u(this,ns)/f})`)}r.angle!==0&&(l=`rotate(${r.angle}deg) ${l}`),l.length>0&&(a.transform=l)},Cs=new WeakSet,ef=function(e=null){let t=u(this,yo).get(e||(e=""));if(!t){const r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=e,document.body.append(r),t=r.getContext("2d",{alpha:!1}),u(this,yo).set(e,t)}return t},LS=function(e,t){const r=u(this,vo).get(e);if(r)return r;const i=_(this,Cs,ef).call(this,t),s=i.font;i.canvas.width=i.canvas.height=en,i.font=`${en}px ${e}`;const o=i.measureText("");let a=o.fontBoundingBoxAscent,l=Math.abs(o.fontBoundingBoxDescent);if(a){const d=a/(a+l);return u(this,vo).set(e,d),i.canvas.width=i.canvas.height=0,i.font=s,d}i.strokeStyle="red",i.clearRect(0,0,en,en),i.strokeText("g",0,0);let c=i.getImageData(0,0,en,en).data;l=0;for(let d=c.length-1-3;d>=0;d-=4)if(c[d]>0){l=Math.ceil(d/4/en);break}i.clearRect(0,0,en,en),i.strokeText("A",0,en),c=i.getImageData(0,0,en,en).data,a=0;for(let d=0,f=c.length;d<f;d+=4)if(c[d]>0){a=en-Math.floor(d/4/en);break}i.canvas.width=i.canvas.height=0,i.font=s;const h=a?a/(a+l):JR;return u(this,vo).set(e,h),h},E(sn,Cs),E(sn,vo,new Map),E(sn,yo,new Map),E(sn,pl,new Set),sn);function eI(){Gb("`renderTextLayer`, please use `TextLayer` instead.");const{textContentSource:n,container:e,viewport:t,...r}=arguments[0],i=Object.keys(r);i.length>0&&fe("Ignoring `renderTextLayer` parameters: "+i.join(", "));const s=new Qf({textContentSource:n,container:e,viewport:t}),{textDivs:o,textContentItemsStr:a}=s;return{promise:s.render(),textDivs:o,textContentItemsStr:a}}function tI(){Gb("`updateTextLayer`, please use `TextLayer` instead.")}class pc{static textContent(e){const t=[],r={items:t,styles:Object.create(null)};function i(s){var l;if(!s)return;let o=null;const a=s.name;if(a==="#text")o=s.value;else if(pc.shouldBuildText(a))(l=s==null?void 0:s.attributes)!=null&&l.textContent?o=s.attributes.textContent:s.value&&(o=s.value);else return;if(o!==null&&t.push({str:o}),!!s.children)for(const c of s.children)i(c)}return i(e),r}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const nI=65536,rI=100,iI=5e3,sI=$t?mR:rR,oI=$t?vR:Hb,aI=$t?gR:nR,lI=$t?yR:Vb;function uI(n){if(typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n}),typeof n!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!n.url&&!n.data&&!n.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const e=new U0,{docId:t}=e,r=n.url?cI(n.url):null,i=n.data?hI(n.data):null,s=n.httpHeaders||null,o=n.withCredentials===!0,a=n.password??null,l=n.range instanceof RS?n.range:null,c=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:nI;let h=n.worker instanceof Wa?n.worker:null;const d=n.verbosity,f=typeof n.docBaseUrl=="string"&&!zy(n.docBaseUrl)?n.docBaseUrl:null,p=typeof n.cMapUrl=="string"?n.cMapUrl:null,g=n.cMapPacked!==!1,y=n.CMapReaderFactory||oI,b=typeof n.standardFontDataUrl=="string"?n.standardFontDataUrl:null,m=n.StandardFontDataFactory||lI,v=n.stopAtErrors!==!0,A=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,S=n.isEvalSupported!==!1,C=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!$t,k=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,I=typeof n.disableFontFace=="boolean"?n.disableFontFace:$t,M=n.fontExtraProperties===!0,z=n.enableXfa===!0,j=n.ownerDocument||globalThis.document,N=n.disableRange===!0,X=n.disableStream===!0,q=n.disableAutoFetch===!0,Q=n.pdfBug===!0,ee=l?l.length:n.length??NaN,le=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!$t&&!I,V=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:y===Hb&&m===Vb&&p&&b&&xu(p,document.baseURI)&&xu(b,document.baseURI),x=n.canvasFactory||new sI({ownerDocument:j}),T=n.filterFactory||new aI({docId:t,ownerDocument:j}),L=null;GL(d);const F={canvasFactory:x,filterFactory:T};if(V||(F.cMapReaderFactory=new y({baseUrl:p,isCompressed:g}),F.standardFontDataFactory=new m({baseUrl:b})),!h){const B={verbosity:d,port:Ti.workerPort};h=B.port?Wa.fromPort(B):new Wa(B),e._worker=h}const R={docId:t,apiVersion:"4.3.136",data:i,password:a,disableAutoFetch:q,rangeChunkSize:c,length:ee,docBaseUrl:f,enableXfa:z,evaluatorOptions:{maxImageSize:A,disableFontFace:I,ignoreErrors:v,isEvalSupported:S,isOffscreenCanvasSupported:C,canvasMaxAreaInBytes:k,fontExtraProperties:M,useSystemFonts:le,cMapUrl:V?p:null,standardFontDataUrl:V?b:null}},O={disableFontFace:I,fontExtraProperties:M,ownerDocument:j,pdfBug:Q,styleElement:L,loadingParams:{disableAutoFetch:q,enableXfa:z}};return h.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const B=h.messageHandler.sendWithPromise("GetDocRequest",R,i?[i.buffer]:null);let K;return l?K=new DR(l,{disableRange:N,disableStream:X}):i||(K=(G=>$t?function(){return typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype}()&&xu(G.url)?new l_(G):new YR(G):xu(G.url)?new l_(G):new HR(G))({url:r,length:ee,httpHeaders:s,withCredentials:o,rangeChunkSize:c,disableRange:N,disableStream:X})),B.then(P=>{if(e.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const G=new ku(t,P,h.port),$=new gI(G,e,K,O,F);e._transport=$,G.send("Ready",null)})}).catch(e._capability.reject),e}function cI(n){if(n instanceof URL)return n.href;try{return new URL(n,window.location).href}catch{if($t&&typeof n=="string")return n}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function hI(n){if($t&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return og(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function u_(n){return typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0}var gp;const mp=class mp{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${gn(mp,gp)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,t,r;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(i){throw(r=this._worker)!=null&&r.port&&delete this._worker._pendingDestroy,i}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};gp=new WeakMap,E(mp,gp,0);let U0=mp,RS=class{constructor(e,t,r=!1,i=null){this.length=e,this.initialData=t,this.progressiveDone=r,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const r of this._rangeListeners)r(e,t)}onDataProgress(e,t){this._readyCapability.promise.then(()=>{for(const r of this._progressListeners)r(e,t)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const t of this._progressiveReadListeners)t(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){De("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class dI{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Se(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var rs,ci,Hn,Ea,tf;class fI{constructor(e,t,r,i=!1){E(this,Hn);E(this,rs,null);E(this,ci,!1);this._pageIndex=e,this._pageInfo=t,this._transport=r,this._stats=i?new Kw:null,this._pdfBug=i,this.commonObjs=r.commonObjs,this.objs=new IS,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:r=0,offsetY:i=0,dontFlip:s=!1}={}){return new ed({viewBox:this.view,scale:e,rotation:t,offsetX:r,offsetY:i,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Se(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:t,intent:r="display",annotationMode:i=Xi.ENABLE,transform:s=null,background:o=null,optionalContentConfigPromise:a=null,annotationCanvasMap:l=null,pageColors:c=null,printAnnotationStorage:h=null}){var A,S;(A=this._stats)==null||A.time("Overall");const d=this._transport.getRenderingIntent(r,i,h),{renderingIntent:f,cacheKey:p}=d;w(this,ci,!1),_(this,Hn,tf).call(this),a||(a=this._transport.getOptionalContentConfig(f));let g=this._intentStates.get(p);g||(g=Object.create(null),this._intentStates.set(p,g)),g.streamReaderCancelTimeout&&(clearTimeout(g.streamReaderCancelTimeout),g.streamReaderCancelTimeout=null);const y=!!(f&zn.PRINT);g.displayReadyCapability||(g.displayReadyCapability=Promise.withResolvers(),g.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(S=this._stats)==null||S.time("Page Request"),this._pumpOperatorList(d));const b=C=>{var k;g.renderTasks.delete(m),(this._maybeCleanupAfterRender||y)&&w(this,ci,!0),_(this,Hn,Ea).call(this,!y),C?(m.capability.reject(C),this._abortOperatorList({intentState:g,reason:C instanceof Error?C:new Error(C)})):m.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(k=globalThis.Stats)!=null&&k.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},m=new V0({callback:b,params:{canvasContext:e,viewport:t,transform:s,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:g.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!y,pdfBug:this._pdfBug,pageColors:c});(g.renderTasks||(g.renderTasks=new Set)).add(m);const v=m.task;return Promise.all([g.displayReadyCapability.promise,a]).then(([C,k])=>{var I;if(this.destroyed){b();return}if((I=this._stats)==null||I.time("Rendering"),!(k.renderingIntent&f))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");m.initializeGraphics({transparency:C,optionalContentConfig:k}),m.operatorListChanged()}).catch(b),v}getOperatorList({intent:e="display",annotationMode:t=Xi.ENABLE,printAnnotationStorage:r=null}={}){var l;function i(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(a))}const s=this._transport.getRenderingIntent(e,t,r,!0);let o=this._intentStates.get(s.cacheKey);o||(o=Object.create(null),this._intentStates.set(s.cacheKey,o));let a;return o.opListReadCapability||(a=Object.create(null),a.operatorListChanged=i,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||(o.renderTasks=new Set)).add(a),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(l=this._stats)==null||l.time("Page Request"),this._pumpOperatorList(s)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>pc.textContent(r));const t=this.streamTextContent(e);return new Promise(function(r,i){function s(){o.read().then(function({value:l,done:c}){if(c){r(a);return}a.lang??(a.lang=l.lang),Object.assign(a.styles,l.styles),a.items.push(...l.items),s()},i)}const o=t.getReader(),a={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const r of t.renderTasks)e.push(r.completed),r.cancel();return this.objs.clear(),w(this,ci,!1),_(this,Hn,tf).call(this),Promise.all(e)}cleanup(e=!1){w(this,ci,!0);const t=_(this,Hn,Ea).call(this,!1);return e&&t&&this._stats&&(this._stats=new Kw),t}_startRenderPage(e,t){var i,s;const r=this._intentStates.get(t);r&&((i=this._stats)==null||i.timeEnd("Page Request"),(s=r.displayReadyCapability)==null||s.resolve(e))}_renderPageChunk(e,t){for(let r=0,i=e.length;r<i;r++)t.operatorList.fnArray.push(e.fnArray[r]),t.operatorList.argsArray.push(e.argsArray[r]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const r of t.renderTasks)r.operatorListChanged();e.lastChunk&&_(this,Hn,Ea).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:r}){const{map:i,transfer:s}=r,a=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:i},s).getReader(),l=this._intentStates.get(t);l.streamReader=a;const c=()=>{a.read().then(({value:h,done:d})=>{if(d){l.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(h,l),c())},h=>{if(l.streamReader=null,!this._transport.destroyed){if(l.operatorList){l.operatorList.lastChunk=!0;for(const d of l.renderTasks)d.operatorListChanged();_(this,Hn,Ea).call(this,!0)}if(l.displayReadyCapability)l.displayReadyCapability.reject(h);else if(l.opListReadCapability)l.opListReadCapability.reject(h);else throw h}})};c()}_abortOperatorList({intentState:e,reason:t,force:r=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!r){if(e.renderTasks.size>0)return;if(t instanceof jy){let i=rI;t.extraDelay>0&&t.extraDelay<1e3&&(i+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},i);return}}if(e.streamReader.cancel(new ha(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,s]of this._intentStates)if(s===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}rs=new WeakMap,ci=new WeakMap,Hn=new WeakSet,Ea=function(e=!1){if(_(this,Hn,tf).call(this),!u(this,ci)||this.destroyed)return!1;if(e)return w(this,rs,setTimeout(()=>{w(this,rs,null),_(this,Hn,Ea).call(this,!1)},iI)),!1;for(const{renderTasks:t,operatorList:r}of this._intentStates.values())if(t.size>0||!r.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),w(this,ci,!1),!0},tf=function(){u(this,rs)&&(clearTimeout(u(this,rs)),w(this,rs,null))};var wo,vp;class pI{constructor(){E(this,wo,new Set);E(this,vp,Promise.resolve())}postMessage(e,t){const r={data:structuredClone(e,t?{transfer:t}:null)};u(this,vp).then(()=>{for(const i of u(this,wo))i.call(this,r)})}addEventListener(e,t){u(this,wo).add(t)}removeEventListener(e,t){u(this,wo).delete(t)}terminate(){u(this,wo).clear()}}wo=new WeakMap,vp=new WeakMap;const Zr={isWorkerDisabled:!1,fakeWorkerId:0};$t&&(Zr.isWorkerDisabled=!0,Ti.workerSrc||(Ti.workerSrc="./pdf.worker.mjs")),Zr.isSameOrigin=function(n,e){let t;try{if(t=new URL(n),!t.origin||t.origin==="null")return!1}catch{return!1}const r=new URL(e,t);return t.origin===r.origin},Zr.createCDNWrapper=function(n){const e=`await import("${n}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};var _o,gl,nf;const vn=class vn{constructor({name:e=null,port:t=null,verbosity:r=WL()}={}){var i;if(this.name=e,this.destroyed=!1,this.verbosity=r,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if((i=u(vn,_o))!=null&&i.has(t))throw new Error("Cannot use more than one PDFWorker per port.");(u(vn,_o)||w(vn,_o,new WeakMap)).set(t,this),this._initializeFromPort(t);return}this._initialize()}get promise(){return $t?Promise.all([Ur.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new ku("main","worker",e),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!Zr.isWorkerDisabled&&!u(vn,gl,nf)){let{workerSrc:e}=vn;try{Zr.isSameOrigin(window.location.href,e)||(e=Zr.createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),r=new ku("main","worker",t),i=()=>{t.removeEventListener("error",s),r.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},s=()=>{this._webWorker||i()};t.addEventListener("error",s),r.on("test",a=>{if(t.removeEventListener("error",s),this.destroyed){i();return}a?(this._messageHandler=r,this._port=t,this._webWorker=t,this._readyCapability.resolve(),r.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),r.destroy(),t.terminate())}),r.on("ready",a=>{if(t.removeEventListener("error",s),this.destroyed){i();return}try{o()}catch{this._setupFakeWorker()}});const o=()=>{const a=new Uint8Array;r.send("test",a,[a.buffer])};o();return}catch{ig("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){Zr.isWorkerDisabled||(fe("Setting up fake worker."),Zr.isWorkerDisabled=!0),vn._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const t=new pI;this._port=t;const r=`fake${Zr.fakeWorkerId++}`,i=new ku(r+"_worker",r,t);e.setup(i,t);const s=new ku(r,r+"_worker",t);this._messageHandler=s,this._readyCapability.resolve(),s.send("configure",{verbosity:this.verbosity})}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(e=u(vn,_o))==null||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var r;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const t=(r=u(this,_o))==null?void 0:r.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new vn(e)}static get workerSrc(){if(Ti.workerSrc)return Ti.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Se(this,"_setupFakeWorkerGlobal",(async()=>u(this,gl,nf)?u(this,gl,nf):(await import(this.workerSrc)).WorkerMessageHandler)())}};_o=new WeakMap,gl=new WeakSet,nf=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},E(vn,gl),E(vn,_o);let Wa=vn;var hi,Tr,ml,vl,kr,Eo,Pu;class gI{constructor(e,t,r,i,s){E(this,Eo);E(this,hi,new Map);E(this,Tr,new Map);E(this,ml,new Map);E(this,vl,new Map);E(this,kr,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new IS,this.fontLoader=new fR({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Se(this,"annotationStorage",new Hy)}getRenderingIntent(e,t=Xi.ENABLE,r=null,i=!1){let s=zn.DISPLAY,o=O0;switch(e){case"any":s=zn.ANY;break;case"display":break;case"print":s=zn.PRINT;break;default:fe(`getRenderingIntent - invalid intent: ${e}`)}switch(t){case Xi.DISABLE:s+=zn.ANNOTATIONS_DISABLE;break;case Xi.ENABLE:break;case Xi.ENABLE_FORMS:s+=zn.ANNOTATIONS_FORMS;break;case Xi.ENABLE_STORAGE:s+=zn.ANNOTATIONS_STORAGE,o=(s&zn.PRINT&&r instanceof vS?r:this.annotationStorage).serializable;break;default:fe(`getRenderingIntent - invalid annotationMode: ${t}`)}return i&&(s+=zn.OPLIST),{renderingIntent:s,cacheKey:`${s}_${o.hash}`,annotationStorageSerializable:o}}destroy(){var r;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(r=u(this,kr))==null||r.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of u(this,Tr).values())e.push(i._destroy());u(this,Tr).clear(),u(this,ml).clear(),u(this,vl).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var i;this.commonObjs.clear(),this.fontLoader.clear(),u(this,hi).clear(),this.filterFactory.destroy(),Qf.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new ha("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(r,i)=>{ft(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},i.onPull=()=>{this._fullReader.read().then(function({value:s,done:o}){if(o){i.close();return}ft(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{this._fullReader.cancel(s),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("ReaderHeadersReady",r=>{const i=Promise.withResolvers(),s=this._fullReader;return s.headersReady.then(()=>{var o;(!s.isStreamingSupported||!s.isRangeSupported)&&(this._lastProgress&&((o=t.onProgress)==null||o.call(t,this._lastProgress)),s.onProgress=a=>{var l;(l=t.onProgress)==null||l.call(t,{loaded:a.loaded,total:a.total})}),i.resolve({isStreamingSupported:s.isStreamingSupported,isRangeSupported:s.isRangeSupported,contentLength:s.contentLength})},i.reject),i.promise}),e.on("GetRangeReader",(r,i)=>{ft(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(r.begin,r.end);if(!s){i.close();return}i.onPull=()=>{s.read().then(function({value:o,done:a}){if(a){i.close();return}ft(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{i.error(o)})},i.onCancel=o=>{s.cancel(o),i.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,t._capability.resolve(new dI(r,this))}),e.on("DocException",function(r){let i;switch(r.name){case"PasswordException":i=new u0(r.message,r.code);break;case"InvalidPDFException":i=new jb(r.message);break;case"MissingPDFException":i=new ca(r.message);break;case"UnexpectedResponseException":i=new sg(r.message,r.status);break;case"UnknownErrorException":i=new c0(r.message,r.details);break;default:De("DocException - expected a valid Error.")}t._capability.reject(i)}),e.on("PasswordRequest",r=>{if(w(this,kr,Promise.withResolvers()),t.onPassword){const i=s=>{s instanceof Error?u(this,kr).reject(s):u(this,kr).resolve({password:s})};try{t.onPassword(i,r.code)}catch(s){u(this,kr).reject(s)}}else u(this,kr).reject(new u0(r.message,r.code));return u(this,kr).promise}),e.on("DataLoaded",r=>{var i;(i=t.onProgress)==null||i.call(t,{loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),e.on("StartRenderPage",r=>{if(this.destroyed)return;u(this,Tr).get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),e.on("commonobj",([r,i,s])=>{var o;if(this.destroyed||this.commonObjs.has(r))return null;switch(i){case"Font":const{disableFontFace:a,fontExtraProperties:l,pdfBug:c}=this._params;if("error"in s){const p=s.error;fe(`Error during font loading: ${p}`),this.commonObjs.resolve(r,p);break}const h=c&&((o=globalThis.FontInspector)!=null&&o.enabled)?(p,g)=>globalThis.FontInspector.fontAdded(p,g):null,d=new pR(s,{disableFontFace:a,inspectFont:h});this.fontLoader.bind(d).catch(()=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!l&&d.data&&(d.data=null),this.commonObjs.resolve(r,d)});break;case"CopyLocalImage":const{imageRef:f}=s;ft(f,"The imageRef must be defined.");for(const p of u(this,Tr).values())for(const[,g]of p.objs)if((g==null?void 0:g.ref)===f)return g.dataLen?(this.commonObjs.resolve(r,structuredClone(g)),g.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(r,s);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([r,i,s,o])=>{var l;if(this.destroyed)return;const a=u(this,Tr).get(i);if(!a.objs.has(r)){if(a._intentStates.size===0){(l=o==null?void 0:o.bitmap)==null||l.close();return}switch(s){case"Image":a.objs.resolve(r,o),(o==null?void 0:o.dataLen)>$L&&(a._maybeCleanupAfterRender=!0);break;case"Pattern":a.objs.resolve(r,o);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",r=>{var i;this.destroyed||(i=t.onProgress)==null||i.call(t,{loaded:r.loaded,total:r.total})}),e.on("FetchBuiltInCMap",r=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(r):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),e.on("FetchStandardFontData",r=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(r):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var r;this.annotationStorage.size<=0&&fe("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((r=this._fullReader)==null?void 0:r.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,r=u(this,ml).get(t);if(r)return r;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&u(this,vl).set(s.refStr,e);const o=new fI(t,s,this,this._params.pdfBug);return u(this,Tr).set(t,o),o});return u(this,ml).set(t,i),i}getPageIndex(e){return u_(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return _(this,Eo,Pu).call(this,"GetFieldObjects")}hasJSActions(){return _(this,Eo,Pu).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return _(this,Eo,Pu).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return _(this,Eo,Pu).call(this,"GetOptionalContentConfig").then(t=>new OR(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=u(this,hi).get(e);if(t)return t;const r=this.messageHandler.sendWithPromise(e,null).then(i=>{var s,o;return{info:i[0],metadata:i[1]?new IR(i[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((o=this._fullReader)==null?void 0:o.contentLength)??null}});return u(this,hi).set(e,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of u(this,Tr).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),u(this,hi).clear(),this.filterFactory.destroy(!0),Qf.cleanup()}}cachedPageNumber(e){if(!u_(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return u(this,vl).get(t)??null}}hi=new WeakMap,Tr=new WeakMap,ml=new WeakMap,vl=new WeakMap,kr=new WeakMap,Eo=new WeakSet,Pu=function(e,t=null){const r=u(this,hi).get(e);if(r)return r;const i=this.messageHandler.sendWithPromise(e,t);return u(this,hi).set(e,i),i};const Rd=Symbol("INITIAL_DATA");var rr,sh,H0;class IS{constructor(){E(this,sh);E(this,rr,Object.create(null))}get(e,t=null){if(t){const i=_(this,sh,H0).call(this,e);return i.promise.then(()=>t(i.data)),null}const r=u(this,rr)[e];if(!r||r.data===Rd)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){const t=u(this,rr)[e];return!!t&&t.data!==Rd}resolve(e,t=null){const r=_(this,sh,H0).call(this,e);r.data=t,r.resolve()}clear(){var e;for(const t in u(this,rr)){const{data:r}=u(this,rr)[t];(e=r==null?void 0:r.bitmap)==null||e.close()}w(this,rr,Object.create(null))}*[Symbol.iterator](){for(const e in u(this,rr)){const{data:t}=u(this,rr)[e];t!==Rd&&(yield[e,t])}}}rr=new WeakMap,sh=new WeakSet,H0=function(e){var t;return(t=u(this,rr))[e]||(t[e]={...Promise.withResolvers(),data:Rd})};var is;class mI{constructor(e){E(this,is,null);w(this,is,e),this.onContinue=null}get promise(){return u(this,is).capability.promise}cancel(e=0){u(this,is).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=u(this,is).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=u(this,is);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}is=new WeakMap;var Ao;const Ys=class Ys{constructor({callback:e,params:t,objs:r,commonObjs:i,annotationCanvasMap:s,operatorList:o,pageIndex:a,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:h=!1,pdfBug:d=!1,pageColors:f=null}){this.callback=e,this.params=t,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=a,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=d,this.pageColors=f,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=h===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new mI(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var a,l;if(this.cancelled)return;if(this._canvas){if(u(Ys,Ao).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");u(Ys,Ao).add(this._canvas)}this._pdfBug&&((a=globalThis.StepperManager)!=null&&a.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:r,viewport:i,transform:s,background:o}=this.params;this.gfx=new Ga(r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:s,viewport:i,transparency:e,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,(l=this.graphicsReadyCallback)==null||l.call(this)}cancel(e=null,t=0){var r;this.running=!1,this.cancelled=!0,(r=this.gfx)==null||r.endDrawing(),u(Ys,Ao).delete(this._canvas),this.callback(e||new jy(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),u(Ys,Ao).delete(this._canvas),this.callback())))}};Ao=new WeakMap,E(Ys,Ao,new WeakSet);let V0=Ys;const vI="4.3.136",yI="0cec64437";function c_(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function vu(n){return Math.max(0,Math.min(255,255*n))}class h_{static CMYK_G([e,t,r,i]){return["G",1-Math.min(1,.3*e+.59*r+.11*t+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=vu(e),[e,e,e]}static G_HTML([e]){const t=c_(e);return`#${t}${t}${t}`}static RGB_G([e,t,r]){return["G",.3*e+.59*t+.11*r]}static RGB_rgb(e){return e.map(vu)}static RGB_HTML(e){return`#${e.map(c_).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,r,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,r+i),1-Math.min(1,t+i)]}static CMYK_rgb([e,t,r,i]){return[vu(1-Math.min(1,e+i)),vu(1-Math.min(1,r+i)),vu(1-Math.min(1,t+i))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,r]){const i=1-e,s=1-t,o=1-r,a=Math.min(i,s,o);return["CMYK",i,s,o,a]}}class MS{static setupStorage(e,t,r,i,s){const o=i.getValue(t,{value:null});switch(r.name){case"textarea":if(o.value!==null&&(e.textContent=o.value),s==="print")break;e.addEventListener("input",a=>{i.setValue(t,{value:a.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(o.value===r.attributes.xfaOn?e.setAttribute("checked",!0):o.value===r.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",a=>{i.setValue(t,{value:a.target.checked?a.target.getAttribute("xfaOn"):a.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&e.setAttribute("value",o.value),s==="print")break;e.addEventListener("input",a=>{i.setValue(t,{value:a.target.value})})}break;case"select":if(o.value!==null){e.setAttribute("value",o.value);for(const a of r.children)a.attributes.value===o.value?a.attributes.selected=!0:a.attributes.hasOwnProperty("selected")&&delete a.attributes.selected}e.addEventListener("input",a=>{const l=a.target.options,c=l.selectedIndex===-1?"":l[l.selectedIndex].value;i.setValue(t,{value:c})});break}}static setAttributes({html:e,element:t,storage:r=null,intent:i,linkService:s}){const{attributes:o}=t,a=e instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${i}`);for(const[l,c]of Object.entries(o))if(c!=null)switch(l){case"class":c.length&&e.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",c);break;case"style":Object.assign(e.style,c);break;case"textContent":e.textContent=c;break;default:(!a||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,c)}a&&s.addLinkAttributes(e,o.href,o.newWindow),r&&o.dataId&&this.setupStorage(e,o.dataId,t,r)}static render(e){var d,f;const t=e.annotationStorage,r=e.linkService,i=e.xfaHtml,s=e.intent||"display",o=document.createElement(i.name);i.attributes&&this.setAttributes({html:o,element:i,intent:s,linkService:r});const a=s!=="richText",l=e.div;if(l.append(o),e.viewport){const p=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=p}a&&l.setAttribute("class","xfaLayer xfaFont");const c=[];if(i.children.length===0){if(i.value){const p=document.createTextNode(i.value);o.append(p),a&&pc.shouldBuildText(i.name)&&c.push(p)}return{textDivs:c}}const h=[[i,-1,o]];for(;h.length>0;){const[p,g,y]=h.at(-1);if(g+1===p.children.length){h.pop();continue}const b=p.children[++h.at(-1)[1]];if(b===null)continue;const{name:m}=b;if(m==="#text"){const A=document.createTextNode(b.value);c.push(A),y.append(A);continue}const v=(d=b==null?void 0:b.attributes)!=null&&d.xmlns?document.createElementNS(b.attributes.xmlns,m):document.createElement(m);if(y.append(v),b.attributes&&this.setAttributes({html:v,element:b,storage:t,intent:s,linkService:r}),((f=b.children)==null?void 0:f.length)>0)h.push([b,-1,v]);else if(b.value){const A=document.createTextNode(b.value);a&&pc.shouldBuildText(m)&&c.push(A),v.append(A)}}for(const p of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:c}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const rd=1e3,wI=9,ia=new WeakSet;function ki(n){return{width:n[2]-n[0],height:n[3]-n[1]}}class _I{static create(e){switch(e.data.annotationType){case at.LINK:return new OS(e);case at.TEXT:return new EI(e);case at.WIDGET:switch(e.data.fieldType){case"Tx":return new AI(e);case"Btn":return e.data.radioButton?new FS(e):e.data.checkBox?new SI(e):new xI(e);case"Ch":return new CI(e);case"Sig":return new bI(e)}return new da(e);case at.POPUP:return new W0(e);case at.FREETEXT:return new US(e);case at.LINE:return new kI(e);case at.SQUARE:return new PI(e);case at.CIRCLE:return new LI(e);case at.POLYLINE:return new HS(e);case at.CARET:return new II(e);case at.INK:return new VS(e);case at.POLYGON:return new RI(e);case at.HIGHLIGHT:return new MI(e);case at.UNDERLINE:return new OI(e);case at.SQUIGGLY:return new DI(e);case at.STRIKEOUT:return new NI(e);case at.STAMP:return new GS(e);case at.FILEATTACHMENT:return new FI(e);default:return new nt(e)}}}var bo,yl,wl,oh,G0;const Zy=class Zy{constructor(e,{isRenderable:t=!1,ignoreBorder:r=!1,createQuadrilaterals:i=!1}={}){E(this,oh);E(this,bo,null);E(this,yl,!1);E(this,wl,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(r)),i&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:r}){return!!(e!=null&&e.str||t!=null&&t.str||r!=null&&r.str)}get hasPopupData(){return Zy._hasPopupData(this.data)}updateEdited(e){var r;if(!this.container)return;u(this,bo)||w(this,bo,{rect:this.data.rect.slice(0)});const{rect:t}=e;t&&_(this,oh,G0).call(this,t),(r=u(this,wl))==null||r.popup.updateEdited(e)}resetEdited(){var e;u(this,bo)&&(_(this,oh,G0).call(this,u(this,bo).rect),(e=u(this,wl))==null||e.popup.resetEdited(),w(this,bo,null))}_createContainer(e){const{data:t,parent:{page:r,viewport:i}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),this instanceof da||(s.tabIndex=rd);const{style:o}=s;if(o.zIndex=this.parent.zIndex++,t.popupRef&&s.setAttribute("aria-haspopup","dialog"),t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof W0){const{rotation:y}=t;return!t.hasOwnCanvas&&y!==0&&this.setRotation(y,s),s}const{width:a,height:l}=ki(t.rect);if(!e&&t.borderStyle.width>0){o.borderWidth=`${t.borderStyle.width}px`;const y=t.borderStyle.horizontalCornerRadius,b=t.borderStyle.verticalCornerRadius;if(y>0||b>0){const v=`calc(${y}px * var(--scale-factor)) / calc(${b}px * var(--scale-factor))`;o.borderRadius=v}else if(this instanceof FS){const v=`calc(${a}px * var(--scale-factor)) / calc(${l}px * var(--scale-factor))`;o.borderRadius=v}switch(t.borderStyle.style){case gu.SOLID:o.borderStyle="solid";break;case gu.DASHED:o.borderStyle="dashed";break;case gu.BEVELED:fe("Unimplemented border style: beveled");break;case gu.INSET:fe("Unimplemented border style: inset");break;case gu.UNDERLINE:o.borderBottomStyle="solid";break}const m=t.borderColor||null;m?(w(this,yl,!0),o.borderColor=te.makeHexColor(m[0]|0,m[1]|0,m[2]|0)):o.borderWidth=0}const c=te.normalizeRect([t.rect[0],r.view[3]-t.rect[1]+r.view[1],t.rect[2],r.view[3]-t.rect[3]+r.view[1]]),{pageWidth:h,pageHeight:d,pageX:f,pageY:p}=i.rawDims;o.left=`${100*(c[0]-f)/h}%`,o.top=`${100*(c[1]-p)/d}%`;const{rotation:g}=t;return t.hasOwnCanvas||g===0?(o.width=`${100*a/h}%`,o.height=`${100*l/d}%`):this.setRotation(g,s),s}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:i}=this.parent.viewport.rawDims,{width:s,height:o}=ki(this.data.rect);let a,l;e%180===0?(a=100*s/r,l=100*o/i):(a=100*o/r,l=100*s/i),t.style.width=`${a}%`,t.style.height=`${l}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,r,i)=>{const s=i.detail[t],o=s[0],a=s.slice(1);i.target.style[r]=h_[`${o}_HTML`](a),this.annotationStorage.setValue(this.data.id,{[r]:h_[`${o}_rgb`](a)})};return Se(this,"_commonActions",{display:t=>{const{display:r}=t.detail,i=r%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:r===1||r===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:r}=t.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const r=t.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(e,t){const r=this._commonActions;for(const i of Object.keys(t.detail)){const s=e[i]||r[i];s==null||s(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const r=this._commonActions;for(const[i,s]of Object.entries(t)){const o=r[i];if(o){const a={detail:{[i]:s},target:e};o(a),delete t[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,r,i,s]=this.data.rect;if(e.length===1){const[,{x:y,y:b},{x:m,y:v}]=e[0];if(i===y&&s===b&&t===m&&r===v)return}const{style:o}=this.container;let a;if(u(this,yl)){const{borderColor:y,borderWidth:b}=o;o.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${y}" stroke-width="${b}">`],this.container.classList.add("hasBorder")}const l=i-t,c=s-r,{svgFactory:h}=this,d=h.createElement("svg");d.classList.add("quadrilateralsContainer"),d.setAttribute("width",0),d.setAttribute("height",0);const f=h.createElement("defs");d.append(f);const p=h.createElement("clipPath"),g=`clippath_${this.data.id}`;p.setAttribute("id",g),p.setAttribute("clipPathUnits","objectBoundingBox"),f.append(p);for(const[,{x:y,y:b},{x:m,y:v}]of e){const A=h.createElement("rect"),S=(m-t)/l,C=(s-b)/c,k=(y-m)/l,I=(b-v)/c;A.setAttribute("x",S),A.setAttribute("y",C),A.setAttribute("width",k),A.setAttribute("height",I),p.append(A),a==null||a.push(`<rect vector-effect="non-scaling-stroke" x="${S}" y="${C}" width="${k}" height="${I}"/>`)}u(this,yl)&&(a.push("</g></svg>')"),o.backgroundImage=a.join("")),this.container.append(d),this.container.style.clipPath=`url(#${g})`}_createPopup(){const{container:e,data:t}=this;e.setAttribute("aria-haspopup","dialog");const r=w(this,wl,new W0({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(r.render())}render(){De("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const r=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:s,id:o,exportValues:a}of i){if(s===-1||o===t)continue;const l=typeof a=="string"?a:null,c=document.querySelector(`[data-element-id="${o}"]`);if(c&&!ia.has(c)){fe(`_getElementsByName - element not allowed: ${o}`);continue}r.push({id:o,exportValue:l,domElement:c})}return r}for(const i of document.getElementsByName(e)){const{exportValue:s}=i,o=i.getAttribute("data-element-id");o!==t&&ia.has(i)&&r.push({id:o,exportValue:s,domElement:i})}return r}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}get _isEditable(){return!1}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var r;(r=this.linkService.eventBus)==null||r.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}};bo=new WeakMap,yl=new WeakMap,wl=new WeakMap,oh=new WeakSet,G0=function(e){const{container:{style:t},data:{rect:r,rotation:i},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:o,pageX:a,pageY:l}}}}=this;r==null||r.splice(0,4,...e);const{width:c,height:h}=ki(e);t.left=`${100*(e[0]-a)/s}%`,t.top=`${100*(o-e[3]+l)/o}%`,i===0?(t.width=`${100*c/s}%`,t.height=`${100*h/o}%`):this.setRotation(i)};let nt=Zy;var xn,Hs,DS,NS;class OS extends nt{constructor(t,r=null){super(t,{isRenderable:!0,ignoreBorder:!!(r!=null&&r.ignoreBorder),createQuadrilaterals:!0});E(this,xn);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:r}=this,i=document.createElement("a");i.setAttribute("data-element-id",t.id);let s=!1;return t.url?(r.addLinkAttributes(i,t.url,t.newWindow),s=!0):t.action?(this._bindNamedAction(i,t.action),s=!0):t.attachment?(_(this,xn,DS).call(this,i,t.attachment,t.attachmentDest),s=!0):t.setOCGState?(_(this,xn,NS).call(this,i,t.setOCGState),s=!0):t.dest?(this._bindLink(i,t.dest),s=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,t),s=!0),t.resetForm?(this._bindResetFormAction(i,t.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(i,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&this.container.append(i),this.container}_bindLink(t,r){t.href=this.linkService.getDestinationHash(r),t.onclick=()=>(r&&this.linkService.goToDestination(r),!1),(r||r==="")&&_(this,xn,Hs).call(this)}_bindNamedAction(t,r){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(r),!1),_(this,xn,Hs).call(this)}_bindJSAction(t,r){t.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(r.actions)){const o=i.get(s);o&&(t[o]=()=>{var a;return(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r.id,name:s}}),!1})}t.onclick||(t.onclick=()=>!1),_(this,xn,Hs).call(this)}_bindResetFormAction(t,r){const i=t.onclick;if(i||(t.href=this.linkService.getAnchorUrl("")),_(this,xn,Hs).call(this),!this._fieldObjects){fe('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(t.onclick=()=>!1);return}t.onclick=()=>{var d;i==null||i();const{fields:s,refs:o,include:a}=r,l=[];if(s.length!==0||o.length!==0){const f=new Set(o);for(const p of s){const g=this._fieldObjects[p]||[];for(const{id:y}of g)f.add(y)}for(const p of Object.values(this._fieldObjects))for(const g of p)f.has(g.id)===a&&l.push(g)}else for(const f of Object.values(this._fieldObjects))l.push(...f);const c=this.annotationStorage,h=[];for(const f of l){const{id:p}=f;switch(h.push(p),f.type){case"text":{const y=f.defaultValue||"";c.setValue(p,{value:y});break}case"checkbox":case"radiobutton":{const y=f.defaultValue===f.exportValues;c.setValue(p,{value:y});break}case"combobox":case"listbox":{const y=f.defaultValue||"";c.setValue(p,{value:y});break}default:continue}const g=document.querySelector(`[data-element-id="${p}"]`);if(g){if(!ia.has(g)){fe(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;g.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:h,name:"ResetForm"}})),!1}}}xn=new WeakSet,Hs=function(){this.container.setAttribute("data-internal-link","")},DS=function(t,r,i=null){t.href=this.linkService.getAnchorUrl(""),r.description&&(t.title=r.description),t.onclick=()=>{var s;return(s=this.downloadManager)==null||s.openOrDownloadData(r.content,r.filename,i),!1},_(this,xn,Hs).call(this)},NS=function(t,r){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(r),!1),_(this,xn,Hs).call(this)};class EI extends nt{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class da extends nt{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return un.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,r,i,s){r.includes("mouse")?e.addEventListener(r,o=>{var a;(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):e.addEventListener(r,o=>{var a;if(r==="blur"){if(!t.focused||!o.relatedTarget)return;t.focused=!1}else if(r==="focus"){if(t.focused)return;t.focused=!0}s&&((a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(o)}}))})}_setEventListeners(e,t,r,i){var s,o,a;for(const[l,c]of r)(c==="Action"||(s=this.data.actions)!=null&&s[c])&&((c==="Focus"||c==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,l,c,i),c==="Focus"&&!((o=this.data.actions)!=null&&o.Blur)?this._setEventListener(e,t,"blur","Blur",null):c==="Blur"&&!((a=this.data.actions)!=null&&a.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":te.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||wI,s=e.style;let o;const a=2,l=c=>Math.round(10*c)/10;if(this.data.multiLine){const c=Math.abs(this.data.rect[3]-this.data.rect[1]-a),h=Math.round(c/(Zg*i))||1,d=c/h;o=Math.min(i,l(d/Zg))}else{const c=Math.abs(this.data.rect[3]-this.data.rect[1]-a);o=Math.min(i,l(c/Zg))}s.fontSize=`calc(${o}px * var(--scale-factor))`,s.color=te.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class AI extends da{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,r,i){const s=this.annotationStorage;for(const o of this._getElementsByName(e.name,e.id))o.domElement&&(o.domElement[t]=r),s.setValue(o.id,{[i]:r})}render(){var i,s;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const o=e.getValue(t,{value:this.data.fieldValue});let a=o.value||"";const l=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;l&&a.length>l&&(a=a.slice(0,l));let c=o.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;c&&this.data.comb&&(c=c.replaceAll(/\s+/g,""));const h={userValue:a,formattedValue:c,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=c??a,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type="text",r.setAttribute("value",c??a),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),ia.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=rd,this._setRequired(r,this.data.required),l&&(r.maxLength=l),r.addEventListener("input",f=>{e.setValue(t,{value:f.target.value}),this.setPropertyOnSiblings(r,"value",f.target.value,"value"),h.formattedValue=null}),r.addEventListener("resetform",f=>{const p=this.data.defaultFieldValue??"";r.value=h.userValue=p,h.formattedValue=null});let d=f=>{const{formattedValue:p}=h;p!=null&&(f.target.value=p),f.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",p=>{var y;if(h.focused)return;const{target:g}=p;h.userValue&&(g.value=h.userValue),h.lastCommittedValue=g.value,h.commitKey=1,(y=this.data.actions)!=null&&y.Focus||(h.focused=!0)}),r.addEventListener("updatefromsandbox",p=>{this.showElementAndHideCanvas(p.target);const g={value(y){h.userValue=y.detail.value??"",e.setValue(t,{value:h.userValue.toString()}),y.target.value=h.userValue},formattedValue(y){const{formattedValue:b}=y.detail;h.formattedValue=b,b!=null&&y.target!==document.activeElement&&(y.target.value=b),e.setValue(t,{formattedValue:b})},selRange(y){y.target.setSelectionRange(...y.detail.selRange)},charLimit:y=>{var A;const{charLimit:b}=y.detail,{target:m}=y;if(b===0){m.removeAttribute("maxLength");return}m.setAttribute("maxLength",b);let v=h.userValue;!v||v.length<=b||(v=v.slice(0,b),m.value=h.userValue=v,e.setValue(t,{value:v}),(A=this.linkService.eventBus)==null||A.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:v,willCommit:!0,commitKey:1,selStart:m.selectionStart,selEnd:m.selectionEnd}}))}};this._dispatchEventFromSandbox(g,p)}),r.addEventListener("keydown",p=>{var b;h.commitKey=1;let g=-1;if(p.key==="Escape"?g=0:p.key==="Enter"&&!this.data.multiLine?g=2:p.key==="Tab"&&(h.commitKey=3),g===-1)return;const{value:y}=p.target;h.lastCommittedValue!==y&&(h.lastCommittedValue=y,h.userValue=y,(b=this.linkService.eventBus)==null||b.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:y,willCommit:!0,commitKey:g,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}}))});const f=d;d=null,r.addEventListener("blur",p=>{var y,b;if(!h.focused||!p.relatedTarget)return;(y=this.data.actions)!=null&&y.Blur||(h.focused=!1);const{value:g}=p.target;h.userValue=g,h.lastCommittedValue!==g&&((b=this.linkService.eventBus)==null||b.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:g,willCommit:!0,commitKey:h.commitKey,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}})),f(p)}),(s=this.data.actions)!=null&&s.Keystroke&&r.addEventListener("beforeinput",p=>{var C;h.lastCommittedValue=null;const{data:g,target:y}=p,{value:b,selectionStart:m,selectionEnd:v}=y;let A=m,S=v;switch(p.inputType){case"deleteWordBackward":{const k=b.substring(0,m).match(/\w*[^\w]*$/);k&&(A-=k[0].length);break}case"deleteWordForward":{const k=b.substring(m).match(/^[^\w]*\w*/);k&&(S+=k[0].length);break}case"deleteContentBackward":m===v&&(A-=1);break;case"deleteContentForward":m===v&&(S+=1);break}p.preventDefault(),(C=this.linkService.eventBus)==null||C.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:b,change:g||"",willCommit:!1,selStart:A,selEnd:S}})}),this._setEventListeners(r,h,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],p=>p.target.value)}if(d&&r.addEventListener("blur",d),this.data.comb){const p=(this.data.rect[2]-this.data.rect[0])/l;r.classList.add("comb"),r.style.letterSpacing=`calc(${p}px * var(--scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class bI extends da{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class SI extends da{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,r=t.id;let i=e.getValue(r,{value:t.exportValue===t.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(r,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return ia.add(s),s.setAttribute("data-element-id",r),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=rd,s.addEventListener("change",o=>{const{name:a,checked:l}=o.target;for(const c of this._getElementsByName(a,r)){const h=l&&c.exportValue===t.exportValue;c.domElement&&(c.domElement.checked=h),e.setValue(c.id,{value:h})}e.setValue(r,{value:l})}),s.addEventListener("resetform",o=>{const a=t.defaultFieldValue||"Off";o.target.checked=a===t.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",o=>{const a={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(r,{value:l.target.checked})}};this._dispatchEventFromSandbox(a,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class FS extends da{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,r=t.id;let i=e.getValue(r,{value:t.fieldValue===t.buttonValue}).value;if(typeof i=="string"&&(i=i!==t.buttonValue,e.setValue(r,{value:i})),i)for(const o of this._getElementsByName(t.fieldName,r))e.setValue(o.id,{value:!1});const s=document.createElement("input");if(ia.add(s),s.setAttribute("data-element-id",r),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.tabIndex=rd,s.addEventListener("change",o=>{const{name:a,checked:l}=o.target;for(const c of this._getElementsByName(a,r))e.setValue(c.id,{value:!1});e.setValue(r,{value:l})}),s.addEventListener("resetform",o=>{const a=t.defaultFieldValue;o.target.checked=a!=null&&a===t.buttonValue}),this.enableScripting&&this.hasJSActions){const o=t.buttonValue;s.addEventListener("updatefromsandbox",a=>{const l={value:c=>{const h=o===c.detail.value;for(const d of this._getElementsByName(c.target.name)){const f=h&&d.id===r;d.domElement&&(d.domElement.checked=f),e.setValue(d.id,{value:f})}}};this._dispatchEventFromSandbox(l,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class xI extends OS{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),e}}class CI extends da{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,r=e.getValue(t,{value:this.data.fieldValue}),i=document.createElement("select");ia.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=rd;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",h=>{const d=this.data.defaultFieldValue;for(const f of i.options)f.selected=f.value===d});for(const h of this.data.options){const d=document.createElement("option");d.textContent=h.displayValue,d.value=h.exportValue,r.value.includes(h.exportValue)&&(d.setAttribute("selected",!0),s=!1),i.append(d)}let o=null;if(s){const h=document.createElement("option");h.value=" ",h.setAttribute("hidden",!0),h.setAttribute("selected",!0),i.prepend(h),o=()=>{h.remove(),i.removeEventListener("input",o),o=null},i.addEventListener("input",o)}const a=h=>{const d=h?"value":"textContent",{options:f,multiple:p}=i;return p?Array.prototype.filter.call(f,g=>g.selected).map(g=>g[d]):f.selectedIndex===-1?null:f[f.selectedIndex][d]};let l=a(!1);const c=h=>{const d=h.target.options;return Array.prototype.map.call(d,f=>({displayValue:f.textContent,exportValue:f.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",h=>{const d={value(f){o==null||o();const p=f.detail.value,g=new Set(Array.isArray(p)?p:[p]);for(const y of i.options)y.selected=g.has(y.value);e.setValue(t,{value:a(!0)}),l=a(!1)},multipleSelection(f){i.multiple=!0},remove(f){const p=i.options,g=f.detail.remove;p[g].selected=!1,i.remove(g),p.length>0&&Array.prototype.findIndex.call(p,b=>b.selected)===-1&&(p[0].selected=!0),e.setValue(t,{value:a(!0),items:c(f)}),l=a(!1)},clear(f){for(;i.length!==0;)i.remove(0);e.setValue(t,{value:null,items:[]}),l=a(!1)},insert(f){const{index:p,displayValue:g,exportValue:y}=f.detail.insert,b=i.children[p],m=document.createElement("option");m.textContent=g,m.value=y,b?b.before(m):i.append(m),e.setValue(t,{value:a(!0),items:c(f)}),l=a(!1)},items(f){const{items:p}=f.detail;for(;i.length!==0;)i.remove(0);for(const g of p){const{displayValue:y,exportValue:b}=g,m=document.createElement("option");m.textContent=y,m.value=b,i.append(m)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(t,{value:a(!0),items:c(f)}),l=a(!1)},indices(f){const p=new Set(f.detail.indices);for(const g of f.target.options)g.selected=p.has(g.index);e.setValue(t,{value:a(!0)}),l=a(!1)},editable(f){f.target.disabled=!f.detail.editable}};this._dispatchEventFromSandbox(d,h)}),i.addEventListener("input",h=>{var p;const d=a(!0),f=a(!1);e.setValue(t,{value:d}),h.preventDefault(),(p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:l,change:f,changeEx:d,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],h=>h.target.value)):i.addEventListener("input",function(h){e.setValue(t,{value:a(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class W0 extends nt{constructor(e){const{data:t,elements:r}=e;super(e,{isRenderable:nt._hasPopupData(t)}),this.elements=r,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new TI({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const r of this.elements)r.popup=e,t.push(r.data.id),r.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(r=>`${$b}${r}`).join(",")),this.container}}var _l,yp,wp,El,So,Ze,di,xo,ah,lh,Al,fi,ir,pi,uh,gi,ch,Co,To,Ne,rf,Y0,BS,jS,zS,$S,sf,of,X0;class TI{constructor({container:e,color:t,elements:r,titleObj:i,modificationDate:s,contentsObj:o,richText:a,parent:l,rect:c,parentRect:h,open:d}){E(this,Ne);E(this,_l,_(this,Ne,zS).bind(this));E(this,yp,_(this,Ne,X0).bind(this));E(this,wp,_(this,Ne,of).bind(this));E(this,El,_(this,Ne,sf).bind(this));E(this,So,null);E(this,Ze,null);E(this,di,null);E(this,xo,null);E(this,ah,null);E(this,lh,null);E(this,Al,null);E(this,fi,!1);E(this,ir,null);E(this,pi,null);E(this,uh,null);E(this,gi,null);E(this,ch,null);E(this,Co,null);E(this,To,!1);var f;w(this,Ze,e),w(this,ch,i),w(this,di,o),w(this,gi,a),w(this,lh,l),w(this,So,t),w(this,uh,c),w(this,Al,h),w(this,ah,r),w(this,xo,Wb.toDateObject(s)),this.trigger=r.flatMap(p=>p.getElementsToTriggerPopup());for(const p of this.trigger)p.addEventListener("click",u(this,El)),p.addEventListener("mouseenter",u(this,wp)),p.addEventListener("mouseleave",u(this,yp)),p.classList.add("popupTriggerArea");for(const p of r)(f=p.container)==null||f.addEventListener("keydown",u(this,_l));u(this,Ze).hidden=!0,d&&_(this,Ne,sf).call(this)}render(){if(u(this,ir))return;const e=w(this,ir,document.createElement("div"));if(e.className="popup",u(this,So)){const s=e.style.outlineColor=te.makeHexColor(...u(this,So));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`:e.style.backgroundColor=te.makeHexColor(...u(this,So).map(a=>Math.floor(.7*(255-a)+a)))}const t=document.createElement("span");t.className="header";const r=document.createElement("h1");if(t.append(r),{dir:r.dir,str:r.textContent}=u(this,ch),e.append(t),u(this,xo)){const s=document.createElement("span");s.classList.add("popupDate"),s.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),s.setAttribute("data-l10n-args",JSON.stringify({date:u(this,xo).toLocaleDateString(),time:u(this,xo).toLocaleTimeString()})),t.append(s)}const i=u(this,Ne,rf);if(i)MS.render({xfaHtml:i,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const s=this._formatContents(u(this,di));e.append(s)}u(this,Ze).append(e)}_formatContents({str:e,dir:t}){const r=document.createElement("p");r.classList.add("popupContent"),r.dir=t;const i=e.split(/(?:\r\n?|\n)/);for(let s=0,o=i.length;s<o;++s){const a=i[s];r.append(document.createTextNode(a)),s<o-1&&r.append(document.createElement("br"))}return r}updateEdited({rect:e,popupContent:t}){var r;u(this,Co)||w(this,Co,{contentsObj:u(this,di),richText:u(this,gi)}),e&&w(this,pi,null),t&&(w(this,gi,_(this,Ne,jS).call(this,t)),w(this,di,null)),(r=u(this,ir))==null||r.remove(),w(this,ir,null)}resetEdited(){var e;u(this,Co)&&({contentsObj:gn(this,di)._,richText:gn(this,gi)._}=u(this,Co),w(this,Co,null),(e=u(this,ir))==null||e.remove(),w(this,ir,null),w(this,pi,null))}forceHide(){w(this,To,this.isVisible),u(this,To)&&(u(this,Ze).hidden=!0)}maybeShow(){u(this,To)&&(u(this,ir)||_(this,Ne,of).call(this),w(this,To,!1),u(this,Ze).hidden=!1)}get isVisible(){return u(this,Ze).hidden===!1}}_l=new WeakMap,yp=new WeakMap,wp=new WeakMap,El=new WeakMap,So=new WeakMap,Ze=new WeakMap,di=new WeakMap,xo=new WeakMap,ah=new WeakMap,lh=new WeakMap,Al=new WeakMap,fi=new WeakMap,ir=new WeakMap,pi=new WeakMap,uh=new WeakMap,gi=new WeakMap,ch=new WeakMap,Co=new WeakMap,To=new WeakMap,Ne=new WeakSet,rf=function(){const e=u(this,gi),t=u(this,di);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&u(this,gi).html||null},Y0=function(){var e,t,r;return((r=(t=(e=u(this,Ne,rf))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:r.fontSize)||0},BS=function(){var e,t,r;return((r=(t=(e=u(this,Ne,rf))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:r.color)||null},jS=function(e){const t=[],r={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},i={style:{color:u(this,Ne,BS),fontSize:u(this,Ne,Y0)?`calc(${u(this,Ne,Y0)}px * var(--scale-factor))`:""}};for(const s of e.split(`
`))t.push({name:"span",value:s,attributes:i});return r},zS=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&u(this,fi))&&_(this,Ne,sf).call(this)},$S=function(){if(u(this,pi)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:r,pageX:i,pageY:s}}}=u(this,lh);let o=!!u(this,Al),a=o?u(this,Al):u(this,uh);for(const g of u(this,ah))if(!a||te.intersect(g.data.rect,a)!==null){a=g.data.rect,o=!0;break}const l=te.normalizeRect([a[0],e[3]-a[1]+e[1],a[2],e[3]-a[3]+e[1]]),h=o?a[2]-a[0]+5:0,d=l[0]+h,f=l[1];w(this,pi,[100*(d-i)/t,100*(f-s)/r]);const{style:p}=u(this,Ze);p.left=`${u(this,pi)[0]}%`,p.top=`${u(this,pi)[1]}%`},sf=function(){w(this,fi,!u(this,fi)),u(this,fi)?(_(this,Ne,of).call(this),u(this,Ze).addEventListener("click",u(this,El)),u(this,Ze).addEventListener("keydown",u(this,_l))):(_(this,Ne,X0).call(this),u(this,Ze).removeEventListener("click",u(this,El)),u(this,Ze).removeEventListener("keydown",u(this,_l)))},of=function(){u(this,ir)||this.render(),this.isVisible?u(this,fi)&&u(this,Ze).classList.add("focused"):(_(this,Ne,$S).call(this),u(this,Ze).hidden=!1,u(this,Ze).style.zIndex=parseInt(u(this,Ze).style.zIndex)+1e3)},X0=function(){u(this,Ze).classList.remove("focused"),!(u(this,fi)||!this.isVisible)&&(u(this,Ze).hidden=!0,u(this,Ze).style.zIndex=parseInt(u(this,Ze).style.zIndex)-1e3)};class US extends nt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=be.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const r=document.createElement("span");r.textContent=t,e.append(r)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}get _isEditable(){return this.data.hasOwnCanvas}}var hh;class kI extends nt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});E(this,hh,null)}render(){this.container.classList.add("lineAnnotation");const t=this.data,{width:r,height:i}=ki(t.rect),s=this.svgFactory.create(r,i,!0),o=w(this,hh,this.svgFactory.createElement("svg:line"));return o.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),o.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),o.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),o.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),o.setAttribute("stroke-width",t.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,hh)}addHighlightArea(){this.container.classList.add("highlightArea")}}hh=new WeakMap;var dh;class PI extends nt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});E(this,dh,null)}render(){this.container.classList.add("squareAnnotation");const t=this.data,{width:r,height:i}=ki(t.rect),s=this.svgFactory.create(r,i,!0),o=t.borderStyle.width,a=w(this,dh,this.svgFactory.createElement("svg:rect"));return a.setAttribute("x",o/2),a.setAttribute("y",o/2),a.setAttribute("width",r-o),a.setAttribute("height",i-o),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,dh)}addHighlightArea(){this.container.classList.add("highlightArea")}}dh=new WeakMap;var fh;class LI extends nt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});E(this,fh,null)}render(){this.container.classList.add("circleAnnotation");const t=this.data,{width:r,height:i}=ki(t.rect),s=this.svgFactory.create(r,i,!0),o=t.borderStyle.width,a=w(this,fh,this.svgFactory.createElement("svg:ellipse"));return a.setAttribute("cx",r/2),a.setAttribute("cy",i/2),a.setAttribute("rx",r/2-o/2),a.setAttribute("ry",i/2-o/2),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,fh)}addHighlightArea(){this.container.classList.add("highlightArea")}}fh=new WeakMap;var ph;class HS extends nt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});E(this,ph,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const t=this.data,{width:r,height:i}=ki(t.rect),s=this.svgFactory.create(r,i,!0);let o=[];for(const l of t.vertices){const c=l.x-t.rect[0],h=t.rect[3]-l.y;o.push(c+","+h)}o=o.join(" ");const a=w(this,ph,this.svgFactory.createElement(this.svgElementName));return a.setAttribute("points",o),a.setAttribute("stroke-width",t.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,ph)}addHighlightArea(){this.container.classList.add("highlightArea")}}ph=new WeakMap;class RI extends HS{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class II extends nt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var gh;class VS extends nt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});E(this,gh,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=be.INK}render(){this.container.classList.add(this.containerClassName);const t=this.data,{width:r,height:i}=ki(t.rect),s=this.svgFactory.create(r,i,!0);for(const o of t.inkLists){let a=[];for(const c of o){const h=c.x-t.rect[0],d=t.rect[3]-c.y;a.push(`${h},${d}`)}a=a.join(" ");const l=this.svgFactory.createElement(this.svgElementName);u(this,gh).push(l),l.setAttribute("points",a),l.setAttribute("stroke-width",t.borderStyle.width||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),!t.popupRef&&this.hasPopupData&&this._createPopup(),s.append(l)}return this.container.append(s),this.container}getElementsToTriggerPopup(){return u(this,gh)}addHighlightArea(){this.container.classList.add("highlightArea")}}gh=new WeakMap;class MI extends nt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class OI extends nt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class DI extends nt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class NI extends nt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class GS extends nt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var mh,vh,K0;class FI extends nt{constructor(t){var i;super(t,{isRenderable:!0});E(this,vh);E(this,mh,null);const{file:r}=this.data;this.filename=r.filename,this.content=r.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...r})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:r}=this;let i;r.hasAppearance||r.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(r.name)?"paperclip":"pushpin"}.svg`,r.fillAlpha&&r.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(r.fillAlpha*100)}%);`)),i.addEventListener("dblclick",_(this,vh,K0).bind(this)),w(this,mh,i);const{isMac:s}=un.platform;return t.addEventListener("keydown",o=>{o.key==="Enter"&&(s?o.metaKey:o.ctrlKey)&&_(this,vh,K0).call(this)}),!r.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),t.append(i),t}getElementsToTriggerPopup(){return u(this,mh)}addHighlightArea(){this.container.classList.add("highlightArea")}}mh=new WeakMap,vh=new WeakSet,K0=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var yh,ko,bl,oa,WS,q0,$_;let BI=($_=class{constructor({div:e,accessibilityManager:t,annotationCanvasMap:r,annotationEditorUIManager:i,page:s,viewport:o}){E(this,oa);E(this,yh,null);E(this,ko,null);E(this,bl,new Map);this.div=e,w(this,yh,t),w(this,ko,r),this.page=s,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=i}async render(e){var o;const{annotations:t}=e,r=this.div;na(r,this.viewport);const i=new Map,s={data:null,layer:r,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new By,annotationStorage:e.annotationStorage||new Hy,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const a of t){if(a.noHTML)continue;const l=a.annotationType===at.POPUP;if(l){const d=i.get(a.id);if(!d)continue;s.elements=d}else{const{width:d,height:f}=ki(a.rect);if(d<=0||f<=0)continue}s.data=a;const c=_I.create(s);if(!c.isRenderable)continue;if(!l&&a.popupRef){const d=i.get(a.popupRef);d?d.push(c):i.set(a.popupRef,[c])}const h=c.render();a.hidden&&(h.style.visibility="hidden"),_(this,oa,WS).call(this,h,a.id),c.annotationEditorType>0&&(u(this,bl).set(c.data.id,c),(o=this._annotationEditorUIManager)==null||o.renderAnnotationElement(c))}_(this,oa,q0).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,na(t,{rotation:e.rotation}),_(this,oa,q0).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(u(this,bl).values())}getEditableAnnotation(e){return u(this,bl).get(e)}},yh=new WeakMap,ko=new WeakMap,bl=new WeakMap,oa=new WeakSet,WS=function(e,t){var i;const r=e.firstChild||e;r.id=`${$b}${t}`,this.div.append(e),(i=u(this,yh))==null||i.moveElementInDOM(this.div,e,r,!1)},q0=function(){if(!u(this,ko))return;const e=this.div;for(const[t,r]of u(this,ko)){const i=e.querySelector(`[data-annotation-id="${t}"]`);if(!i)continue;r.className="annotationContent";const{firstChild:s}=i;s?s.nodeName==="CANVAS"?s.replaceWith(r):s.classList.contains("annotationContent")?s.after(r):s.before(r):i.append(r)}u(this,ko).clear()},$_);const Id=/\r\n?|\n/g;var wh,_h,Eh,Ah,bh,sr,wn,Sh,_n,Sl,st,YS,XS,KS,af,Li,lf,uf,qS,Z0,QS;const ze=class ze extends Re{constructor(t){super({...t,name:"freeTextEditor"});E(this,st);E(this,wh,this.editorDivBlur.bind(this));E(this,_h,this.editorDivFocus.bind(this));E(this,Eh,this.editorDivInput.bind(this));E(this,Ah,this.editorDivKeydown.bind(this));E(this,bh,this.editorDivPaste.bind(this));E(this,sr);E(this,wn,"");E(this,Sh,`${this.id}-editor`);E(this,_n);E(this,Sl,null);w(this,sr,t.color||ze._defaultColor||Re._defaultLineColor),w(this,_n,t.fontSize||ze._defaultFontSize)}static get _keyboardManager(){const t=ze.prototype,r=o=>o.isEmpty(),i=ra.TRANSLATE_SMALL,s=ra.TRANSLATE_BIG;return Se(this,"_keyboardManager",new td([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:r}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[i,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[s,0],checker:r}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:r}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,i],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,s],checker:r}]]))}static initialize(t,r){Re.initialize(t,r,{strings:["pdfjs-free-text-default-content"]});const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,r){switch(t){case he.FREETEXT_SIZE:ze._defaultFontSize=r;break;case he.FREETEXT_COLOR:ze._defaultColor=r;break}}updateParams(t,r){switch(t){case he.FREETEXT_SIZE:_(this,st,YS).call(this,r);break;case he.FREETEXT_COLOR:_(this,st,XS).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[he.FREETEXT_SIZE,ze._defaultFontSize],[he.FREETEXT_COLOR,ze._defaultColor||Re._defaultLineColor]]}get propertiesToUpdate(){return[[he.FREETEXT_SIZE,u(this,_n)],[he.FREETEXT_COLOR,u(this,sr)]]}_translateEmpty(t,r){this._uiManager.translateSelectedEditors(t,r,!0)}getInitialTranslation(){const t=this.parentScale;return[-ze._internalPadding*t,-(ze._internalPadding+u(this,_n))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(be.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",u(this,Ah)),this.editorDiv.addEventListener("focus",u(this,_h)),this.editorDiv.addEventListener("blur",u(this,wh)),this.editorDiv.addEventListener("input",u(this,Eh)),this.editorDiv.addEventListener("paste",u(this,bh)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",u(this,Sh)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",u(this,Ah)),this.editorDiv.removeEventListener("focus",u(this,_h)),this.editorDiv.removeEventListener("blur",u(this,wh)),this.editorDiv.removeEventListener("input",u(this,Eh)),this.editorDiv.removeEventListener("paste",u(this,bh)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var t;this.width||(this.enableEditMode(),this.editorDiv.focus(),(t=this._initialOptions)!=null&&t.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=u(this,wn),r=w(this,wn,_(this,st,KS).call(this).trimEnd());if(t===r)return;const i=s=>{if(w(this,wn,s),!s){this.remove();return}_(this,st,uf).call(this),this._uiManager.rebuild(this),_(this,st,af).call(this)};this.addCommands({cmd:()=>{i(r)},undo:()=>{i(t)},mustExec:!1}),_(this,st,af).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(t){this.enterInEditMode()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){ze._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,r;this.width&&(t=this.x,r=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",u(this,Sh)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),Re._l10nPromise.get("pdfjs-free-text-default-content").then(s=>{var o;return(o=this.editorDiv)==null?void 0:o.setAttribute("default-content",s)}),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${u(this,_n)}px * var(--scale-factor))`,i.color=u(this,sr),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),Xf(this,this.div,["dblclick","keydown"]),this.width){const[s,o]=this.parentDimensions;if(this.annotationElementId){const{position:a}=u(this,Sl);let[l,c]=this.getInitialTranslation();[l,c]=this.pageTranslationToScreen(l,c);const[h,d]=this.pageDimensions,[f,p]=this.pageTranslation;let g,y;switch(this.rotation){case 0:g=t+(a[0]-f)/h,y=r+this.height-(a[1]-p)/d;break;case 90:g=t+(a[0]-f)/h,y=r-(a[1]-p)/d,[l,c]=[c,-l];break;case 180:g=t-this.width+(a[0]-f)/h,y=r-(a[1]-p)/d,[l,c]=[-l,-c];break;case 270:g=t+(a[0]-f-this.height*d)/h,y=r+(a[1]-p-this.width*h)/d,[l,c]=[-c,l];break}this.setAt(g*s,y*o,l,c)}else this.setAt(t*s,r*o,this.width*s,this.height*o);_(this,st,uf).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var g,y,b;const r=t.clipboardData||window.clipboardData,{types:i}=r;if(i.length===1&&i[0]==="text/plain")return;t.preventDefault();const s=_(g=ze,Li,Z0).call(g,r.getData("text")||"").replaceAll(Id,`
`);if(!s)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const a=o.getRangeAt(0);if(!s.includes(`
`)){a.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:l,startOffset:c}=a,h=[],d=[];if(l.nodeType===Node.TEXT_NODE){const m=l.parentElement;if(d.push(l.nodeValue.slice(c).replaceAll(Id,"")),m!==this.editorDiv){let v=h;for(const A of this.editorDiv.childNodes){if(A===m){v=d;continue}v.push(_(y=ze,Li,lf).call(y,A))}}h.push(l.nodeValue.slice(0,c).replaceAll(Id,""))}else if(l===this.editorDiv){let m=h,v=0;for(const A of this.editorDiv.childNodes)v++===c&&(m=d),m.push(_(b=ze,Li,lf).call(b,A))}w(this,wn,`${h.join(`
`)}${s}${d.join(`
`)}`),_(this,st,uf).call(this);const f=new Range;let p=h.reduce((m,v)=>m+v.length,0);for(const{firstChild:m}of this.editorDiv.childNodes)if(m.nodeType===Node.TEXT_NODE){const v=m.nodeValue.length;if(p<=v){f.setStart(m,p),f.setEnd(m,p);break}p-=v}o.removeAllRanges(),o.addRange(f)}get contentDiv(){return this.editorDiv}static deserialize(t,r,i){var a;let s=null;if(t instanceof US){const{data:{defaultAppearanceData:{fontSize:l,fontColor:c},rect:h,rotation:d,id:f},textContent:p,textPosition:g,parent:{page:{pageNumber:y}}}=t;if(!p||p.length===0)return null;s=t={annotationType:be.FREETEXT,color:Array.from(c),fontSize:l,value:p.join(`
`),position:g,pageIndex:y-1,rect:h.slice(0),rotation:d,id:f,deleted:!1}}const o=super.deserialize(t,r,i);return w(o,_n,t.fontSize),w(o,sr,te.makeHexColor(...t.color)),w(o,wn,_(a=ze,Li,Z0).call(a,t.value)),o.annotationElementId=t.id||null,w(o,Sl,s),o}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const r=ze._internalPadding*this.parentScale,i=this.getRect(r,r),s=Re._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:u(this,sr)),o={annotationType:be.FREETEXT,color:s,fontSize:u(this,_n),value:_(this,st,qS).call(this),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?o:this.annotationElementId&&!_(this,st,QS).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(t){const r=super.renderAnnotationElement(t);if(this.deleted)return r;const{style:i}=r;i.fontSize=`calc(${u(this,_n)}px * var(--scale-factor))`,i.color=u(this,sr),r.replaceChildren();for(const o of u(this,wn).split(`
`)){const a=document.createElement("div");a.append(o?document.createTextNode(o):document.createElement("br")),r.append(a)}const s=ze._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(s,s),popupContent:u(this,wn)}),r}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};wh=new WeakMap,_h=new WeakMap,Eh=new WeakMap,Ah=new WeakMap,bh=new WeakMap,sr=new WeakMap,wn=new WeakMap,Sh=new WeakMap,_n=new WeakMap,Sl=new WeakMap,st=new WeakSet,YS=function(t){const r=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--scale-factor))`,this.translate(0,-(s-u(this,_n))*this.parentScale),w(this,_n,s),_(this,st,af).call(this)},i=u(this,_n);this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:he.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},XS=function(t){const r=s=>{w(this,sr,this.editorDiv.style.color=s)},i=u(this,sr);this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:he.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},KS=function(){var r;const t=[];this.editorDiv.normalize();for(const i of this.editorDiv.childNodes)t.push(_(r=ze,Li,lf).call(r,i));return t.join(`
`)},af=function(){const[t,r]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:s,div:o}=this,a=o.style.display,l=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",s.div.append(this.div),i=o.getBoundingClientRect(),o.remove(),o.style.display=a,o.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=i.width/t,this.height=i.height/r):(this.width=i.height/t,this.height=i.width/r),this.fixAndSetPosition()},Li=new WeakSet,lf=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(Id,"")},uf=function(){if(this.editorDiv.replaceChildren(),!!u(this,wn))for(const t of u(this,wn).split(`
`)){const r=document.createElement("div");r.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(r)}},qS=function(){return u(this,wn).replaceAll(""," ")},Z0=function(t){return t.replaceAll(" ","")},QS=function(t){const{value:r,fontSize:i,color:s,pageIndex:o}=u(this,Sl);return this._hasBeenMoved||t.value!==r||t.fontSize!==i||t.color.some((a,l)=>a!==s[l])||t.pageIndex!==o},E(ze,Li),de(ze,"_freeTextDefaultContent",""),de(ze,"_internalPadding",0),de(ze,"_defaultColor",null),de(ze,"_defaultFontSize",10),de(ze,"_type","freetext"),de(ze,"_editorType",be.FREETEXT);let Q0=ze;var xh,ss,or,Qt,ZS,cf,JS,ex,ev;class J0{constructor(e,t=0,r=0,i=!0){E(this,Qt);E(this,xh);E(this,ss,[]);E(this,or,[]);let s=1/0,o=-1/0,a=1/0,l=-1/0;const h=10**-4;for(const{x:m,y:v,width:A,height:S}of e){const C=Math.floor((m-t)/h)*h,k=Math.ceil((m+A+t)/h)*h,I=Math.floor((v-t)/h)*h,M=Math.ceil((v+S+t)/h)*h,z=[C,I,M,!0],j=[k,I,M,!1];u(this,ss).push(z,j),s=Math.min(s,C),o=Math.max(o,k),a=Math.min(a,I),l=Math.max(l,M)}const d=o-s+2*r,f=l-a+2*r,p=s-r,g=a-r,y=u(this,ss).at(i?-1:-2),b=[y[0],y[2]];for(const m of u(this,ss)){const[v,A,S]=m;m[0]=(v-p)/d,m[1]=(A-g)/f,m[2]=(S-g)/f}w(this,xh,{x:p,y:g,width:d,height:f,lastPoint:b})}getOutlines(){u(this,ss).sort((t,r)=>t[0]-r[0]||t[1]-r[1]||t[2]-r[2]);const e=[];for(const t of u(this,ss))t[3]?(e.push(..._(this,Qt,ev).call(this,t)),_(this,Qt,JS).call(this,t)):(_(this,Qt,ex).call(this,t),e.push(..._(this,Qt,ev).call(this,t)));return _(this,Qt,ZS).call(this,e)}}xh=new WeakMap,ss=new WeakMap,or=new WeakMap,Qt=new WeakSet,ZS=function(e){const t=[],r=new Set;for(const o of e){const[a,l,c]=o;t.push([a,l,o],[a,c,o])}t.sort((o,a)=>o[1]-a[1]||o[0]-a[0]);for(let o=0,a=t.length;o<a;o+=2){const l=t[o][2],c=t[o+1][2];l.push(c),c.push(l),r.add(l),r.add(c)}const i=[];let s;for(;r.size>0;){const o=r.values().next().value;let[a,l,c,h,d]=o;r.delete(o);let f=a,p=l;for(s=[a,c],i.push(s);;){let g;if(r.has(h))g=h;else if(r.has(d))g=d;else break;r.delete(g),[a,l,c,h,d]=g,f!==a&&(s.push(f,p,a,p===l?l:c),f=a),p=p===l?c:l}s.push(f,p)}return new jI(i,u(this,xh))},cf=function(e){const t=u(this,or);let r=0,i=t.length-1;for(;r<=i;){const s=r+i>>1,o=t[s][0];if(o===e)return s;o<e?r=s+1:i=s-1}return i+1},JS=function([,e,t]){const r=_(this,Qt,cf).call(this,e);u(this,or).splice(r,0,[e,t])},ex=function([,e,t]){const r=_(this,Qt,cf).call(this,e);for(let i=r;i<u(this,or).length;i++){const[s,o]=u(this,or)[i];if(s!==e)break;if(s===e&&o===t){u(this,or).splice(i,1);return}}for(let i=r-1;i>=0;i--){const[s,o]=u(this,or)[i];if(s!==e)break;if(s===e&&o===t){u(this,or).splice(i,1);return}}},ev=function(e){const[t,r,i]=e,s=[[t,r,i]],o=_(this,Qt,cf).call(this,i);for(let a=0;a<o;a++){const[l,c]=u(this,or)[a];for(let h=0,d=s.length;h<d;h++){const[,f,p]=s[h];if(!(c<=f||p<=l)){if(f>=l){if(p>c)s[h][1]=c;else{if(d===1)return[];s.splice(h,1),h--,d--}continue}s[h][2]=l,p>c&&s.push([t,c,p])}}}return s};class tx{toSVGPath(){throw new Error("Abstract method `toSVGPath` must be implemented.")}get box(){throw new Error("Abstract getter `box` must be implemented.")}serialize(e,t){throw new Error("Abstract method `serialize` must be implemented.")}get free(){return this instanceof nv}}var Ch,xl;class jI extends tx{constructor(t,r){super();E(this,Ch);E(this,xl);w(this,xl,t),w(this,Ch,r)}toSVGPath(){const t=[];for(const r of u(this,xl)){let[i,s]=r;t.push(`M${i} ${s}`);for(let o=2;o<r.length;o+=2){const a=r[o],l=r[o+1];a===i?(t.push(`V${l}`),s=l):l===s&&(t.push(`H${a}`),i=a)}t.push("Z")}return t.join(" ")}serialize([t,r,i,s],o){const a=[],l=i-t,c=s-r;for(const h of u(this,xl)){const d=new Array(h.length);for(let f=0;f<h.length;f+=2)d[f]=t+h[f]*l,d[f+1]=s-h[f+1]*c;a.push(d)}return a}get box(){return u(this,Ch)}}Ch=new WeakMap,xl=new WeakMap;var Pr,mi,Cl,Tl,Lr,_e,Po,Lo,Th,kh,kl,Pl,os,Ph,_p,Ep,Lh,tv;const Kr=class Kr{constructor({x:e,y:t},r,i,s,o,a=0){E(this,Lh);E(this,Pr);E(this,mi,[]);E(this,Cl);E(this,Tl);E(this,Lr,[]);E(this,_e,new Float64Array(18));E(this,Po);E(this,Lo);E(this,Th);E(this,kh);E(this,kl);E(this,Pl);E(this,os,[]);w(this,Pr,r),w(this,Pl,s*i),w(this,Tl,o),u(this,_e).set([NaN,NaN,NaN,NaN,e,t],6),w(this,Cl,a),w(this,kh,u(Kr,Ph)*i),w(this,Th,u(Kr,Ep)*i),w(this,kl,i),u(this,os).push(e,t)}get free(){return!0}isEmpty(){return isNaN(u(this,_e)[8])}add({x:e,y:t}){var z;w(this,Po,e),w(this,Lo,t);const[r,i,s,o]=u(this,Pr);let[a,l,c,h]=u(this,_e).subarray(8,12);const d=e-c,f=t-h,p=Math.hypot(d,f);if(p<u(this,Th))return!1;const g=p-u(this,kh),y=g/p,b=y*d,m=y*f;let v=a,A=l;a=c,l=h,c+=b,h+=m,(z=u(this,os))==null||z.push(e,t);const S=-m/g,C=b/g,k=S*u(this,Pl),I=C*u(this,Pl);return u(this,_e).set(u(this,_e).subarray(2,8),0),u(this,_e).set([c+k,h+I],4),u(this,_e).set(u(this,_e).subarray(14,18),12),u(this,_e).set([c-k,h-I],16),isNaN(u(this,_e)[6])?(u(this,Lr).length===0&&(u(this,_e).set([a+k,l+I],2),u(this,Lr).push(NaN,NaN,NaN,NaN,(a+k-r)/s,(l+I-i)/o),u(this,_e).set([a-k,l-I],14),u(this,mi).push(NaN,NaN,NaN,NaN,(a-k-r)/s,(l-I-i)/o)),u(this,_e).set([v,A,a,l,c,h],6),!this.isEmpty()):(u(this,_e).set([v,A,a,l,c,h],6),Math.abs(Math.atan2(A-l,v-a)-Math.atan2(m,b))<Math.PI/2?([a,l,c,h]=u(this,_e).subarray(2,6),u(this,Lr).push(NaN,NaN,NaN,NaN,((a+c)/2-r)/s,((l+h)/2-i)/o),[a,l,v,A]=u(this,_e).subarray(14,18),u(this,mi).push(NaN,NaN,NaN,NaN,((v+a)/2-r)/s,((A+l)/2-i)/o),!0):([v,A,a,l,c,h]=u(this,_e).subarray(0,6),u(this,Lr).push(((v+5*a)/6-r)/s,((A+5*l)/6-i)/o,((5*a+c)/6-r)/s,((5*l+h)/6-i)/o,((a+c)/2-r)/s,((l+h)/2-i)/o),[c,h,a,l,v,A]=u(this,_e).subarray(12,18),u(this,mi).push(((v+5*a)/6-r)/s,((A+5*l)/6-i)/o,((5*a+c)/6-r)/s,((5*l+h)/6-i)/o,((a+c)/2-r)/s,((l+h)/2-i)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const e=u(this,Lr),t=u(this,mi),r=u(this,_e).subarray(4,6),i=u(this,_e).subarray(16,18),[s,o,a,l]=u(this,Pr),[c,h,d,f]=_(this,Lh,tv).call(this);if(isNaN(u(this,_e)[6])&&!this.isEmpty())return`M${(u(this,_e)[2]-s)/a} ${(u(this,_e)[3]-o)/l} L${(u(this,_e)[4]-s)/a} ${(u(this,_e)[5]-o)/l} L${c} ${h} L${d} ${f} L${(u(this,_e)[16]-s)/a} ${(u(this,_e)[17]-o)/l} L${(u(this,_e)[14]-s)/a} ${(u(this,_e)[15]-o)/l} Z`;const p=[];p.push(`M${e[4]} ${e[5]}`);for(let g=6;g<e.length;g+=6)isNaN(e[g])?p.push(`L${e[g+4]} ${e[g+5]}`):p.push(`C${e[g]} ${e[g+1]} ${e[g+2]} ${e[g+3]} ${e[g+4]} ${e[g+5]}`);p.push(`L${(r[0]-s)/a} ${(r[1]-o)/l} L${c} ${h} L${d} ${f} L${(i[0]-s)/a} ${(i[1]-o)/l}`);for(let g=t.length-6;g>=6;g-=6)isNaN(t[g])?p.push(`L${t[g+4]} ${t[g+5]}`):p.push(`C${t[g]} ${t[g+1]} ${t[g+2]} ${t[g+3]} ${t[g+4]} ${t[g+5]}`);return p.push(`L${t[4]} ${t[5]} Z`),p.join(" ")}getOutlines(){var m;const e=u(this,Lr),t=u(this,mi),r=u(this,_e),i=r.subarray(4,6),s=r.subarray(16,18),[o,a,l,c]=u(this,Pr),h=new Float64Array((((m=u(this,os))==null?void 0:m.length)??0)+2);for(let v=0,A=h.length-2;v<A;v+=2)h[v]=(u(this,os)[v]-o)/l,h[v+1]=(u(this,os)[v+1]-a)/c;h[h.length-2]=(u(this,Po)-o)/l,h[h.length-1]=(u(this,Lo)-a)/c;const[d,f,p,g]=_(this,Lh,tv).call(this);if(isNaN(r[6])&&!this.isEmpty()){const v=new Float64Array(36);return v.set([NaN,NaN,NaN,NaN,(r[2]-o)/l,(r[3]-a)/c,NaN,NaN,NaN,NaN,(r[4]-o)/l,(r[5]-a)/c,NaN,NaN,NaN,NaN,d,f,NaN,NaN,NaN,NaN,p,g,NaN,NaN,NaN,NaN,(r[16]-o)/l,(r[17]-a)/c,NaN,NaN,NaN,NaN,(r[14]-o)/l,(r[15]-a)/c],0),new nv(v,h,u(this,Pr),u(this,kl),u(this,Cl),u(this,Tl))}const y=new Float64Array(u(this,Lr).length+24+u(this,mi).length);let b=e.length;for(let v=0;v<b;v+=2){if(isNaN(e[v])){y[v]=y[v+1]=NaN;continue}y[v]=e[v],y[v+1]=e[v+1]}y.set([NaN,NaN,NaN,NaN,(i[0]-o)/l,(i[1]-a)/c,NaN,NaN,NaN,NaN,d,f,NaN,NaN,NaN,NaN,p,g,NaN,NaN,NaN,NaN,(s[0]-o)/l,(s[1]-a)/c],b),b+=24;for(let v=t.length-6;v>=6;v-=6)for(let A=0;A<6;A+=2){if(isNaN(t[v+A])){y[b]=y[b+1]=NaN,b+=2;continue}y[b]=t[v+A],y[b+1]=t[v+A+1],b+=2}return y.set([NaN,NaN,NaN,NaN,t[4],t[5]],b),new nv(y,h,u(this,Pr),u(this,kl),u(this,Cl),u(this,Tl))}};Pr=new WeakMap,mi=new WeakMap,Cl=new WeakMap,Tl=new WeakMap,Lr=new WeakMap,_e=new WeakMap,Po=new WeakMap,Lo=new WeakMap,Th=new WeakMap,kh=new WeakMap,kl=new WeakMap,Pl=new WeakMap,os=new WeakMap,Ph=new WeakMap,_p=new WeakMap,Ep=new WeakMap,Lh=new WeakSet,tv=function(){const e=u(this,_e).subarray(4,6),t=u(this,_e).subarray(16,18),[r,i,s,o]=u(this,Pr);return[(u(this,Po)+(e[0]-t[0])/2-r)/s,(u(this,Lo)+(e[1]-t[1])/2-i)/o,(u(this,Po)+(t[0]-e[0])/2-r)/s,(u(this,Lo)+(t[1]-e[1])/2-i)/o]},E(Kr,Ph,8),E(Kr,_p,2),E(Kr,Ep,u(Kr,Ph)+u(Kr,_p));let Zf=Kr;var Ll,Ro,vi,Rh,En,Ih,et,cn,Lu,Ru,nx;class nv extends tx{constructor(t,r,i,s,o,a){super();E(this,cn);E(this,Ll);E(this,Ro,null);E(this,vi);E(this,Rh);E(this,En);E(this,Ih);E(this,et);w(this,et,t),w(this,En,r),w(this,Ll,i),w(this,Ih,s),w(this,vi,o),w(this,Rh,a),_(this,cn,nx).call(this,a);const{x:l,y:c,width:h,height:d}=u(this,Ro);for(let f=0,p=t.length;f<p;f+=2)t[f]=(t[f]-l)/h,t[f+1]=(t[f+1]-c)/d;for(let f=0,p=r.length;f<p;f+=2)r[f]=(r[f]-l)/h,r[f+1]=(r[f+1]-c)/d}toSVGPath(){const t=[`M${u(this,et)[4]} ${u(this,et)[5]}`];for(let r=6,i=u(this,et).length;r<i;r+=6){if(isNaN(u(this,et)[r])){t.push(`L${u(this,et)[r+4]} ${u(this,et)[r+5]}`);continue}t.push(`C${u(this,et)[r]} ${u(this,et)[r+1]} ${u(this,et)[r+2]} ${u(this,et)[r+3]} ${u(this,et)[r+4]} ${u(this,et)[r+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,r,i,s],o){const a=i-t,l=s-r;let c,h;switch(o){case 0:c=_(this,cn,Lu).call(this,u(this,et),t,s,a,-l),h=_(this,cn,Lu).call(this,u(this,En),t,s,a,-l);break;case 90:c=_(this,cn,Ru).call(this,u(this,et),t,r,a,l),h=_(this,cn,Ru).call(this,u(this,En),t,r,a,l);break;case 180:c=_(this,cn,Lu).call(this,u(this,et),i,r,-a,l),h=_(this,cn,Lu).call(this,u(this,En),i,r,-a,l);break;case 270:c=_(this,cn,Ru).call(this,u(this,et),i,s,-a,-l),h=_(this,cn,Ru).call(this,u(this,En),i,s,-a,-l);break}return{outline:Array.from(c),points:[Array.from(h)]}}get box(){return u(this,Ro)}getNewOutline(t,r){const{x:i,y:s,width:o,height:a}=u(this,Ro),[l,c,h,d]=u(this,Ll),f=o*h,p=a*d,g=i*h+l,y=s*d+c,b=new Zf({x:u(this,En)[0]*f+g,y:u(this,En)[1]*p+y},u(this,Ll),u(this,Ih),t,u(this,Rh),r??u(this,vi));for(let m=2;m<u(this,En).length;m+=2)b.add({x:u(this,En)[m]*f+g,y:u(this,En)[m+1]*p+y});return b.getOutlines()}}Ll=new WeakMap,Ro=new WeakMap,vi=new WeakMap,Rh=new WeakMap,En=new WeakMap,Ih=new WeakMap,et=new WeakMap,cn=new WeakSet,Lu=function(t,r,i,s,o){const a=new Float64Array(t.length);for(let l=0,c=t.length;l<c;l+=2)a[l]=r+t[l]*s,a[l+1]=i+t[l+1]*o;return a},Ru=function(t,r,i,s,o){const a=new Float64Array(t.length);for(let l=0,c=t.length;l<c;l+=2)a[l]=r+t[l+1]*s,a[l+1]=i+t[l]*o;return a},nx=function(t){const r=u(this,et);let i=r[4],s=r[5],o=i,a=s,l=i,c=s,h=i,d=s;const f=t?Math.max:Math.min;for(let m=6,v=r.length;m<v;m+=6){if(isNaN(r[m]))o=Math.min(o,r[m+4]),a=Math.min(a,r[m+5]),l=Math.max(l,r[m+4]),c=Math.max(c,r[m+5]),d<r[m+5]?(h=r[m+4],d=r[m+5]):d===r[m+5]&&(h=f(h,r[m+4]));else{const A=te.bezierBoundingBox(i,s,...r.slice(m,m+6));o=Math.min(o,A[0]),a=Math.min(a,A[1]),l=Math.max(l,A[2]),c=Math.max(c,A[3]),d<A[3]?(h=A[2],d=A[3]):d===A[3]&&(h=f(h,A[2]))}i=r[m+4],s=r[m+5]}const p=o-u(this,vi),g=a-u(this,vi),y=l-o+2*u(this,vi),b=c-a+2*u(this,vi);w(this,Ro,{x:p,y:g,width:y,height:b,lastPoint:[h,d]})};var Mh,Oh,ar,Io,Rl,ut,Dh,Il,Nh,Fh,as,Ml,je,rv,iv,rx,Vs,ix,Hi;const qr=class qr{constructor({editor:e=null,uiManager:t=null}){E(this,je);E(this,Mh,_(this,je,rx).bind(this));E(this,Oh,_(this,je,ix).bind(this));E(this,ar,null);E(this,Io,null);E(this,Rl);E(this,ut,null);E(this,Dh,!1);E(this,Il,!1);E(this,Nh,null);E(this,Fh);E(this,as,null);E(this,Ml);var r;e?(w(this,Il,!1),w(this,Ml,he.HIGHLIGHT_COLOR),w(this,Nh,e)):(w(this,Il,!0),w(this,Ml,he.HIGHLIGHT_DEFAULT_COLOR)),w(this,as,(e==null?void 0:e._uiManager)||t),w(this,Fh,u(this,as)._eventBus),w(this,Rl,(e==null?void 0:e.color)||((r=u(this,as))==null?void 0:r.highlightColors.values().next().value)||"#FFFF98")}static get _keyboardManager(){return Se(this,"_keyboardManager",new td([[["Escape","mac+Escape"],qr.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],qr.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],qr.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],qr.prototype._moveToPrevious],[["Home","mac+Home"],qr.prototype._moveToBeginning],[["End","mac+End"],qr.prototype._moveToEnd]]))}renderButton(){const e=w(this,ar,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0),e.addEventListener("click",_(this,je,Vs).bind(this)),e.addEventListener("keydown",u(this,Mh));const t=w(this,Io,document.createElement("span"));return t.className="swatch",t.setAttribute("aria-hidden",!0),t.style.backgroundColor=u(this,Rl),e.append(t),e}renderMainDropdown(){const e=w(this,ut,_(this,je,rv).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===u(this,ar)){_(this,je,Vs).call(this,e);return}const t=e.target.getAttribute("data-color");t&&_(this,je,iv).call(this,t,e)}_moveToNext(e){var t,r;if(!u(this,je,Hi)){_(this,je,Vs).call(this,e);return}if(e.target===u(this,ar)){(t=u(this,ut).firstChild)==null||t.focus();return}(r=e.target.nextSibling)==null||r.focus()}_moveToPrevious(e){var t,r;if(e.target===((t=u(this,ut))==null?void 0:t.firstChild)||e.target===u(this,ar)){u(this,je,Hi)&&this._hideDropdownFromKeyboard();return}u(this,je,Hi)||_(this,je,Vs).call(this,e),(r=e.target.previousSibling)==null||r.focus()}_moveToBeginning(e){var t;if(!u(this,je,Hi)){_(this,je,Vs).call(this,e);return}(t=u(this,ut).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!u(this,je,Hi)){_(this,je,Vs).call(this,e);return}(t=u(this,ut).lastChild)==null||t.focus()}hideDropdown(){var e;(e=u(this,ut))==null||e.classList.add("hidden"),window.removeEventListener("pointerdown",u(this,Oh))}_hideDropdownFromKeyboard(){var e;if(!u(this,Il)){if(!u(this,je,Hi)){(e=u(this,Nh))==null||e.unselect();return}this.hideDropdown(),u(this,ar).focus({preventScroll:!0,focusVisible:u(this,Dh)})}}updateColor(e){if(u(this,Io)&&(u(this,Io).style.backgroundColor=e),!u(this,ut))return;const t=u(this,as).highlightColors.values();for(const r of u(this,ut).children)r.setAttribute("aria-selected",t.next().value===e)}destroy(){var e,t;(e=u(this,ar))==null||e.remove(),w(this,ar,null),w(this,Io,null),(t=u(this,ut))==null||t.remove(),w(this,ut,null)}};Mh=new WeakMap,Oh=new WeakMap,ar=new WeakMap,Io=new WeakMap,Rl=new WeakMap,ut=new WeakMap,Dh=new WeakMap,Il=new WeakMap,Nh=new WeakMap,Fh=new WeakMap,as=new WeakMap,Ml=new WeakMap,je=new WeakSet,rv=function(){const e=document.createElement("div");e.addEventListener("contextmenu",pn),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[t,r]of u(this,as).highlightColors){const i=document.createElement("button");i.tabIndex="0",i.role="option",i.setAttribute("data-color",r),i.title=t,i.setAttribute("data-l10n-id",`pdfjs-editor-colorpicker-${t}`);const s=document.createElement("span");i.append(s),s.className="swatch",s.style.backgroundColor=r,i.setAttribute("aria-selected",r===u(this,Rl)),i.addEventListener("click",_(this,je,iv).bind(this,r)),e.append(i)}return e.addEventListener("keydown",u(this,Mh)),e},iv=function(e,t){t.stopPropagation(),u(this,Fh).dispatch("switchannotationeditorparams",{source:this,type:u(this,Ml),value:e})},rx=function(e){qr._keyboardManager.exec(this,e)},Vs=function(e){if(u(this,je,Hi)){this.hideDropdown();return}if(w(this,Dh,e.detail===0),window.addEventListener("pointerdown",u(this,Oh)),u(this,ut)){u(this,ut).classList.remove("hidden");return}const t=w(this,ut,_(this,je,rv).call(this));u(this,ar).append(t)},ix=function(e){var t;(t=u(this,ut))!=null&&t.contains(e.target)||this.hideDropdown()},Hi=function(){return u(this,ut)&&!u(this,ut).classList.contains("hidden")};let Jf=qr;var Ol,Bh,ls,Mo,Dl,Bn,jh,zh,Oo,lr,Gt,An,Ap,Nl,Do,ct,Fl,Rr,$h,ye,sv,ov,sx,ox,ax,av,Iu,Vn,Aa,lx,hf,Mu,ux,cx,hx,dx;const Te=class Te extends Re{constructor(t){super({...t,name:"highlightEditor"});E(this,ye);E(this,Ol,null);E(this,Bh,0);E(this,ls);E(this,Mo,null);E(this,Dl,null);E(this,Bn,null);E(this,jh,null);E(this,zh,0);E(this,Oo,null);E(this,lr,null);E(this,Gt,null);E(this,An,!1);E(this,Ap,_(this,ye,lx).bind(this));E(this,Nl,null);E(this,Do);E(this,ct,null);E(this,Fl,"");E(this,Rr);E(this,$h,"");this.color=t.color||Te._defaultColor,w(this,Rr,t.thickness||Te._defaultThickness),w(this,Do,t.opacity||Te._defaultOpacity),w(this,ls,t.boxes||null),w(this,$h,t.methodOfCreation||""),w(this,Fl,t.text||""),this._isDraggable=!1,t.highlightId>-1?(w(this,An,!0),_(this,ye,ov).call(this,t),_(this,ye,Iu).call(this)):(w(this,Ol,t.anchorNode),w(this,Bh,t.anchorOffset),w(this,jh,t.focusNode),w(this,zh,t.focusOffset),_(this,ye,sv).call(this),_(this,ye,Iu).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const t=Te.prototype;return Se(this,"_keyboardManager",new td([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:u(this,An)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:u(this,Rr),methodOfCreation:u(this,$h)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,r){var i;Re.initialize(t,r),Te._defaultColor||(Te._defaultColor=((i=r.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(t,r){switch(t){case he.HIGHLIGHT_DEFAULT_COLOR:Te._defaultColor=r;break;case he.HIGHLIGHT_THICKNESS:Te._defaultThickness=r;break}}translateInPage(t,r){}get toolbarPosition(){return u(this,Nl)}updateParams(t,r){switch(t){case he.HIGHLIGHT_COLOR:_(this,ye,sx).call(this,r);break;case he.HIGHLIGHT_THICKNESS:_(this,ye,ox).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[he.HIGHLIGHT_DEFAULT_COLOR,Te._defaultColor],[he.HIGHLIGHT_THICKNESS,Te._defaultThickness]]}get propertiesToUpdate(){return[[he.HIGHLIGHT_COLOR,this.color||Te._defaultColor],[he.HIGHLIGHT_THICKNESS,u(this,Rr)||Te._defaultThickness],[he.HIGHLIGHT_FREE,u(this,An)]]}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(w(this,Dl,new Jf({editor:this})),t.addColorPicker(u(this,Dl))),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(_(this,ye,Mu).call(this))}getBaseTranslation(){return[0,0]}getRect(t,r){return super.getRect(t,r,_(this,ye,Mu).call(this))}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){_(this,ye,av).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(_(this,ye,Iu).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var i;let r=!1;this.parent&&!t?_(this,ye,av).call(this):t&&(_(this,ye,Iu).call(this,t),r=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),r&&this.select()}rotate(t){var s,o,a;const{drawLayer:r}=this.parent;let i;u(this,An)?(t=(t-this.rotation+360)%360,i=_(s=Te,Vn,Aa).call(s,u(this,lr).box,t)):i=_(o=Te,Vn,Aa).call(o,this,t),r.rotate(u(this,Gt),t),r.rotate(u(this,ct),t),r.updateBox(u(this,Gt),i),r.updateBox(u(this,ct),_(a=Te,Vn,Aa).call(a,u(this,Bn).box,t))}render(){if(this.div)return this.div;const t=super.render();u(this,Fl)&&(t.setAttribute("aria-label",u(this,Fl)),t.setAttribute("role","mark")),u(this,An)?t.classList.add("free"):this.div.addEventListener("keydown",u(this,Ap));const r=w(this,Oo,document.createElement("div"));t.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",r.style.clipPath=u(this,Mo);const[i,s]=this.parentDimensions;return this.setDims(this.width*i,this.height*s),Xf(this,u(this,Oo),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.parent.drawLayer.addClass(u(this,ct),"hovered")}pointerleave(){this.parent.drawLayer.removeClass(u(this,ct),"hovered")}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:_(this,ye,hf).call(this,!0);break;case 1:case 3:_(this,ye,hf).call(this,!1);break}}select(){var t,r;super.select(),u(this,ct)&&((t=this.parent)==null||t.drawLayer.removeClass(u(this,ct),"hovered"),(r=this.parent)==null||r.drawLayer.addClass(u(this,ct),"selected"))}unselect(){var t;super.unselect(),u(this,ct)&&((t=this.parent)==null||t.drawLayer.removeClass(u(this,ct),"selected"),u(this,An)||_(this,ye,hf).call(this,!1))}get _mustFixPosition(){return!u(this,An)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.show(u(this,Gt),t),this.parent.drawLayer.show(u(this,ct),t))}static startHighlighting(t,r,{target:i,x:s,y:o}){const{x:a,y:l,width:c,height:h}=i.getBoundingClientRect(),d=y=>{_(this,Vn,hx).call(this,t,y)},f={capture:!0,passive:!1},p=y=>{y.preventDefault(),y.stopPropagation()},g=y=>{i.removeEventListener("pointermove",d),window.removeEventListener("blur",g),window.removeEventListener("pointerup",g),window.removeEventListener("pointerdown",p,f),window.removeEventListener("contextmenu",pn),_(this,Vn,dx).call(this,t,y)};window.addEventListener("blur",g),window.addEventListener("pointerup",g),window.addEventListener("pointerdown",p,f),window.addEventListener("contextmenu",pn),i.addEventListener("pointermove",d),this._freeHighlight=new Zf({x:s,y:o},[a,l,c,h],t.scale,this._defaultThickness/2,r,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.highlight(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static deserialize(t,r,i){var y;const s=super.deserialize(t,r,i),{rect:[o,a,l,c],color:h,quadPoints:d}=t;s.color=te.makeHexColor(...h),w(s,Do,t.opacity);const[f,p]=s.pageDimensions;s.width=(l-o)/f,s.height=(c-a)/p;const g=w(s,ls,[]);for(let b=0;b<d.length;b+=8)g.push({x:(d[4]-l)/f,y:(c-(1-d[b+5]))/p,width:(d[b+2]-d[b])/f,height:(d[b+5]-d[b+1])/p});return _(y=s,ye,sv).call(y),s}serialize(t=!1){if(this.isEmpty()||t)return null;const r=this.getRect(0,0),i=Re._colorManager.convert(this.color);return{annotationType:be.HIGHLIGHT,color:i,opacity:u(this,Do),thickness:u(this,Rr),quadPoints:_(this,ye,ux).call(this),outlines:_(this,ye,cx).call(this,r),pageIndex:this.pageIndex,rect:r,rotation:_(this,ye,Mu).call(this),structTreeParentId:this._structTreeParentId}}static canCreateNewEmptyEditor(){return!1}};Ol=new WeakMap,Bh=new WeakMap,ls=new WeakMap,Mo=new WeakMap,Dl=new WeakMap,Bn=new WeakMap,jh=new WeakMap,zh=new WeakMap,Oo=new WeakMap,lr=new WeakMap,Gt=new WeakMap,An=new WeakMap,Ap=new WeakMap,Nl=new WeakMap,Do=new WeakMap,ct=new WeakMap,Fl=new WeakMap,Rr=new WeakMap,$h=new WeakMap,ye=new WeakSet,sv=function(){const t=new J0(u(this,ls),.001);w(this,lr,t.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=u(this,lr).box;const r=new J0(u(this,ls),.0025,.001,this._uiManager.direction==="ltr");w(this,Bn,r.getOutlines());const{lastPoint:i}=u(this,Bn).box;w(this,Nl,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height])},ov=function({highlightOutlines:t,highlightId:r,clipPathId:i}){var d,f;if(w(this,lr,t),w(this,Bn,t.getNewOutline(u(this,Rr)/2+1.5,.0025)),r>=0)w(this,Gt,r),w(this,Mo,i),this.parent.drawLayer.finalizeLine(r,t),w(this,ct,this.parent.drawLayer.highlightOutline(u(this,Bn)));else if(this.parent){const p=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(u(this,Gt),t),this.parent.drawLayer.updateBox(u(this,Gt),_(d=Te,Vn,Aa).call(d,u(this,lr).box,(p-this.rotation+360)%360)),this.parent.drawLayer.updateLine(u(this,ct),u(this,Bn)),this.parent.drawLayer.updateBox(u(this,ct),_(f=Te,Vn,Aa).call(f,u(this,Bn).box,p))}const{x:o,y:a,width:l,height:c}=t.box;switch(this.rotation){case 0:this.x=o,this.y=a,this.width=l,this.height=c;break;case 90:{const[p,g]=this.parentDimensions;this.x=a,this.y=1-o,this.width=l*g/p,this.height=c*p/g;break}case 180:this.x=1-o,this.y=1-a,this.width=l,this.height=c;break;case 270:{const[p,g]=this.parentDimensions;this.x=1-a,this.y=o,this.width=l*g/p,this.height=c*p/g;break}}const{lastPoint:h}=u(this,Bn).box;w(this,Nl,[(h[0]-o)/l,(h[1]-a)/c])},sx=function(t){const r=s=>{var o,a;this.color=s,(o=this.parent)==null||o.drawLayer.changeColor(u(this,Gt),s),(a=u(this,Dl))==null||a.updateColor(s)},i=this.color;this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:he.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)},ox=function(t){const r=u(this,Rr),i=s=>{w(this,Rr,s),_(this,ye,ax).call(this,s)};this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:he.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},ax=function(t){if(!u(this,An))return;_(this,ye,ov).call(this,{highlightOutlines:u(this,lr).getNewOutline(t/2)}),this.fixAndSetPosition();const[r,i]=this.parentDimensions;this.setDims(this.width*r,this.height*i)},av=function(){u(this,Gt)===null||!this.parent||(this.parent.drawLayer.remove(u(this,Gt)),w(this,Gt,null),this.parent.drawLayer.remove(u(this,ct)),w(this,ct,null))},Iu=function(t=this.parent){u(this,Gt)===null&&({id:gn(this,Gt)._,clipPathId:gn(this,Mo)._}=t.drawLayer.highlight(u(this,lr),this.color,u(this,Do)),w(this,ct,t.drawLayer.highlightOutline(u(this,Bn))),u(this,Oo)&&(u(this,Oo).style.clipPath=u(this,Mo)))},Vn=new WeakSet,Aa=function({x:t,y:r,width:i,height:s},o){switch(o){case 90:return{x:1-r-s,y:t,width:s,height:i};case 180:return{x:1-t-i,y:1-r-s,width:i,height:s};case 270:return{x:r,y:1-t-i,width:s,height:i}}return{x:t,y:r,width:i,height:s}},lx=function(t){Te._keyboardManager.exec(this,t)},hf=function(t){if(!u(this,Ol))return;const r=window.getSelection();t?r.setPosition(u(this,Ol),u(this,Bh)):r.setPosition(u(this,jh),u(this,zh))},Mu=function(){return u(this,An)?this.rotation:0},ux=function(){if(u(this,An))return null;const[t,r]=this.pageDimensions,i=u(this,ls),s=new Array(i.length*8);let o=0;for(const{x:a,y:l,width:c,height:h}of i){const d=a*t,f=(1-l-h)*r;s[o]=s[o+4]=d,s[o+1]=s[o+3]=f,s[o+2]=s[o+6]=d+c*t,s[o+5]=s[o+7]=f+h*r,o+=8}return s},cx=function(t){return u(this,lr).serialize(t,_(this,ye,Mu).call(this))},hx=function(t,r){this._freeHighlight.add(r)&&t.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},dx=function(t,r){this._freeHighlight.isEmpty()?t.drawLayer.removeFreeHighlight(this._freeHighlightId):t.createAndAddNewEditor(r,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},E(Te,Vn),de(Te,"_defaultColor",null),de(Te,"_defaultOpacity",1),de(Te,"_defaultThickness",12),de(Te,"_l10nPromise"),de(Te,"_type","highlight"),de(Te,"_editorType",be.HIGHLIGHT),de(Te,"_freeHighlightId",-1),de(Te,"_freeHighlight",null),de(Te,"_freeHighlightClipId","");let ep=Te;var No,Fo,Uh,Hh,Vh,Bo,Ir,yi,jn,jo,zo,$o,Uo,Ho,us,Y,fx,px,gx,mx,uv,vx,cv,yx,wx,_x,Ex,Ax,Gs,hv,df,ff,ba,dv,pf,Ni,bx,fv,Sx,xx,pv,gf,Ou;const Ye=class Ye extends Re{constructor(t){super({...t,name:"inkEditor"});E(this,Y);E(this,No,0);E(this,Fo,0);E(this,Uh,this.canvasPointermove.bind(this));E(this,Hh,this.canvasPointerleave.bind(this));E(this,Vh,this.canvasPointerup.bind(this));E(this,Bo,this.canvasPointerdown.bind(this));E(this,Ir,null);E(this,yi,new Path2D);E(this,jn,!1);E(this,jo,!1);E(this,zo,!1);E(this,$o,null);E(this,Uo,0);E(this,Ho,0);E(this,us,null);this.color=t.color||null,this.thickness=t.thickness||null,this.opacity=t.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(t,r){Re.initialize(t,r)}static updateDefaultParams(t,r){switch(t){case he.INK_THICKNESS:Ye._defaultThickness=r;break;case he.INK_COLOR:Ye._defaultColor=r;break;case he.INK_OPACITY:Ye._defaultOpacity=r/100;break}}updateParams(t,r){switch(t){case he.INK_THICKNESS:_(this,Y,fx).call(this,r);break;case he.INK_COLOR:_(this,Y,px).call(this,r);break;case he.INK_OPACITY:_(this,Y,gx).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[he.INK_THICKNESS,Ye._defaultThickness],[he.INK_COLOR,Ye._defaultColor||Re._defaultLineColor],[he.INK_OPACITY,Math.round(Ye._defaultOpacity*100)]]}get propertiesToUpdate(){return[[he.INK_THICKNESS,this.thickness||Ye._defaultThickness],[he.INK_COLOR,this.color||Ye._defaultColor||Re._defaultLineColor],[he.INK_OPACITY,Math.round(100*(this.opacity??Ye._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(_(this,Y,df).call(this),_(this,Y,ff).call(this)),this.isAttachedToDOM||(this.parent.add(this),_(this,Y,ba).call(this)),_(this,Y,Ou).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,u(this,Ir)&&(clearTimeout(u(this,Ir)),w(this,Ir,null)),u(this,$o).disconnect(),w(this,$o,null),super.remove())}setParent(t){!this.parent&&t?this._uiManager.removeShouldRescale(this):this.parent&&t===null&&this._uiManager.addShouldRescale(this),super.setParent(t)}onScaleChanging(){const[t,r]=this.parentDimensions,i=this.width*t,s=this.height*r;this.setDimensions(i,s)}enableEditMode(){u(this,jn)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",u(this,Bo)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",u(this,Bo)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){u(this,jn)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),w(this,jn,!0),this.div.classList.add("disabled"),_(this,Y,Ou).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),this.enableEditMode())}canvasPointerdown(t){t.button!==0||!this.isInEditMode()||u(this,jn)||(this.setInForeground(),t.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),_(this,Y,vx).call(this,t.offsetX,t.offsetY))}canvasPointermove(t){t.preventDefault(),_(this,Y,cv).call(this,t.offsetX,t.offsetY)}canvasPointerup(t){t.preventDefault(),_(this,Y,hv).call(this,t)}canvasPointerleave(t){_(this,Y,hv).call(this,t)}get isResizable(){return!this.isEmpty()&&u(this,jn)}render(){if(this.div)return this.div;let t,r;this.width&&(t=this.x,r=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[i,s,o,a]=_(this,Y,mx).call(this);if(this.setAt(i,s,0,0),this.setDims(o,a),_(this,Y,df).call(this),this.width){const[l,c]=this.parentDimensions;this.setAspectRatio(this.width*l,this.height*c),this.setAt(t*l,r*c,this.width*l,this.height*c),w(this,zo,!0),_(this,Y,ba).call(this),this.setDims(this.width*l,this.height*c),_(this,Y,Gs).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return _(this,Y,ff).call(this),this.div}setDimensions(t,r){const i=Math.round(t),s=Math.round(r);if(u(this,Uo)===i&&u(this,Ho)===s)return;w(this,Uo,i),w(this,Ho,s),this.canvas.style.visibility="hidden";const[o,a]=this.parentDimensions;this.width=t/o,this.height=r/a,this.fixAndSetPosition(),u(this,jn)&&_(this,Y,dv).call(this,t,r),_(this,Y,ba).call(this),_(this,Y,Gs).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(t,r,i){var b,m,v;if(t instanceof VS)return null;const s=super.deserialize(t,r,i);s.thickness=t.thickness,s.color=te.makeHexColor(...t.color),s.opacity=t.opacity;const[o,a]=s.pageDimensions,l=s.width*o,c=s.height*a,h=s.parentScale,d=t.thickness/2;w(s,jn,!0),w(s,Uo,Math.round(l)),w(s,Ho,Math.round(c));const{paths:f,rect:p,rotation:g}=t;for(let{bezier:A}of f){A=_(b=Ye,Ni,Sx).call(b,A,p,g);const S=[];s.paths.push(S);let C=h*(A[0]-d),k=h*(A[1]-d);for(let M=2,z=A.length;M<z;M+=6){const j=h*(A[M]-d),N=h*(A[M+1]-d),X=h*(A[M+2]-d),q=h*(A[M+3]-d),Q=h*(A[M+4]-d),ee=h*(A[M+5]-d);S.push([[C,k],[j,N],[X,q],[Q,ee]]),C=Q,k=ee}const I=_(this,Ni,bx).call(this,S);s.bezierPath2D.push(I)}const y=_(m=s,Y,pv).call(m);return w(s,Fo,Math.max(Re.MIN_SIZE,y[2]-y[0])),w(s,No,Math.max(Re.MIN_SIZE,y[3]-y[1])),_(v=s,Y,dv).call(v,l,c),s}serialize(){if(this.isEmpty())return null;const t=this.getRect(0,0),r=Re._colorManager.convert(this.ctx.strokeStyle);return{annotationType:be.INK,color:r,thickness:this.thickness,opacity:this.opacity,paths:_(this,Y,xx).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,t),pageIndex:this.pageIndex,rect:t,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};No=new WeakMap,Fo=new WeakMap,Uh=new WeakMap,Hh=new WeakMap,Vh=new WeakMap,Bo=new WeakMap,Ir=new WeakMap,yi=new WeakMap,jn=new WeakMap,jo=new WeakMap,zo=new WeakMap,$o=new WeakMap,Uo=new WeakMap,Ho=new WeakMap,us=new WeakMap,Y=new WeakSet,fx=function(t){const r=s=>{this.thickness=s,_(this,Y,Ou).call(this)},i=this.thickness;this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:he.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},px=function(t){const r=s=>{this.color=s,_(this,Y,Gs).call(this)},i=this.color;this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:he.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},gx=function(t){const r=s=>{this.opacity=s,_(this,Y,Gs).call(this)};t/=100;const i=this.opacity;this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:he.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},mx=function(){const{parentRotation:t,parentDimensions:[r,i]}=this;switch(t){case 90:return[0,i,i,r];case 180:return[r,i,r,i];case 270:return[r,0,i,r];default:return[0,0,r,i]}},uv=function(){const{ctx:t,color:r,opacity:i,thickness:s,parentScale:o,scaleFactor:a}=this;t.lineWidth=s*o/a,t.lineCap="round",t.lineJoin="round",t.miterLimit=10,t.strokeStyle=`${r}${uR(i)}`},vx=function(t,r){this.canvas.addEventListener("contextmenu",pn),this.canvas.addEventListener("pointerleave",u(this,Hh)),this.canvas.addEventListener("pointermove",u(this,Uh)),this.canvas.addEventListener("pointerup",u(this,Vh)),this.canvas.removeEventListener("pointerdown",u(this,Bo)),this.isEditing=!0,u(this,zo)||(w(this,zo,!0),_(this,Y,ba).call(this),this.thickness||(this.thickness=Ye._defaultThickness),this.color||(this.color=Ye._defaultColor||Re._defaultLineColor),this.opacity??(this.opacity=Ye._defaultOpacity)),this.currentPath.push([t,r]),w(this,jo,!1),_(this,Y,uv).call(this),w(this,us,()=>{_(this,Y,_x).call(this),u(this,us)&&window.requestAnimationFrame(u(this,us))}),window.requestAnimationFrame(u(this,us))},cv=function(t,r){const[i,s]=this.currentPath.at(-1);if(this.currentPath.length>1&&t===i&&r===s)return;const o=this.currentPath;let a=u(this,yi);if(o.push([t,r]),w(this,jo,!0),o.length<=2){a.moveTo(...o[0]),a.lineTo(t,r);return}o.length===3&&(w(this,yi,a=new Path2D),a.moveTo(...o[0])),_(this,Y,Ex).call(this,a,...o.at(-3),...o.at(-2),t,r)},yx=function(){if(this.currentPath.length===0)return;const t=this.currentPath.at(-1);u(this,yi).lineTo(...t)},wx=function(t,r){w(this,us,null),t=Math.min(Math.max(t,0),this.canvas.width),r=Math.min(Math.max(r,0),this.canvas.height),_(this,Y,cv).call(this,t,r),_(this,Y,yx).call(this);let i;if(this.currentPath.length!==1)i=_(this,Y,Ax).call(this);else{const c=[t,r];i=[[c,c.slice(),c.slice(),c]]}const s=u(this,yi),o=this.currentPath;this.currentPath=[],w(this,yi,new Path2D);const a=()=>{this.allRawPaths.push(o),this.paths.push(i),this.bezierPath2D.push(s),this._uiManager.rebuild(this)},l=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(_(this,Y,df).call(this),_(this,Y,ff).call(this)),_(this,Y,Ou).call(this))};this.addCommands({cmd:a,undo:l,mustExec:!0})},_x=function(){if(!u(this,jo))return;w(this,jo,!1);const t=Math.ceil(this.thickness*this.parentScale),r=this.currentPath.slice(-3),i=r.map(a=>a[0]),s=r.map(a=>a[1]);Math.min(...i)-t,Math.max(...i)+t,Math.min(...s)-t,Math.max(...s)+t;const{ctx:o}=this;o.save(),o.clearRect(0,0,this.canvas.width,this.canvas.height);for(const a of this.bezierPath2D)o.stroke(a);o.stroke(u(this,yi)),o.restore()},Ex=function(t,r,i,s,o,a,l){const c=(r+s)/2,h=(i+o)/2,d=(s+a)/2,f=(o+l)/2;t.bezierCurveTo(c+2*(s-c)/3,h+2*(o-h)/3,d+2*(s-d)/3,f+2*(o-f)/3,d,f)},Ax=function(){const t=this.currentPath;if(t.length<=2)return[[t[0],t[0],t.at(-1),t.at(-1)]];const r=[];let i,[s,o]=t[0];for(i=1;i<t.length-2;i++){const[p,g]=t[i],[y,b]=t[i+1],m=(p+y)/2,v=(g+b)/2,A=[s+2*(p-s)/3,o+2*(g-o)/3],S=[m+2*(p-m)/3,v+2*(g-v)/3];r.push([[s,o],A,S,[m,v]]),[s,o]=[m,v]}const[a,l]=t[i],[c,h]=t[i+1],d=[s+2*(a-s)/3,o+2*(l-o)/3],f=[c+2*(a-c)/3,h+2*(l-h)/3];return r.push([[s,o],d,f,[c,h]]),r},Gs=function(){if(this.isEmpty()){_(this,Y,pf).call(this);return}_(this,Y,uv).call(this);const{canvas:t,ctx:r}=this;r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,t.width,t.height),_(this,Y,pf).call(this);for(const i of this.bezierPath2D)r.stroke(i)},hv=function(t){this.canvas.removeEventListener("pointerleave",u(this,Hh)),this.canvas.removeEventListener("pointermove",u(this,Uh)),this.canvas.removeEventListener("pointerup",u(this,Vh)),this.canvas.addEventListener("pointerdown",u(this,Bo)),u(this,Ir)&&clearTimeout(u(this,Ir)),w(this,Ir,setTimeout(()=>{w(this,Ir,null),this.canvas.removeEventListener("contextmenu",pn)},10)),_(this,Y,wx).call(this,t.offsetX,t.offsetY),this.addToAnnotationStorage(),this.setInBackground()},df=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},ff=function(){w(this,$o,new ResizeObserver(t=>{const r=t[0].contentRect;r.width&&r.height&&this.setDimensions(r.width,r.height)})),u(this,$o).observe(this.div)},ba=function(){if(!u(this,zo))return;const[t,r]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*t),this.canvas.height=Math.ceil(this.height*r),_(this,Y,pf).call(this)},dv=function(t,r){const i=_(this,Y,gf).call(this),s=(t-i)/u(this,Fo),o=(r-i)/u(this,No);this.scaleFactor=Math.min(s,o)},pf=function(){const t=_(this,Y,gf).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+t,this.translationY*this.scaleFactor+t)},Ni=new WeakSet,bx=function(t){const r=new Path2D;for(let i=0,s=t.length;i<s;i++){const[o,a,l,c]=t[i];i===0&&r.moveTo(...o),r.bezierCurveTo(a[0],a[1],l[0],l[1],c[0],c[1])}return r},fv=function(t,r,i){const[s,o,a,l]=r;switch(i){case 0:for(let c=0,h=t.length;c<h;c+=2)t[c]+=s,t[c+1]=l-t[c+1];break;case 90:for(let c=0,h=t.length;c<h;c+=2){const d=t[c];t[c]=t[c+1]+s,t[c+1]=d+o}break;case 180:for(let c=0,h=t.length;c<h;c+=2)t[c]=a-t[c],t[c+1]+=o;break;case 270:for(let c=0,h=t.length;c<h;c+=2){const d=t[c];t[c]=a-t[c+1],t[c+1]=l-d}break;default:throw new Error("Invalid rotation")}return t},Sx=function(t,r,i){const[s,o,a,l]=r;switch(i){case 0:for(let c=0,h=t.length;c<h;c+=2)t[c]-=s,t[c+1]=l-t[c+1];break;case 90:for(let c=0,h=t.length;c<h;c+=2){const d=t[c];t[c]=t[c+1]-o,t[c+1]=d-s}break;case 180:for(let c=0,h=t.length;c<h;c+=2)t[c]=a-t[c],t[c+1]-=o;break;case 270:for(let c=0,h=t.length;c<h;c+=2){const d=t[c];t[c]=l-t[c+1],t[c+1]=a-d}break;default:throw new Error("Invalid rotation")}return t},xx=function(t,r,i,s){var h,d;const o=[],a=this.thickness/2,l=t*r+a,c=t*i+a;for(const f of this.paths){const p=[],g=[];for(let y=0,b=f.length;y<b;y++){const[m,v,A,S]=f[y];if(m[0]===S[0]&&m[1]===S[1]&&b===1){const q=t*m[0]+l,Q=t*m[1]+c;p.push(q,Q),g.push(q,Q);break}const C=t*m[0]+l,k=t*m[1]+c,I=t*v[0]+l,M=t*v[1]+c,z=t*A[0]+l,j=t*A[1]+c,N=t*S[0]+l,X=t*S[1]+c;y===0&&(p.push(C,k),g.push(C,k)),p.push(I,M,z,j,N,X),g.push(I,M),y===b-1&&g.push(N,X)}o.push({bezier:_(h=Ye,Ni,fv).call(h,p,s,this.rotation),points:_(d=Ye,Ni,fv).call(d,g,s,this.rotation)})}return o},pv=function(){let t=1/0,r=-1/0,i=1/0,s=-1/0;for(const o of this.paths)for(const[a,l,c,h]of o){const d=te.bezierBoundingBox(...a,...l,...c,...h);t=Math.min(t,d[0]),i=Math.min(i,d[1]),r=Math.max(r,d[2]),s=Math.max(s,d[3])}return[t,i,r,s]},gf=function(){return u(this,jn)?Math.ceil(this.thickness*this.parentScale):0},Ou=function(t=!1){if(this.isEmpty())return;if(!u(this,jn)){_(this,Y,Gs).call(this);return}const r=_(this,Y,pv).call(this),i=_(this,Y,gf).call(this);w(this,Fo,Math.max(Re.MIN_SIZE,r[2]-r[0])),w(this,No,Math.max(Re.MIN_SIZE,r[3]-r[1]));const s=Math.ceil(i+u(this,Fo)*this.scaleFactor),o=Math.ceil(i+u(this,No)*this.scaleFactor),[a,l]=this.parentDimensions;this.width=s/a,this.height=o/l,this.setAspectRatio(s,o);const c=this.translationX,h=this.translationY;this.translationX=-r[0],this.translationY=-r[1],_(this,Y,ba).call(this),_(this,Y,Gs).call(this),w(this,Uo,s),w(this,Ho,o),this.setDims(s,o);const d=t?i/this.scaleFactor/2:0;this.translate(c-this.translationX-d,h-this.translationY-d)},E(Ye,Ni),de(Ye,"_defaultColor",null),de(Ye,"_defaultOpacity",1),de(Ye,"_defaultThickness",1),de(Ye,"_type","ink"),de(Ye,"_editorType",be.INK);let lv=Ye;var Tt,kt,cs,wi,hs,Bl,Mr,Vo,Or,ur,Gh,Ce,Du,Nu,mf,mv,Cx,Tx,vv,vf,kx;const qu=class qu extends Re{constructor(t){super({...t,name:"stampEditor"});E(this,Ce);E(this,Tt,null);E(this,kt,null);E(this,cs,null);E(this,wi,null);E(this,hs,null);E(this,Bl,"");E(this,Mr,null);E(this,Vo,null);E(this,Or,null);E(this,ur,!1);E(this,Gh,!1);w(this,wi,t.bitmapUrl),w(this,hs,t.bitmapFile)}static initialize(t,r){Re.initialize(t,r)}static get supportedTypes(){return Se(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(r=>`image/${r}`))}static get supportedTypesStr(){return Se(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}static paste(t,r){r.pasteEditor(be.STAMP,{bitmapFile:t.getAsFile()})}remove(){var t,r;u(this,kt)&&(w(this,Tt,null),this._uiManager.imageManager.deleteId(u(this,kt)),(t=u(this,Mr))==null||t.remove(),w(this,Mr,null),(r=u(this,Vo))==null||r.disconnect(),w(this,Vo,null),u(this,Or)&&(clearTimeout(u(this,Or)),w(this,Or,null))),super.remove()}rebuild(){if(!this.parent){u(this,kt)&&_(this,Ce,mf).call(this);return}super.rebuild(),this.div!==null&&(u(this,kt)&&u(this,Mr)===null&&_(this,Ce,mf).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(u(this,cs)||u(this,Tt)||u(this,wi)||u(this,hs)||u(this,kt))}get isResizable(){return!0}render(){if(this.div)return this.div;let t,r;if(this.width&&(t=this.x,r=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),u(this,Tt)?_(this,Ce,mv).call(this):_(this,Ce,mf).call(this),this.width){const[i,s]=this.parentDimensions;this.setAt(t*i,r*s,this.width*i,this.height*s)}return this.div}getImageForAltText(){return u(this,Mr)}static deserialize(t,r,i){if(t instanceof GS)return null;const s=super.deserialize(t,r,i),{rect:o,bitmapUrl:a,bitmapId:l,isSvg:c,accessibilityData:h}=t;l&&i.imageManager.isValidId(l)?w(s,kt,l):w(s,wi,a),w(s,ur,c);const[d,f]=s.pageDimensions;return s.width=(o[2]-o[0])/d,s.height=(o[3]-o[1])/f,h&&(s.altTextData=h),s}serialize(t=!1,r=null){if(this.isEmpty())return null;const i={annotationType:be.STAMP,bitmapId:u(this,kt),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:u(this,ur),structTreeParentId:this._structTreeParentId};if(t)return i.bitmapUrl=_(this,Ce,vf).call(this,!0),i.accessibilityData=this.altTextData,i;const{decorative:s,altText:o}=this.altTextData;if(!s&&o&&(i.accessibilityData={type:"Figure",alt:o}),r===null)return i;r.stamps||(r.stamps=new Map);const a=u(this,ur)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!r.stamps.has(u(this,kt)))r.stamps.set(u(this,kt),{area:a,serialized:i}),i.bitmap=_(this,Ce,vf).call(this,!1);else if(u(this,ur)){const l=r.stamps.get(u(this,kt));a>l.area&&(l.area=a,l.serialized.bitmap.close(),l.serialized.bitmap=_(this,Ce,vf).call(this,!1))}return i}};Tt=new WeakMap,kt=new WeakMap,cs=new WeakMap,wi=new WeakMap,hs=new WeakMap,Bl=new WeakMap,Mr=new WeakMap,Vo=new WeakMap,Or=new WeakMap,ur=new WeakMap,Gh=new WeakMap,Ce=new WeakSet,Du=function(t,r=!1){if(!t){this.remove();return}w(this,Tt,t.bitmap),r||(w(this,kt,t.id),w(this,ur,t.isSvg)),t.file&&w(this,Bl,t.file.name),_(this,Ce,mv).call(this)},Nu=function(){w(this,cs,null),this._uiManager.enableWaiting(!1),u(this,Mr)&&this.div.focus()},mf=function(){if(u(this,kt)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(u(this,kt)).then(r=>_(this,Ce,Du).call(this,r,!0)).finally(()=>_(this,Ce,Nu).call(this));return}if(u(this,wi)){const r=u(this,wi);w(this,wi,null),this._uiManager.enableWaiting(!0),w(this,cs,this._uiManager.imageManager.getFromUrl(r).then(i=>_(this,Ce,Du).call(this,i)).finally(()=>_(this,Ce,Nu).call(this)));return}if(u(this,hs)){const r=u(this,hs);w(this,hs,null),this._uiManager.enableWaiting(!0),w(this,cs,this._uiManager.imageManager.getFromFile(r).then(i=>_(this,Ce,Du).call(this,i)).finally(()=>_(this,Ce,Nu).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=qu.supportedTypesStr,w(this,cs,new Promise(r=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const i=await this._uiManager.imageManager.getFromFile(t.files[0]);_(this,Ce,Du).call(this,i)}r()}),t.addEventListener("cancel",()=>{this.remove(),r()})}).finally(()=>_(this,Ce,Nu).call(this))),t.click()},mv=function(){const{div:t}=this;let{width:r,height:i}=u(this,Tt);const[s,o]=this.pageDimensions,a=.75;if(this.width)r=this.width*s,i=this.height*o;else if(r>a*s||i>a*o){const d=Math.min(a*s/r,a*o/i);r*=d,i*=d}const[l,c]=this.parentDimensions;this.setDims(r*l/s,i*c/o),this._uiManager.enableWaiting(!1);const h=w(this,Mr,document.createElement("canvas"));t.append(h),t.hidden=!1,_(this,Ce,vv).call(this,r,i),_(this,Ce,kx).call(this),u(this,Gh)||(this.parent.addUndoableEditor(this),w(this,Gh,!0)),this._reportTelemetry({action:"inserted_image"}),u(this,Bl)&&h.setAttribute("aria-label",u(this,Bl))},Cx=function(t,r){var a;const[i,s]=this.parentDimensions;this.width=t/i,this.height=r/s,this.setDims(t,r),(a=this._initialOptions)!=null&&a.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,u(this,Or)!==null&&clearTimeout(u(this,Or)),w(this,Or,setTimeout(()=>{w(this,Or,null),_(this,Ce,vv).call(this,t,r)},200))},Tx=function(t,r){const{width:i,height:s}=u(this,Tt);let o=i,a=s,l=u(this,Tt);for(;o>2*t||a>2*r;){const c=o,h=a;o>2*t&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),a>2*r&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));const d=new OffscreenCanvas(o,a);d.getContext("2d").drawImage(l,0,0,c,h,0,0,o,a),l=d.transferToImageBitmap()}return l},vv=function(t,r){t=Math.ceil(t),r=Math.ceil(r);const i=u(this,Mr);if(!i||i.width===t&&i.height===r)return;i.width=t,i.height=r;const s=u(this,ur)?u(this,Tt):_(this,Ce,Tx).call(this,t,r);if(this._uiManager.hasMLManager&&!this.hasAltText()){const l=new OffscreenCanvas(t,r).getContext("2d");l.drawImage(s,0,0,s.width,s.height,0,0,t,r),this._uiManager.mlGuess({service:"image-to-text",request:{data:l.getImageData(0,0,t,r).data,width:t,height:r,channels:4}}).then(c=>{const h=(c==null?void 0:c.output)||"";this.parent&&h&&!this.hasAltText()&&(this.altTextData={altText:h,decorative:!1})})}const o=i.getContext("2d");o.filter=this._uiManager.hcmFilter,o.drawImage(s,0,0,s.width,s.height,0,0,t,r)},vf=function(t){if(t){if(u(this,ur)){const s=this._uiManager.imageManager.getSvgUrl(u(this,kt));if(s)return s}const r=document.createElement("canvas");return{width:r.width,height:r.height}=u(this,Tt),r.getContext("2d").drawImage(u(this,Tt),0,0),r.toDataURL()}if(u(this,ur)){const[r,i]=this.pageDimensions,s=Math.round(this.width*r*Ls.PDF_TO_CSS_UNITS),o=Math.round(this.height*i*Ls.PDF_TO_CSS_UNITS),a=new OffscreenCanvas(s,o);return a.getContext("2d").drawImage(u(this,Tt),0,0,u(this,Tt).width,u(this,Tt).height,0,0,s,o),a.transferToImageBitmap()}return structuredClone(u(this,Tt))},kx=function(){w(this,Vo,new ResizeObserver(t=>{const r=t[0].contentRect;r.width&&r.height&&_(this,Ce,Cx).call(this,r.width,r.height)})),u(this,Vo).observe(this.div)},de(qu,"_type","stamp"),de(qu,"_editorType",be.STAMP);let gv=qu;var Go,jl,Dr,Wo,_i,Ei,Ai,bn,ds,zl,$l,Wt,oe,fs,Rt,Px,wv,_v,Ev,yf;const qn=class qn{constructor({uiManager:e,pageIndex:t,div:r,accessibilityManager:i,annotationLayer:s,drawLayer:o,textLayer:a,viewport:l,l10n:c}){E(this,Rt);E(this,Go);E(this,jl,!1);E(this,Dr,null);E(this,Wo,null);E(this,_i,null);E(this,Ei,null);E(this,Ai,null);E(this,bn,new Map);E(this,ds,!1);E(this,zl,!1);E(this,$l,!1);E(this,Wt,null);E(this,oe);const h=[...u(qn,fs).values()];if(!qn._initialized){qn._initialized=!0;for(const d of h)d.initialize(c,e)}e.registerEditorTypes(h),w(this,oe,e),this.pageIndex=t,this.div=r,w(this,Go,i),w(this,Dr,s),this.viewport=l,w(this,Wt,a),this.drawLayer=o,u(this,oe).addLayer(this)}get isEmpty(){return u(this,bn).size===0}get isInvisible(){return this.isEmpty&&u(this,oe).getMode()===be.NONE}updateToolbar(e){u(this,oe).updateToolbar(e)}updateMode(e=u(this,oe).getMode()){switch(_(this,Rt,yf).call(this),e){case be.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case be.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case be.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const r of u(qn,fs).values())t.toggle(`${r._type}Editing`,e===r._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=u(this,Wt))==null?void 0:t.div)}addInkEditorIfNeeded(e){if(u(this,oe).getMode()!==be.INK)return;if(!e){for(const r of u(this,bn).values())if(r.isEmpty()){r.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){u(this,oe).setEditingState(e)}addCommands(e){u(this,oe).addCommands(e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=u(this,Dr))==null||t.div.classList.toggle("disabled",!e)}enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const r of u(this,bn).values())r.enableEditing(),r.show(!0),r.annotationElementId&&(u(this,oe).removeChangedExistingAnnotation(r),e.add(r.annotationElementId));if(!u(this,Dr))return;const t=u(this,Dr).getEditableAnnotations();for(const r of t){if(r.hide(),u(this,oe).isDeletedAnnotationElement(r.data.id)||e.has(r.data.id))continue;const i=this.deserialize(r);i&&(this.addOrRebuild(i),i.enableEditing())}}disable(){var i;w(this,$l,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,t=new Map;for(const s of u(this,bn).values())if(s.disableEditing(),!!s.annotationElementId){if(s.serialize()!==null){e.set(s.annotationElementId,s);continue}else t.set(s.annotationElementId,s);(i=this.getEditableAnnotation(s.annotationElementId))==null||i.show(),s.remove()}if(u(this,Dr)){const s=u(this,Dr).getEditableAnnotations();for(const o of s){const{id:a}=o.data;if(u(this,oe).isDeletedAnnotationElement(a))continue;let l=t.get(a);if(l){l.resetAnnotationElement(o),l.show(!1),o.show();continue}l=e.get(a),l&&(u(this,oe).addChangedExistingAnnotation(l),l.renderAnnotationElement(o),l.show(!1)),o.show()}}_(this,Rt,yf).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:r}=this.div;for(const s of u(qn,fs).values())r.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),w(this,$l,!1)}getEditableAnnotation(e){var t;return((t=u(this,Dr))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){u(this,oe).getActive()!==e&&u(this,oe).setActiveEditor(e)}enableTextSelection(){var e;this.div.tabIndex=-1,(e=u(this,Wt))!=null&&e.div&&!u(this,Ei)&&(w(this,Ei,_(this,Rt,Px).bind(this)),u(this,Wt).div.addEventListener("pointerdown",u(this,Ei)),u(this,Wt).div.classList.add("highlighting"))}disableTextSelection(){var e;this.div.tabIndex=0,(e=u(this,Wt))!=null&&e.div&&u(this,Ei)&&(u(this,Wt).div.removeEventListener("pointerdown",u(this,Ei)),w(this,Ei,null),u(this,Wt).div.classList.remove("highlighting"))}enableClick(){u(this,_i)||(w(this,_i,this.pointerdown.bind(this)),w(this,Wo,this.pointerup.bind(this)),this.div.addEventListener("pointerdown",u(this,_i)),this.div.addEventListener("pointerup",u(this,Wo)))}disableClick(){u(this,_i)&&(this.div.removeEventListener("pointerdown",u(this,_i)),this.div.removeEventListener("pointerup",u(this,Wo)),w(this,_i,null),w(this,Wo,null))}attach(e){u(this,bn).set(e.id,e);const{annotationElementId:t}=e;t&&u(this,oe).isDeletedAnnotationElement(t)&&u(this,oe).removeDeletedAnnotationElement(e)}detach(e){var t;u(this,bn).delete(e.id),(t=u(this,Go))==null||t.removePointerInTextLayer(e.contentDiv),!u(this,$l)&&e.annotationElementId&&u(this,oe).addDeletedAnnotationElement(e)}remove(e){this.detach(e),u(this,oe).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,u(this,zl)||this.addInkEditorIfNeeded(!1)}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(u(this,oe).addDeletedAnnotationElement(e.annotationElementId),Re.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),u(this,oe).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),u(this,oe).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var r;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!u(this,Ai)&&(e._focusEventsAllowed=!1,w(this,Ai,setTimeout(()=>{w(this,Ai,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0}),t.focus())},0))),e._structTreeParentId=(r=u(this,Go))==null?void 0:r.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),r=()=>{e.remove()};this.addCommands({cmd:t,undo:r,mustExec:!1})}getNextId(){return u(this,oe).getId()}canCreateNewEmptyEditor(){var e;return(e=u(this,Rt,wv))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,t){u(this,oe).updateToolbar(e),u(this,oe).updateMode(e);const{offsetX:r,offsetY:i}=_(this,Rt,Ev).call(this),s=this.getNextId(),o=_(this,Rt,_v).call(this,{parent:this,id:s,x:r,y:i,uiManager:u(this,oe),isCentered:!0,...t});o&&this.add(o)}deserialize(e){var t;return((t=u(qn,fs).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,u(this,oe)))||null}createAndAddNewEditor(e,t,r={}){const i=this.getNextId(),s=_(this,Rt,_v).call(this,{parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:u(this,oe),isCentered:t,...r});return s&&this.add(s),s}addNewEditor(){this.createAndAddNewEditor(_(this,Rt,Ev).call(this),!0)}setSelected(e){u(this,oe).setSelected(e)}toggleSelected(e){u(this,oe).toggleSelected(e)}isSelected(e){return u(this,oe).isSelected(e)}unselect(e){u(this,oe).unselect(e)}pointerup(e){const{isMac:t}=un.platform;if(!(e.button!==0||e.ctrlKey&&t)&&e.target===this.div&&u(this,ds)){if(w(this,ds,!1),!u(this,jl)){w(this,jl,!0);return}if(u(this,oe).getMode()===be.STAMP){u(this,oe).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(u(this,oe).getMode()===be.HIGHLIGHT&&this.enableTextSelection(),u(this,ds)){w(this,ds,!1);return}const{isMac:t}=un.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;w(this,ds,!0);const r=u(this,oe).getActive();w(this,jl,!r||r.isEmpty())}findNewParent(e,t,r){const i=u(this,oe).findParent(t,r);return i===null||i===this?!1:(i.changeParent(e),!0)}destroy(){var e,t;((e=u(this,oe).getActive())==null?void 0:e.parent)===this&&(u(this,oe).commitOrRemove(),u(this,oe).setActiveEditor(null)),u(this,Ai)&&(clearTimeout(u(this,Ai)),w(this,Ai,null));for(const r of u(this,bn).values())(t=u(this,Go))==null||t.removePointerInTextLayer(r.contentDiv),r.setParent(null),r.isAttachedToDOM=!1,r.div.remove();this.div=null,u(this,bn).clear(),u(this,oe).removeLayer(this)}render({viewport:e}){this.viewport=e,na(this.div,e);for(const t of u(this,oe).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){u(this,oe).commitOrRemove(),_(this,Rt,yf).call(this);const t=this.viewport.rotation,r=e.rotation;if(this.viewport=e,na(this.div,{rotation:r}),t!==r)for(const i of u(this,bn).values())i.rotate(r);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return u(this,oe).viewParameters.realScale}};Go=new WeakMap,jl=new WeakMap,Dr=new WeakMap,Wo=new WeakMap,_i=new WeakMap,Ei=new WeakMap,Ai=new WeakMap,bn=new WeakMap,ds=new WeakMap,zl=new WeakMap,$l=new WeakMap,Wt=new WeakMap,oe=new WeakMap,fs=new WeakMap,Rt=new WeakSet,Px=function(e){if(u(this,oe).unselectAll(),e.target===u(this,Wt).div){const{isMac:t}=un.platform;if(e.button!==0||e.ctrlKey&&t)return;u(this,oe).showAllEditors("highlight",!0,!0),u(this,Wt).div.classList.add("free"),ep.startHighlighting(this,u(this,oe).direction==="ltr",e),u(this,Wt).div.addEventListener("pointerup",()=>{u(this,Wt).div.classList.remove("free")},{once:!0}),e.preventDefault()}},wv=function(){return u(qn,fs).get(u(this,oe).getMode())},_v=function(e){const t=u(this,Rt,wv);return t?new t.prototype.constructor(e):null},Ev=function(){const{x:e,y:t,width:r,height:i}=this.div.getBoundingClientRect(),s=Math.max(0,e),o=Math.max(0,t),a=Math.min(window.innerWidth,e+r),l=Math.min(window.innerHeight,t+i),c=(s+a)/2-e,h=(o+l)/2-t,[d,f]=this.viewport.rotation%180===0?[c,h]:[h,c];return{offsetX:d,offsetY:f}},yf=function(){w(this,zl,!0);for(const e of u(this,bn).values())e.isEmpty()&&e.remove();w(this,zl,!1)},de(qn,"_initialized",!1),E(qn,fs,new Map([Q0,lv,gv,ep].map(e=>[e._editorType,e])));let yv=qn;var Nr,Wh,ht,ps,Yh,bv,aa,Sv,Lx;const At=class At{constructor({pageIndex:e}){E(this,aa);E(this,Nr,null);E(this,Wh,0);E(this,ht,new Map);E(this,ps,new Map);this.pageIndex=e}setParent(e){if(!u(this,Nr)){w(this,Nr,e);return}if(u(this,Nr)!==e){if(u(this,ht).size>0)for(const t of u(this,ht).values())t.remove(),e.append(t);w(this,Nr,e)}}static get _svgFactory(){return Se(this,"_svgFactory",new By)}highlight(e,t,r,i=!1){const s=gn(this,Wh)._++,o=_(this,aa,Sv).call(this,e.box);o.classList.add("highlight"),e.free&&o.classList.add("free");const a=At._svgFactory.createElement("defs");o.append(a);const l=At._svgFactory.createElement("path");a.append(l);const c=`path_p${this.pageIndex}_${s}`;l.setAttribute("id",c),l.setAttribute("d",e.toSVGPath()),i&&u(this,ps).set(s,l);const h=_(this,aa,Lx).call(this,a,c),d=At._svgFactory.createElement("use");return o.append(d),o.setAttribute("fill",t),o.setAttribute("fill-opacity",r),d.setAttribute("href",`#${c}`),u(this,ht).set(s,o),{id:s,clipPathId:`url(#${h})`}}highlightOutline(e){const t=gn(this,Wh)._++,r=_(this,aa,Sv).call(this,e.box);r.classList.add("highlightOutline");const i=At._svgFactory.createElement("defs");r.append(i);const s=At._svgFactory.createElement("path");i.append(s);const o=`path_p${this.pageIndex}_${t}`;s.setAttribute("id",o),s.setAttribute("d",e.toSVGPath()),s.setAttribute("vector-effect","non-scaling-stroke");let a;if(e.free){r.classList.add("free");const h=At._svgFactory.createElement("mask");i.append(h),a=`mask_p${this.pageIndex}_${t}`,h.setAttribute("id",a),h.setAttribute("maskUnits","objectBoundingBox");const d=At._svgFactory.createElement("rect");h.append(d),d.setAttribute("width","1"),d.setAttribute("height","1"),d.setAttribute("fill","white");const f=At._svgFactory.createElement("use");h.append(f),f.setAttribute("href",`#${o}`),f.setAttribute("stroke","none"),f.setAttribute("fill","black"),f.setAttribute("fill-rule","nonzero"),f.classList.add("mask")}const l=At._svgFactory.createElement("use");r.append(l),l.setAttribute("href",`#${o}`),a&&l.setAttribute("mask",`url(#${a})`);const c=l.cloneNode();return r.append(c),l.classList.add("mainOutline"),c.classList.add("secondaryOutline"),u(this,ht).set(t,r),t}finalizeLine(e,t){const r=u(this,ps).get(e);u(this,ps).delete(e),this.updateBox(e,t.box),r.setAttribute("d",t.toSVGPath())}updateLine(e,t){u(this,ht).get(e).firstChild.firstChild.setAttribute("d",t.toSVGPath())}removeFreeHighlight(e){this.remove(e),u(this,ps).delete(e)}updatePath(e,t){u(this,ps).get(e).setAttribute("d",t.toSVGPath())}updateBox(e,t){var r;_(r=At,Yh,bv).call(r,u(this,ht).get(e),t)}show(e,t){u(this,ht).get(e).classList.toggle("hidden",!t)}rotate(e,t){u(this,ht).get(e).setAttribute("data-main-rotation",t)}changeColor(e,t){u(this,ht).get(e).setAttribute("fill",t)}changeOpacity(e,t){u(this,ht).get(e).setAttribute("fill-opacity",t)}addClass(e,t){u(this,ht).get(e).classList.add(t)}removeClass(e,t){u(this,ht).get(e).classList.remove(t)}remove(e){u(this,Nr)!==null&&(u(this,ht).get(e).remove(),u(this,ht).delete(e))}destroy(){w(this,Nr,null);for(const e of u(this,ht).values())e.remove();u(this,ht).clear()}};Nr=new WeakMap,Wh=new WeakMap,ht=new WeakMap,ps=new WeakMap,Yh=new WeakSet,bv=function(e,{x:t=0,y:r=0,width:i=1,height:s=1}={}){const{style:o}=e;o.top=`${100*r}%`,o.left=`${100*t}%`,o.width=`${100*i}%`,o.height=`${100*s}%`},aa=new WeakSet,Sv=function(e){var r;const t=At._svgFactory.create(1,1,!0);return u(this,Nr).append(t),t.setAttribute("aria-hidden",!0),_(r=At,Yh,bv).call(r,t,e),t},Lx=function(e,t){const r=At._svgFactory.createElement("clipPath");e.append(r);const i=`clip_${t}`;r.setAttribute("id",i),r.setAttribute("clipPathUnits","objectBoundingBox");const s=At._svgFactory.createElement("use");return r.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),i},E(At,Yh);let Av=At;var zI=ue.AbortException,$I=ue.AnnotationEditorLayer,UI=ue.AnnotationEditorParamsType,HI=ue.AnnotationEditorType,VI=ue.AnnotationEditorUIManager,Rx=ue.AnnotationLayer,Ix=ue.AnnotationMode,GI=ue.CMapCompressionType,WI=ue.ColorPicker,YI=ue.DOMSVGFactory,XI=ue.DrawLayer,KI=ue.FeatureTest,Wy=ue.GlobalWorkerOptions,qI=ue.ImageKind,QI=ue.InvalidPDFException,ZI=ue.MissingPDFException,JI=ue.OPS,e2=ue.Outliner,t2=ue.PDFDataRangeTransport,n2=ue.PDFDateString,r2=ue.PDFWorker,i2=ue.PasswordResponses,s2=ue.PermissionFlag,o2=ue.PixelsPerInch,a2=ue.RenderingCancelledException,Mx=ue.TextLayer,l2=ue.UnexpectedResponseException,u2=ue.Util,c2=ue.VerbosityLevel,h2=ue.XfaLayer,d2=ue.build,f2=ue.createValidAbsoluteUrl,p2=ue.fetchData,Ox=ue.getDocument,g2=ue.getFilenameFromUrl,m2=ue.getPdfFilenameFromUrl,v2=ue.getXfaPageViewport,y2=ue.isDataScheme,w2=ue.isPdfFile,_2=ue.noContextMenu,E2=ue.normalizeUnicode,A2=ue.renderTextLayer,b2=ue.setLayerDimensions,S2=ue.shadow,x2=ue.updateTextLayer,C2=ue.version;const T2=Object.freeze(Object.defineProperty({__proto__:null,AbortException:zI,AnnotationEditorLayer:$I,AnnotationEditorParamsType:UI,AnnotationEditorType:HI,AnnotationEditorUIManager:VI,AnnotationLayer:Rx,AnnotationMode:Ix,CMapCompressionType:GI,ColorPicker:WI,DOMSVGFactory:YI,DrawLayer:XI,FeatureTest:KI,GlobalWorkerOptions:Wy,ImageKind:qI,InvalidPDFException:QI,MissingPDFException:ZI,OPS:JI,Outliner:e2,PDFDataRangeTransport:t2,PDFDateString:n2,PDFWorker:r2,PasswordResponses:i2,PermissionFlag:s2,PixelsPerInch:o2,RenderingCancelledException:a2,TextLayer:Mx,UnexpectedResponseException:l2,Util:u2,VerbosityLevel:c2,XfaLayer:h2,build:d2,createValidAbsoluteUrl:f2,fetchData:p2,getDocument:Ox,getFilenameFromUrl:g2,getPdfFilenameFromUrl:m2,getXfaPageViewport:v2,isDataScheme:y2,isPdfFile:w2,noContextMenu:_2,normalizeUnicode:E2,renderTextLayer:A2,setLayerDimensions:b2,shadow:S2,updateTextLayer:x2,version:C2},Symbol.toStringTag,{value:"Module"}));var gt=function(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))},k2=["onCopy","onCut","onPaste"],P2=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],L2=["onFocus","onBlur"],R2=["onInput","onInvalid","onReset","onSubmit"],I2=["onLoad","onError"],M2=["onKeyDown","onKeyPress","onKeyUp"],O2=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],D2=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],N2=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],F2=["onSelect"],B2=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],j2=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],z2=["onScroll"],$2=["onWheel"],U2=["onAnimationStart","onAnimationEnd","onAnimationIteration"],H2=["onTransitionEnd"],V2=["onToggle"],G2=["onChange"],W2=gt(gt(gt(gt(gt(gt(gt(gt(gt(gt(gt(gt(gt(gt(gt(gt(gt(gt([],k2,!0),P2,!0),L2,!0),R2,!0),I2,!0),M2,!0),O2,!0),D2,!0),N2,!0),F2,!0),B2,!0),j2,!0),z2,!0),$2,!0),U2,!0),H2,!0),G2,!0),V2,!0);function Dx(n,e){var t={};return W2.forEach(function(r){var i=n[r];i&&(e?t[r]=function(s){return i(s,e(r))}:t[r]=i)}),t}function id(n){var e=!1,t=new Promise(function(r,i){n.then(function(s){return!e&&r(s)}).catch(function(s){return!e&&i(s)})});return{promise:t,cancel:function(){e=!0}}}function Nx(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=Nx(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function fg(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=Nx(n))&&(r&&(r+=" "),r+=e);return r}var Y2=!0,im="Invariant failed";function Be(n,e){if(!n){if(Y2)throw new Error(im);var t=typeof e=="function"?e():e,r=t?"".concat(im,": ").concat(t):im;throw new Error(r)}}var X2=function(){},K2=X2;const zt=bp(K2);var d_=Object.prototype.hasOwnProperty;function f_(n,e,t){for(t of n.keys())if(Ya(t,e))return t}function Ya(n,e){var t,r,i;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((r=n.length)===e.length)for(;r--&&Ya(n[r],e[r]););return r===-1}if(t===Set){if(n.size!==e.size)return!1;for(r of n)if(i=r,i&&typeof i=="object"&&(i=f_(e,i),!i)||!e.has(i))return!1;return!0}if(t===Map){if(n.size!==e.size)return!1;for(r of n)if(i=r[0],i&&typeof i=="object"&&(i=f_(e,i),!i)||!Ya(r[1],e.get(i)))return!1;return!0}if(t===ArrayBuffer)n=new Uint8Array(n),e=new Uint8Array(e);else if(t===DataView){if((r=n.byteLength)===e.byteLength)for(;r--&&n.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(n)){if((r=n.byteLength)===e.byteLength)for(;r--&&n[r]===e[r];);return r===-1}if(!t||typeof n=="object"){r=0;for(t in n)if(d_.call(n,t)&&++r&&!d_.call(e,t)||!(t in e)||!Ya(n[t],e[t]))return!1;return Object.keys(e).length===r}}return n!==n&&e!==e}const Fx=U.createContext(null);function Xa({children:n,type:e}){return $e.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:n})}const q2="noopener noreferrer nofollow";class Q2{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return Be(this.pdfViewer,"PDF viewer is not initialized."),this.pdfViewer.currentPageNumber||0}set page(e){Be(this.pdfViewer,"PDF viewer is not initialized."),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise(t=>{Be(this.pdfDocument,"PDF document not loaded."),Be(e,"Destination is not specified."),typeof e=="string"?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)}).then(t=>{Be(Array.isArray(t),`"${t}" is not a valid destination array.`);const r=t[0];new Promise(i=>{Be(this.pdfDocument,"PDF document not loaded."),r instanceof Object?this.pdfDocument.getPageIndex(r).then(s=>{i(s)}).catch(()=>{Be(!1,`"${r}" is not a valid page reference.`)}):typeof r=="number"?i(r):Be(!1,`"${r}" is not a valid destination reference.`)}).then(i=>{const s=i+1;Be(this.pdfViewer,"PDF viewer is not initialized."),Be(s>=1&&s<=this.pagesCount,`"${s}" is not a valid page number.`),this.pdfViewer.scrollPageIntoView({dest:t,pageIndex:i,pageNumber:s})})})}navigateTo(e){this.goToDestination(e)}goToPage(e){const t=e-1;Be(this.pdfViewer,"PDF viewer is not initialized."),Be(e>=1&&e<=this.pagesCount,`"${e}" is not a valid page number.`),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}addLinkAttributes(e,t,r){e.href=t,e.rel=this.externalLinkRel||q2,e.target=r?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const p_={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},pg=typeof document<"u",Bx=pg&&window.location.protocol==="file:";function Z2(n){return typeof n<"u"}function js(n){return Z2(n)&&n!==null}function J2(n){return typeof n=="string"}function eM(n){return n instanceof ArrayBuffer}function tM(n){return Be(pg,"isBlob can only be used in a browser environment"),n instanceof Blob}function xv(n){return J2(n)&&/^data:/.test(n)}function g_(n){Be(xv(n),"Invalid data URI.");const[e="",t=""]=n.split(",");return e.split(";").indexOf("base64")!==-1?atob(t):unescape(t)}function nM(){return pg&&window.devicePixelRatio||1}const jx="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function m_(){zt(!Bx,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${jx}`)}function rM(){zt(!Bx,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${jx}`)}function sa(n){n&&n.cancel&&n.cancel()}function Cv(n,e){return Object.defineProperty(n,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(n,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(n,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(n,"originalHeight",{get(){return this.view[3]},configurable:!0}),n}function iM(n){return n.name==="RenderingCancelledException"}function sM(n){return new Promise((e,t)=>{const r=new FileReader;r.onload=()=>{if(!r.result)return t(new Error("Error while reading a file."));e(r.result)},r.onerror=i=>{if(!i.target)return t(new Error("Error while reading a file."));const{error:s}=i.target;if(!s)return t(new Error("Error while reading a file."));switch(s.code){case s.NOT_FOUND_ERR:return t(new Error("Error while reading a file: File not found."));case s.SECURITY_ERR:return t(new Error("Error while reading a file: Security error."));case s.ABORT_ERR:return t(new Error("Error while reading a file: Aborted."));default:return t(new Error("Error while reading a file."))}},r.readAsArrayBuffer(n)})}function oM(n,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return n}}function Zl(){return U.useReducer(oM,{value:void 0,error:void 0})}var aM=function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{c(r.next(h))}catch(d){o(d)}}function l(h){try{c(r.throw(h))}catch(d){o(d)}}function c(h){h.done?s(h.value):i(h.value).then(a,l)}c((r=r.apply(n,e||[])).next())})},v_=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const{PDFDataRangeTransport:lM}=T2,uM=(n,e)=>{switch(e){case p_.NEED_PASSWORD:{const t=prompt("Enter the password to open this PDF file.");n(t);break}case p_.INCORRECT_PASSWORD:{const t=prompt("Invalid password. Please try again.");n(t);break}}};function y_(n){return typeof n=="object"&&n!==null&&("data"in n||"range"in n||"url"in n)}const cM=U.forwardRef(function(e,t){var{children:r,className:i,error:s="Failed to load PDF file.",externalLinkRel:o,externalLinkTarget:a,file:l,inputRef:c,imageResourcesPath:h,loading:d="Loading PDF",noData:f="No PDF file specified.",onItemClick:p,onLoadError:g,onLoadProgress:y,onLoadSuccess:b,onPassword:m=uM,onSourceError:v,onSourceSuccess:A,options:S,renderMode:C,rotate:k}=e,I=v_(e,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[M,z]=Zl(),{value:j,error:N}=M,[X,q]=Zl(),{value:Q,error:ee}=X,le=U.useRef(new Q2),V=U.useRef([]),x=U.useRef(void 0),T=U.useRef(void 0);l&&l!==x.current&&y_(l)&&(zt(!Ya(l,x.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),x.current=l),S&&S!==T.current&&(zt(!Ya(S,T.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),T.current=S);const L=U.useRef({scrollPageIntoView:ie=>{const{dest:se,pageNumber:Ae,pageIndex:ot=Ae-1}=ie;if(p){p({dest:se,pageIndex:ot,pageNumber:Ae});return}const He=V.current[ot];if(He){He.scrollIntoView();return}zt(!1,`An internal link leading to page ${Ae} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});U.useImperativeHandle(t,()=>({linkService:le,pages:V,viewer:L}),[]);function F(){A&&A()}function R(){N&&(zt(!1,N.toString()),v&&v(N))}function O(){z({type:"RESET"})}U.useEffect(O,[l,z]);const B=U.useCallback(()=>aM(this,void 0,void 0,function*(){if(!l)return null;if(typeof l=="string")return xv(l)?{data:g_(l)}:(m_(),{url:l});if(l instanceof lM)return{range:l};if(eM(l))return{data:l};if(pg&&tM(l))return{data:yield sM(l)};if(Be(typeof l=="object","Invalid parameter in file, need either Uint8Array, string or a parameter object"),Be(y_(l),"Invalid parameter object: need either .data, .range or .url"),"url"in l&&typeof l.url=="string"){if(xv(l.url)){const{url:ie}=l,se=v_(l,["url"]),Ae=g_(ie);return Object.assign({data:Ae},se)}m_()}return l}),[l]);U.useEffect(()=>{const ie=id(B());return ie.promise.then(se=>{z({type:"RESOLVE",value:se})}).catch(se=>{z({type:"REJECT",error:se})}),()=>{sa(ie)}},[B,z]),U.useEffect(()=>{if(!(typeof j>"u")){if(j===!1){R();return}F()}},[j]);function K(){Q&&(b&&b(Q),V.current=new Array(Q.numPages),le.current.setDocument(Q))}function P(){ee&&(zt(!1,ee.toString()),g&&g(ee))}function G(){q({type:"RESET"})}U.useEffect(G,[q,j]);function $(){if(!j)return;const ie=Object.assign(Object.assign({},j),S),se=Ox(ie);y&&(se.onProgress=y),m&&(se.onPassword=m);const Ae=se;return Ae.promise.then(ot=>{q({type:"RESOLVE",value:ot})}).catch(ot=>{Ae.destroyed||q({type:"REJECT",error:ot})}),()=>{Ae.destroy()}}U.useEffect($,[S,q,j]),U.useEffect(()=>{if(!(typeof Q>"u")){if(Q===!1){P();return}K()}},[Q]);function ge(){le.current.setViewer(L.current),le.current.setExternalLinkRel(o),le.current.setExternalLinkTarget(a)}U.useEffect(ge,[o,a]);function ne(ie,se){V.current[ie]=se}function me(ie){delete V.current[ie]}const ae=U.useMemo(()=>({imageResourcesPath:h,linkService:le.current,onItemClick:p,pdf:Q,registerPage:ne,renderMode:C,rotate:k,unregisterPage:me}),[h,p,Q,C,k]),Ee=U.useMemo(()=>Dx(I,()=>Q),[I,Q]);function ke(){return $e.jsx(Fx.Provider,{value:ae,children:r})}function ce(){return l?Q==null?$e.jsx(Xa,{type:"loading",children:typeof d=="function"?d():d}):Q===!1?$e.jsx(Xa,{type:"error",children:typeof s=="function"?s():s}):ke():$e.jsx(Xa,{type:"no-data",children:typeof f=="function"?f():f})}return $e.jsx("div",Object.assign({className:fg("react-pdf__Document",i),ref:c,style:{"--scale-factor":"1"}},Ee,{children:ce()}))});function zx(){return U.useContext(Fx)}function $x(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=n.filter(Boolean);if(t.length<=1){var r=t[0];return r||null}return function(s){t.forEach(function(o){typeof o=="function"?o(s):o&&(o.current=s)})}}const Ux=U.createContext(null),Hx={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},hM=/^H(\d+)$/;function dM(n){return n in Hx}function gg(n){return"children"in n}function Vx(n){return gg(n)?n.children.length===1&&0 in n.children&&"id"in n.children[0]:!1}function fM(n){const e={};if(gg(n)){const{role:t}=n,r=t.match(hM);if(r)e.role="heading",e["aria-level"]=Number(r[1]);else if(dM(t)){const i=Hx[t];i&&(e.role=i)}}return e}function Gx(n){const e={};if(gg(n)){if(n.alt!==void 0&&(e["aria-label"]=n.alt),n.lang!==void 0&&(e.lang=n.lang),Vx(n)){const[t]=n.children;if(t){const r=Gx(t);return Object.assign(Object.assign({},e),r)}}}else"id"in n&&(e["aria-owns"]=n.id);return e}function pM(n){return n?Object.assign(Object.assign({},fM(n)),Gx(n)):null}function Wx({className:n,node:e}){const t=U.useMemo(()=>pM(e),[e]),r=U.useMemo(()=>!gg(e)||Vx(e)?null:e.children.map((i,s)=>$e.jsx(Wx,{node:i},s)),[e]);return $e.jsx("span",Object.assign({className:n},t,{children:r}))}function mg(){return U.useContext(Ux)}function gM(){const n=mg();Be(n,"Unable to find Page context.");const{onGetStructTreeError:e,onGetStructTreeSuccess:t}=n,[r,i]=Zl(),{value:s,error:o}=r,{customTextRenderer:a,page:l}=n;function c(){s&&t&&t(s)}function h(){o&&(zt(!1,o.toString()),e&&e(o))}function d(){i({type:"RESET"})}U.useEffect(d,[i,l]);function f(){if(a||!l)return;const p=id(l.getStructTree()),g=p;return p.promise.then(y=>{i({type:"RESOLVE",value:y})}).catch(y=>{i({type:"REJECT",error:y})}),()=>sa(g)}return U.useEffect(f,[a,l,i]),U.useEffect(()=>{if(s!==void 0){if(s===!1){h();return}c()}},[s]),s?$e.jsx(Wx,{className:"react-pdf__Page__structTree structTree",node:s}):null}const w_=Ix;function mM(n){const e=mg();Be(e,"Unable to find Page context.");const t=Object.assign(Object.assign({},e),n),{_className:r,canvasBackground:i,devicePixelRatio:s=nM(),onRenderError:o,onRenderSuccess:a,page:l,renderForms:c,renderTextLayer:h,rotate:d,scale:f}=t,{canvasRef:p}=n;Be(l,"Attempted to render page canvas, but no page was specified.");const g=U.useRef(null);function y(){l&&a&&a(Cv(l,f))}function b(C){iM(C)||(zt(!1,C.toString()),o&&o(C))}const m=U.useMemo(()=>l.getViewport({scale:f*s,rotation:d}),[s,l,d,f]),v=U.useMemo(()=>l.getViewport({scale:f,rotation:d}),[l,d,f]);function A(){if(!l)return;l.cleanup();const{current:C}=g;if(!C)return;C.width=m.width,C.height=m.height,C.style.width=`${Math.floor(v.width)}px`,C.style.height=`${Math.floor(v.height)}px`,C.style.visibility="hidden";const k={annotationMode:c?w_.ENABLE_FORMS:w_.ENABLE,canvasContext:C.getContext("2d",{alpha:!1}),viewport:m};i&&(k.background=i);const I=l.render(k),M=I;return I.promise.then(()=>{C.style.visibility="",y()}).catch(b),()=>sa(M)}U.useEffect(A,[i,g,s,l,c,m,v]);const S=U.useCallback(()=>{const{current:C}=g;C&&(C.width=0,C.height=0)},[g]);return U.useEffect(()=>S,[S]),$e.jsx("canvas",{className:`${r}__canvas`,dir:"ltr",ref:$x(p,g),style:{display:"block",userSelect:"none"},children:h?$e.jsx(gM,{}):null})}function vM(n){return"str"in n}function yM(){const n=mg();Be(n,"Unable to find Page context.");const{customTextRenderer:e,onGetTextError:t,onGetTextSuccess:r,onRenderTextLayerError:i,onRenderTextLayerSuccess:s,page:o,pageIndex:a,pageNumber:l,rotate:c,scale:h}=n;Be(o,"Attempted to load page text content, but no page was specified.");const[d,f]=Zl(),{value:p,error:g}=d,y=U.useRef(null),b=U.useRef(void 0);zt(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function m(){p&&r&&r(p)}function v(){g&&(zt(!1,g.toString()),t&&t(g))}function A(){f({type:"RESET"})}U.useEffect(A,[o,f]);function S(){if(!o)return;const N=id(o.getTextContent()),X=N;return N.promise.then(q=>{f({type:"RESOLVE",value:q})}).catch(q=>{f({type:"REJECT",error:q})}),()=>sa(X)}U.useEffect(S,[o,f]),U.useEffect(()=>{if(p!==void 0){if(p===!1){v();return}m()}},[p]);const C=U.useCallback(()=>{s&&s()},[s]),k=U.useCallback(N=>{zt(!1,N.toString()),i&&i(N)},[i]);function I(){const N=b.current;N&&N.classList.add("active")}function M(){const N=b.current;N&&N.classList.remove("active")}const z=U.useMemo(()=>o.getViewport({scale:h,rotation:c}),[o,c,h]);function j(){if(!o||!p)return;const{current:N}=y;if(!N)return;N.innerHTML="";const X=o.streamTextContent({includeMarkedContent:!0}),q={container:N,textContentSource:X,viewport:z},Q=new Mx(q),ee=Q;return Q.render().then(()=>{const le=document.createElement("div");le.className="endOfContent",N.append(le),b.current=le;const V=N.querySelectorAll('[role="presentation"]');if(e){let x=0;p.items.forEach((T,L)=>{if(!vM(T))return;const F=V[x];if(!F)return;const R=e(Object.assign({pageIndex:a,pageNumber:l,itemIndex:L},T));F.innerHTML=R,x+=T.str&&T.hasEOL?2:1})}C()}).catch(k),()=>sa(ee)}return U.useLayoutEffect(j,[e,k,C,o,a,l,p,z]),$e.jsx("div",{className:fg("react-pdf__Page__textContent","textLayer"),onMouseUp:M,onMouseDown:I,ref:y})}function wM(){const n=zx(),e=mg();Be(e,"Unable to find Page context.");const t=Object.assign(Object.assign({},n),e),{imageResourcesPath:r,linkService:i,onGetAnnotationsError:s,onGetAnnotationsSuccess:o,onRenderAnnotationLayerError:a,onRenderAnnotationLayerSuccess:l,page:c,pdf:h,renderForms:d,rotate:f,scale:p=1}=t;Be(h,"Attempted to load page annotations, but no document was specified. Wrap <Page /> in a <Document /> or pass explicit `pdf` prop."),Be(c,"Attempted to load page annotations, but no page was specified."),Be(i,"Attempted to load page annotations, but no linkService was specified.");const[g,y]=Zl(),{value:b,error:m}=g,v=U.useRef(null);zt(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function A(){b&&o&&o(b)}function S(){m&&(zt(!1,m.toString()),s&&s(m))}function C(){y({type:"RESET"})}U.useEffect(C,[y,c]);function k(){if(!c)return;const N=id(c.getAnnotations()),X=N;return N.promise.then(q=>{y({type:"RESOLVE",value:q})}).catch(q=>{y({type:"REJECT",error:q})}),()=>{sa(X)}}U.useEffect(k,[y,c,d]),U.useEffect(()=>{if(b!==void 0){if(b===!1){S();return}A()}},[b]);function I(){l&&l()}function M(N){zt(!1,`${N}`),a&&a(N)}const z=U.useMemo(()=>c.getViewport({scale:p,rotation:f}),[c,f,p]);function j(){if(!h||!c||!i||!b)return;const{current:N}=v;if(!N)return;const X=z.clone({dontFlip:!0}),q={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:N,l10n:null,page:c,viewport:X},Q={annotations:b,annotationStorage:h.annotationStorage,div:N,imageResourcesPath:r,linkService:i,page:c,renderForms:d,viewport:X};N.innerHTML="";try{new Rx(q).render(Q),I()}catch(ee){M(ee)}return()=>{}}return U.useEffect(j,[b,r,i,c,d,z]),$e.jsx("div",{className:fg("react-pdf__Page__annotations","annotationLayer"),ref:v})}var _M=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const __=1;function EM(n){const e=zx(),t=Object.assign(Object.assign({},e),n),{_className:r="react-pdf__Page",_enableRegisterUnregisterPage:i=!0,canvasBackground:s,canvasRef:o,children:a,className:l,customRenderer:c,customTextRenderer:h,devicePixelRatio:d,error:f="Failed to load the page.",height:p,inputRef:g,loading:y="Loading page",noData:b="No page specified.",onGetAnnotationsError:m,onGetAnnotationsSuccess:v,onGetStructTreeError:A,onGetStructTreeSuccess:S,onGetTextError:C,onGetTextSuccess:k,onLoadError:I,onLoadSuccess:M,onRenderAnnotationLayerError:z,onRenderAnnotationLayerSuccess:j,onRenderError:N,onRenderSuccess:X,onRenderTextLayerError:q,onRenderTextLayerSuccess:Q,pageIndex:ee,pageNumber:le,pdf:V,registerPage:x,renderAnnotationLayer:T=!0,renderForms:L=!1,renderMode:F="canvas",renderTextLayer:R=!0,rotate:O,scale:B=__,unregisterPage:K,width:P}=t,G=_M(t,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[$,ge]=Zl(),{value:ne,error:me}=$,ae=U.useRef(null);Be(V,"Attempted to load a page, but no document was specified. Wrap <Page /> in a <Document /> or pass explicit `pdf` prop.");const Ee=js(le)?le-1:ee??null,ke=le??(js(ee)?ee+1:null),ce=O??(ne?ne.rotate:null),ie=U.useMemo(()=>{if(!ne)return null;let fa=1;const _g=B??__;if(P||p){const pa=ne.getViewport({scale:1,rotation:ce});P?fa=P/pa.width:p&&(fa=p/pa.height)}return _g*fa},[p,ne,ce,B,P]);function se(){return()=>{js(Ee)&&i&&K&&K(Ee)}}U.useEffect(se,[i,V,Ee,K]);function Ae(){if(M){if(!ne||!ie)return;M(Cv(ne,ie))}if(i&&x){if(!js(Ee)||!ae.current)return;x(Ee,ae.current)}}function ot(){me&&(zt(!1,me.toString()),I&&I(me))}function He(){ge({type:"RESET"})}U.useEffect(He,[ge,V,Ee]);function Mn(){if(!V||!ke)return;const fa=id(V.getPage(ke)),_g=fa;return fa.promise.then(pa=>{ge({type:"RESOLVE",value:pa})}).catch(pa=>{ge({type:"REJECT",error:pa})}),()=>sa(_g)}U.useEffect(Mn,[ge,V,Ee,ke,x]),U.useEffect(()=>{if(ne!==void 0){if(ne===!1){ot();return}Ae()}},[ne,ie]);const Hr=U.useMemo(()=>ne&&js(Ee)&&ke&&js(ce)&&js(ie)?{_className:r,canvasBackground:s,customTextRenderer:h,devicePixelRatio:d,onGetAnnotationsError:m,onGetAnnotationsSuccess:v,onGetStructTreeError:A,onGetStructTreeSuccess:S,onGetTextError:C,onGetTextSuccess:k,onRenderAnnotationLayerError:z,onRenderAnnotationLayerSuccess:j,onRenderError:N,onRenderSuccess:X,onRenderTextLayerError:q,onRenderTextLayerSuccess:Q,page:ne,pageIndex:Ee,pageNumber:ke,renderForms:L,renderTextLayer:R,rotate:ce,scale:ie}:null,[r,s,h,d,m,v,A,S,C,k,z,j,N,X,q,Q,ne,Ee,ke,L,R,ce,ie]),Et=U.useMemo(()=>Dx(G,()=>ne&&(ie?Cv(ne,ie):void 0)),[G,ne,ie]),re=`${Ee}@${ie}/${ce}`;function Pe(){switch(F){case"custom":return Be(c,'renderMode was set to "custom", but no customRenderer was passed.'),$e.jsx(c,{},`${re}_custom`);case"none":return null;case"canvas":default:return $e.jsx(mM,{canvasRef:o},`${re}_canvas`)}}function Bi(){return R?$e.jsx(yM,{},`${re}_text`):null}function Fs(){return T?$e.jsx(wM,{},`${re}_annotations`):null}function gr(){return $e.jsxs(Ux.Provider,{value:Hr,children:[Pe(),Bi(),Fs(),a]})}function sC(){return ke?V===null||ne===void 0||ne===null?$e.jsx(Xa,{type:"loading",children:typeof y=="function"?y():y}):V===!1||ne===!1?$e.jsx(Xa,{type:"error",children:typeof f=="function"?f():f}):gr():$e.jsx(Xa,{type:"no-data",children:typeof b=="function"?b():b})}return $e.jsx("div",Object.assign({className:fg(r,l),"data-page-number":ke,ref:$x(g,ae),style:{"--scale-factor":`${ie}`,backgroundColor:s||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},Et,{children:sC()}))}rM();Wy.workerSrc="pdf.worker.mjs";var AM=function(){return import.meta.url},Yx="SET_ZOOM_LEVEL",sm=function(n){return{type:Yx,value:n}},Xx="SET_PDF_PAGINATED",bM=function(n){return{type:Xx,value:n}},Kx="SET_NUM_PAGES",E_=function(n){return{type:Kx,value:n}},qx="SET_CURRENT_PAGE",A_=function(n){return{type:qx,value:n}},wr=function(){return wr=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},wr.apply(this,arguments)},Jl={zoomLevel:1,paginated:!0,numPages:0,currentPage:1},SM=function(n,e){switch(n===void 0&&(n=Jl),e.type){case Yx:{var t=e.value;return wr(wr({},n),{zoomLevel:t})}case Xx:{var t=e.value;return wr(wr({},n),{paginated:t})}case Kx:{var t=e.value;return wr(wr({},n),{numPages:t})}case qx:{var t=e.value;return wr(wr({},n),{currentPage:t})}default:return n}},tp=function(){return tp=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},tp.apply(this,arguments)},ou=U.createContext({state:Jl,dispatch:function(){return null}}),xM=function(n){var e=n.children,t=n.mainState,r=U.useReducer(SM,tp(tp({},Jl),{mainState:t})),i=r[0],s=r[1];return D.createElement(ou.Provider,{value:{state:i,dispatch:s}},e)},eu=function(){return eu=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},eu.apply(this,arguments)},CM=function(n){return D.createElement(Qx,eu({},n,{reverse:!0}))},TM=function(n){return D.createElement(Qx,eu({},n))},Qx=function(n){var e=n.color,t=n.size,r=n.reverse;return D.createElement("svg",{width:t||"100%",height:t||"100%",style:{transform:"".concat(r?"rotate(180deg)":"")},viewBox:"0 0 12 12",version:"1.1"},D.createElement("g",{id:"Icons",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},D.createElement("g",{id:"Rounded",transform:"translate(-548.000000, -1000.000000)"},D.createElement("g",{id:"AV",transform:"translate(100.000000, 852.000000)"},D.createElement("g",{id:"-Round-/-AV-/-skip_next",transform:"translate(442.000000, 142.000000)"},D.createElement("g",null,D.createElement("rect",{id:"Rectangle-Copy-52",x:"0",y:"0",width:"24",height:"24"}),D.createElement("path",{d:"M7.58,16.89 L13.35,12.82 C13.91,12.42 13.91,11.58 13.35,11.19 L7.58,7.11 C6.91,6.65 6,7.12 6,7.93 L6,16.07 C6,16.88 6.91,17.35 7.58,16.89 Z M16,7 L16,17 C16,17.55 16.45,18 17,18 C17.55,18 18,17.55 18,17 L18,7 C18,6.45 17.55,6 17,6 C16.45,6 16,6.45 16,7 Z",id:"icon_color",fill:e||"#aaa"})))))))},kM=function(n){var e=n.color,t=n.size,r=n.reverse;return D.createElement("svg",{width:t||"100%",height:t||"100%",style:{transform:"".concat(r?"rotate(180deg)":"")},id:"Layer_1",viewBox:"0 0 24 24"},D.createElement("path",{d:"M20.57,9.43A8,8,0,0,0,5.26,10,5,5,0,1,0,5,20h5V18H5a3,3,0,0,1,0-6,3.1,3.1,0,0,1,.79.12l1.12.31.14-1.15a6,6,0,0,1,11.74-.82l.15.54.54.16A3.46,3.46,0,0,1,22,14.5,3.5,3.5,0,0,1,18.5,18H16v2h2.5A5.48,5.48,0,0,0,20.57,9.43Z",fill:e||"#aaa"}),D.createElement("polygon",{points:"12 11 12 15.59 10.71 14.29 9.29 15.71 13 19.41 16.71 15.71 15.29 14.29 14 15.59 14 11 12 11",fill:e||"#aaa"}))},PM=function(n){return D.createElement(Zx,eu({},n))},LM=function(n){return D.createElement(Zx,eu({},n,{reverse:!0}))},Zx=function(n){var e=n.color,t=n.size,r=n.reverse;return D.createElement("svg",{width:t||"100%",height:t||"100%",viewBox:"0 0 32 32",version:"1.1"},D.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},D.createElement("g",{id:"search-plus-icon",fill:e||"#aaa"},D.createElement("path",{id:"search-plus",d:r?"M 13 13 L 16 13 L 19 13 L 19 16 L 16 16 L 13 16 L 10 16 L 10 13 Z M 19.4271 21.4271 C 18.0372 22.4175 16.3367 23 14.5 23 C 9.8056 23 6 19.1944 6 14.5 C 6 9.8056 9.8056 6 14.5 6 C 19.1944 6 23 9.8056 23 14.5 C 23 16.3367 22.4175 18.0372 21.4271 19.4271 L 27.0119 25.0119 C 27.5621 25.5621 27.5575 26.4425 27.0117 26.9883 L 26.9883 27.0117 C 26.4439 27.5561 25.5576 27.5576 25.0119 27.0119 L 19.4271 21.4271 L 19.4271 21.4271 L 19.4271 21.4271 Z M 14.5 21 C 18.0899 21 21 18.0899 21 14.5 C 21 10.9101 18.0899 8 14.5 8 C 10.9101 8 8 10.9101 8 14.5 C 8 18.0899 10.9101 21 14.5 21 L 14.5 21 Z":"M 13 13 L 13 10 L 16 10 L 16 13 L 19 13 L 19 16 L 16 16 L 16 19 L 13 19 L 13 16 L 10 16 L 10 13 Z M 19.4271 21.4271 C 18.0372 22.4175 16.3367 23 14.5 23 C 9.8056 23 6 19.1944 6 14.5 C 6 9.8056 9.8056 6 14.5 6 C 19.1944 6 23 9.8056 23 14.5 C 23 16.3367 22.4175 18.0372 21.4271 19.4271 L 27.0119 25.0119 C 27.5621 25.5621 27.5575 26.4425 27.0117 26.9883 L 26.9883 27.0117 C 26.4439 27.5561 25.5576 27.5576 25.0119 27.0119 L 19.4271 21.4271 L 19.4271 21.4271 L 19.4271 21.4271 Z M 14.5 21 C 18.0899 21 21 18.0899 21 14.5 C 21 10.9101 18.0899 8 14.5 8 C 10.9101 8 8 10.9101 8 14.5 C 8 18.0899 10.9101 21 14.5 21 L 14.5 21 Z"}))))},RM=function(n){var e=n.color,t=n.size;return D.createElement("svg",{width:t||"100%",height:t||"100%",viewBox:"0 0 24 24"},D.createElement("path",{fill:e||"#aaa",d:"M9.29,13.29,4,18.59V17a1,1,0,0,0-2,0v4a1,1,0,0,0,.08.38,1,1,0,0,0,.54.54A1,1,0,0,0,3,22H7a1,1,0,0,0,0-2H5.41l5.3-5.29a1,1,0,0,0-1.42-1.42ZM5.41,4H7A1,1,0,0,0,7,2H3a1,1,0,0,0-.38.08,1,1,0,0,0-.54.54A1,1,0,0,0,2,3V7A1,1,0,0,0,4,7V5.41l5.29,5.3a1,1,0,0,0,1.42,0,1,1,0,0,0,0-1.42ZM21,16a1,1,0,0,0-1,1v1.59l-5.29-5.3a1,1,0,0,0-1.42,1.42L18.59,20H17a1,1,0,0,0,0,2h4a1,1,0,0,0,.38-.08,1,1,0,0,0,.54-.54A1,1,0,0,0,22,21V17A1,1,0,0,0,21,16Zm.92-13.38a1,1,0,0,0-.54-.54A1,1,0,0,0,21,2H17a1,1,0,0,0,0,2h1.59l-5.3,5.29a1,1,0,0,0,0,1.42,1,1,0,0,0,1.42,0L20,5.41V7a1,1,0,0,0,2,0V3A1,1,0,0,0,21.92,2.62Z"}))},IM=function(n){var e=n.color,t=n.size,r=n.reverse;return D.createElement("svg",{width:t||"100%",height:t||"100%",style:{transform:"".concat(r?"rotate(90deg)":"")},version:"1.1",id:"Scroll_1",viewBox:"0 0 297 297",xmlSpace:"preserve"},D.createElement("path",{fill:e||"#aaa",d:`M206.004,200.723h-31.231V96.277h31.231c0.005,0,0.014,0,0.019,0c5.289,0,9.575-4.287,9.575-9.574
  c0-2.342-0.841-4.488-2.236-6.151L156.168,3.851C154.36,1.428,151.515,0,148.492,0c-3.023,0-5.868,1.428-7.675,3.851L83.302,80.98
  c-2.166,2.902-2.507,6.779-0.883,10.017c1.624,3.236,4.936,5.28,8.559,5.28h31.231v104.445H90.978c-3.623,0-6.934,2.044-8.559,5.28
  c-1.624,3.237-1.283,7.114,0.883,10.017l57.513,77.129c1.808,2.424,4.652,3.852,7.675,3.852c3.023,0,5.868-1.428,7.676-3.852
  l57.514-77.129c2.164-2.902,2.507-6.779,0.883-10.017C212.938,202.767,209.627,200.723,206.004,200.723z`}))},vg=function(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n},MM=function(){var n=U.useContext(ou),e=n.state,t=e.currentPage,r=e.numPages,i=n.dispatch;return D.createElement(OM,{id:"pdf-pagination"},D.createElement(Jx,{id:"pdf-pagination-prev",onClick:function(){return i(A_(t-1))},disabled:t===1},D.createElement(CM,{color:"#000",size:"50%"})),D.createElement(NM,{id:"pdf-pagination-info"},"Page ",t,"/",r),D.createElement(DM,{id:"pdf-pagination-next",onClick:function(){return i(A_(t+1))},disabled:t>=r},D.createElement(TM,{color:"#000",size:"50%"})))},OM=pe.div(b_||(b_=vg([`
  display: flex;
  align-items: center;
`],[`
  display: flex;
  align-items: center;
`]))),Jx=pe(Qp)(S_||(S_=vg([`
  width: 30px;
  height: 30px;
  margin: 0 5px;

  @media (max-width: 768px) {
    width: 25px;
    height: 25px;
  }
`],[`
  width: 30px;
  height: 30px;
  margin: 0 5px;

  @media (max-width: 768px) {
    width: 25px;
    height: 25px;
  }
`]))),DM=pe(Jx)(x_||(x_=vg([`
  margin: 0 20px 0 5px;
`],[`
  margin: 0 20px 0 5px;
`]))),NM=pe.div(C_||(C_=vg([`
  color: `,`;
  font-size: 14px;
  text-align: left;

  @media (max-width: 768px) {
    font-size: 10px;
  }
`],[`
  color: `,`;
  font-size: 14px;
  text-align: left;

  @media (max-width: 768px) {
    font-size: 10px;
  }
`])),function(n){return n.theme.text_primary}),b_,S_,x_,C_,Yy=function(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n},FM=function(){var n=U.useContext(ou),e=n.state,t=e.mainState,r=e.paginated,i=e.zoomLevel,s=e.numPages,o=n.dispatch,a=(t==null?void 0:t.currentDocument)||null;return D.createElement(BM,{id:"pdf-controls"},r&&s>1&&D.createElement(MM,null),(a==null?void 0:a.fileData)&&D.createElement(jM,{id:"pdf-download",href:a==null?void 0:a.fileData,download:a==null?void 0:a.uri},D.createElement(kM,{color:"#000",size:"75%"})),D.createElement(Md,{id:"pdf-zoom-out",onMouseDown:function(){return o(sm(i-.1))}},D.createElement(LM,{color:"#000",size:"80%"})),D.createElement(Md,{id:"pdf-zoom-in",onMouseDown:function(){return o(sm(i+.1))}},D.createElement(PM,{color:"#000",size:"80%"})),D.createElement(Md,{id:"pdf-zoom-reset",onMouseDown:function(){return o(sm(Jl.zoomLevel))},disabled:i===Jl.zoomLevel},D.createElement(RM,{color:"#000",size:"70%"})),s>1&&D.createElement(Md,{id:"pdf-toggle-pagination",onMouseDown:function(){return o(bM(!r))}},D.createElement(IM,{color:"#000",size:"70%",reverse:r})))},BM=pe.div(T_||(T_=Yy([`
  display: flex;
  position: sticky;
  top: 0;
  left: 0;
  z-index: 1;
  justify-content: flex-end;
  padding: 8px;
  background-color: `,`;
  box-shadow: 0px 2px 3px #00000033;

  @media (max-width: 768px) {
    padding: 6px;
  }
`],[`
  display: flex;
  position: sticky;
  top: 0;
  left: 0;
  z-index: 1;
  justify-content: flex-end;
  padding: 8px;
  background-color: `,`;
  box-shadow: 0px 2px 3px #00000033;

  @media (max-width: 768px) {
    padding: 6px;
  }
`])),function(n){return n.theme.tertiary}),Md=pe(Qp)(k_||(k_=Yy([`
  width: 30px;
  height: 30px;
  @media (max-width: 768px) {
    width: 25px;
    height: 25px;
  }
`],[`
  width: 30px;
  height: 30px;
  @media (max-width: 768px) {
    width: 25px;
    height: 25px;
  }
`]))),jM=pe(Tb)(P_||(P_=Yy([`
  width: 30px;
  height: 30px;
  @media (max-width: 768px) {
    width: 25px;
    height: 25px;
  }
`],[`
  width: 30px;
  height: 30px;
  @media (max-width: 768px) {
    width: 25px;
    height: 25px;
  }
`]))),T_,k_,P_,eC=function(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n},tC=function(n){var e=n.pageNum,t=U.useContext(ou).state,r=t.mainState,i=t.paginated,s=t.zoomLevel,o=t.numPages,a=t.currentPage,l=(r==null?void 0:r.rendererRect)||null,c=e||a;return D.createElement(zM,{id:"pdf-page-wrapper",last:c>=o},!i&&D.createElement($M,{id:"pdf-page-info"},"Page ",c,"/",o),D.createElement(EM,{pageNumber:c||a,scale:s,height:((l==null?void 0:l.height)||100)-100,width:((l==null?void 0:l.width)||100)-100}))},zM=pe.div(L_||(L_=eC([`
  margin: 20px 0;
`],[`
  margin: 20px 0;
`]))),$M=pe.div(R_||(R_=eC([`
  padding: 0 0 10px 10px;
  color: `,`;
  font-size: 14px;
  text-align: left;

  @media (max-width: 768px) {
    font-size: 10px;
  }
`],[`
  padding: 0 0 10px 10px;
  color: `,`;
  font-size: 14px;
  text-align: left;

  @media (max-width: 768px) {
    font-size: 10px;
  }
`])),function(n){return n.theme.text_tertiary}),L_,R_,UM=function(n){for(var e=U.useContext(ou).state.numPages,t=[],r=0;r<e;r++)t.push(D.createElement(tC,{key:r+1,pageNum:r+1}));return D.createElement(D.Fragment,null,t)},HM=function(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n},VM=function(){var n=U.useContext(ou),e=n.state,t=e.mainState,r=e.paginated,i=n.dispatch,s=(t==null?void 0:t.currentDocument)||null;return U.useEffect(function(){i(E_(Jl.numPages))},[s]),!s||s.fileData===void 0?null:D.createElement(GM,{file:s.fileData,onLoadSuccess:function(o){var a=o.numPages;return i(E_(a))},loading:D.createElement("span",null,"Loading...")},r?D.createElement(tC,null):D.createElement(UM,null))},GM=pe(cM)(I_||(I_=HM([`
  display: flex;
  flex-direction: column;
  margin: 0 auto;
`],[`
  display: flex;
  flex-direction: column;
  margin: 0 auto;
`]))),I_,WM=function(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n};Wy.workerSrc=new URL("pdfjs-dist/build/pdf.worker.min.js",AM()).toString();var Xy=function(n){var e=n.mainState;return D.createElement(xM,{mainState:e},D.createElement(YM,{id:"pdf-renderer","data-testid":"pdf-renderer"},D.createElement(FM,null),D.createElement(VM,null)))};Xy.fileTypes=["pdf","application/pdf"];Xy.weight=0;var YM=pe.div(M_||(M_=WM([`
  display: flex;
  flex-direction: column;
  flex: 1;
  overflow-y: auto;

  /* width */
  &::-webkit-scrollbar {
    `,`;
  }
  /* Track */
  &::-webkit-scrollbar-track {
    /* background: `,`; */
  }
  /* Handle */
  &::-webkit-scrollbar-thumb {
    background: `,`;
  }
  /* Handle on hover */
  &::-webkit-scrollbar-thumb:hover {
    background: `,`;
  }
`],[`
  display: flex;
  flex-direction: column;
  flex: 1;
  overflow-y: auto;

  /* width */
  &::-webkit-scrollbar {
    `,`;
  }
  /* Track */
  &::-webkit-scrollbar-track {
    /* background: `,`; */
  }
  /* Handle */
  &::-webkit-scrollbar-thumb {
    background: `,`;
  }
  /* Handle on hover */
  &::-webkit-scrollbar-thumb:hover {
    background: `,`;
  }
`])),function(n){return n.theme.disableThemeScrollbar?"":"width: 10px"},function(n){return n.theme.secondary},function(n){return n.theme.tertiary},function(n){return n.theme.primary}),M_,XM=function(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n},Tv=function(){return Tv=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Tv.apply(this,arguments)},KM=pe(ta)(O_||(O_=XM([`
  display: flex;
  flex: 1;
  align-items: center;
  justify-content: center;
  height: 100%;
  background-color: white;
  background-image: linear-gradient(45deg, #e0e0e0 25%, transparent 25%),
    linear-gradient(-45deg, #e0e0e0 25%, transparent 25%),
    linear-gradient(45deg, transparent 75%, #e0e0e0 75%),
    linear-gradient(-45deg, transparent 75%, #e0e0e0 75%);
  background-size: 20px 20px;
  background-position: 0 0, 0 10px, 10px -10px, -10px 0px;
`],[`
  display: flex;
  flex: 1;
  align-items: center;
  justify-content: center;
  height: 100%;
  background-color: white;
  background-image: linear-gradient(45deg, #e0e0e0 25%, transparent 25%),
    linear-gradient(-45deg, #e0e0e0 25%, transparent 25%),
    linear-gradient(45deg, transparent 75%, #e0e0e0 75%),
    linear-gradient(-45deg, transparent 75%, #e0e0e0 75%);
  background-size: 20px 20px;
  background-position: 0 0, 0 10px, 10px -10px, -10px 0px;
`]))),Ky=function(n){return D.createElement(KM,Tv({},n))};Ky.fileTypes=["png","image/png"];Ky.weight=0;var O_,qM=void 0,xi=void 0,Tn=void 0,np=[],QM=function(){var n=an(2,0);if(n===18761)Tn=!0;else if(n===19789)Tn=!1;else throw TypeError("Invalid byte order value.");return Tn},ZM=function(){if(an(2,2)!==42)throw RangeError("You forgot your towel!");return!0},JM=function(n){var e={315:"Artist",258:"BitsPerSample",265:"CellLength",264:"CellWidth",320:"ColorMap",259:"Compression",33432:"Copyright",306:"DateTime",338:"ExtraSamples",266:"FillOrder",289:"FreeByteCounts",288:"FreeOffsets",291:"GrayResponseCurve",290:"GrayResponseUnit",316:"HostComputer",270:"ImageDescription",257:"ImageLength",256:"ImageWidth",271:"Make",281:"MaxSampleValue",280:"MinSampleValue",272:"Model",254:"NewSubfileType",274:"Orientation",262:"PhotometricInterpretation",284:"PlanarConfiguration",296:"ResolutionUnit",278:"RowsPerStrip",277:"SamplesPerPixel",305:"Software",279:"StripByteCounts",273:"StripOffsets",255:"SubfileType",263:"Threshholding",282:"XResolution",283:"YResolution",326:"BadFaxLines",327:"CleanFaxData",343:"ClipPath",328:"ConsecutiveBadFaxLines",433:"Decode",434:"DefaultImageColor",269:"DocumentName",336:"DotRange",321:"HalftoneHints",346:"Indexed",347:"JPEGTables",285:"PageName",297:"PageNumber",317:"Predictor",319:"PrimaryChromaticities",532:"ReferenceBlackWhite",339:"SampleFormat",559:"StripRowCounts",330:"SubIFDs",292:"T4Options",293:"T6Options",325:"TileByteCounts",323:"TileLength",324:"TileOffsets",322:"TileWidth",301:"TransferFunction",318:"WhitePoint",344:"XClipPathUnits",286:"XPosition",529:"YCbCrCoefficients",531:"YCbCrPositioning",530:"YCbCrSubSampling",345:"YClipPathUnits",287:"YPosition",37378:"ApertureValue",40961:"ColorSpace",36868:"DateTimeDigitized",36867:"DateTimeOriginal",34665:"Exif IFD",36864:"ExifVersion",33434:"ExposureTime",41728:"FileSource",37385:"Flash",40960:"FlashpixVersion",33437:"FNumber",42016:"ImageUniqueID",37384:"LightSource",37500:"MakerNote",37377:"ShutterSpeedValue",37510:"UserComment",33723:"IPTC",34675:"ICC Profile",700:"XMP",42112:"GDAL_METADATA",42113:"GDAL_NODATA",34377:"Photoshop"},t;return n in e?t=e[n]:t="Tag"+n,t},eO=function(n){var e={1:"BYTE",2:"ASCII",3:"SHORT",4:"LONG",5:"RATIONAL",6:"SBYTE",7:"UNDEFINED",8:"SSHORT",9:"SLONG",10:"SRATIONAL",11:"FLOAT",12:"DOUBLE"},t;return n in e&&(t=e[n]),t},tO=function(n){var e;return["BYTE","ASCII","SBYTE","UNDEFINED"].indexOf(n)!==-1?e=1:["SHORT","SSHORT"].indexOf(n)!==-1?e=2:["LONG","SLONG","FLOAT"].indexOf(n)!==-1?e=4:["RATIONAL","SRATIONAL","DOUBLE"].indexOf(n)!==-1&&(e=8),e},nO=function(n,e,t){t=t||0;var r=Math.floor(t/8),i=e+r,s=t+n,o=32-n;if(s<=0)throw RangeError("No bits requested");if(s<=8)var a=24+t,l=xi.getUint8(i,Tn);else if(s<=16)var a=16+t,l=xi.getUint16(i,Tn);else if(s<=32)var a=t,l=xi.getUint32(i,Tn);else throw RangeError("Too many bits requested");var c={bits:l<<a>>>o,byteOffset:i+Math.floor(s/8),bitOffset:s%8};return c},an=function(n,e){if(n<=0)throw RangeError("No bytes requested");if(n<=1)return xi.getUint8(e,Tn);if(n<=2)return xi.getUint16(e,Tn);if(n<=3)return xi.getUint32(e,Tn)>>>8;if(n<=4)return xi.getUint32(e,Tn);throw RangeError("Too many bytes requested")},rO=function(n,e,t,r){var i=[],s=tO(e),o=s*t;if(o<=4){if(Tn===!1)var a=r>>>(4-s)*8;else var a=r;i.push(a)}else for(var l=0;l<t;l++){var c=s*l;if(s>=8)if(["RATIONAL","SRATIONAL"].indexOf(e)!==-1)i.push(an(4,r+c)),i.push(an(4,r+c+4));else throw TypeError("Can't handle this field type or size");else i.push(an(s,r+c))}return e==="ASCII"&&i.forEach(function(h,d,f){f[d]=String.fromCharCode(h)}),i},zs=function(n,e){var t=Math.pow(2,8-e);return Math.floor(n*t+(t-1))},D_=function(n,e,t,r){return typeof r>"u"&&(r=1),"rgba("+n+", "+e+", "+t+", "+r+")"},nC=function(n){for(var e=an(2,n),t=[],r=n+2,i=0;i<e;r+=12,i++){var s=an(2,r),o=an(2,r+2),a=an(4,r+4),l=an(4,r+8),c=JM(s),h=eO(o),d=rO(c,h,a,l);t[c]={type:h,values:d}}np.push(t);var f=an(4,r);return f===0?np:nC(f)},iO=function(n,e){var t=e||document.createElement("canvas");if(n&&(xi=new DataView(n),Tn=QM(),!!ZM())){var r=an(4,4);np=nC(r);var i=np[0],s=i.ImageWidth.values[0],o=i.ImageLength.values[0];t.width=s,t.height=o;var a=[],l=i.Compression?i.Compression.values[0]:1,c=i.SamplesPerPixel.values[0],h=[],d=0,f=!1;if(i.BitsPerSample.values.forEach(function(re,Pe,Bi){h[Pe]={bitsPerSample:re,hasBytesPerSample:!1,bytesPerSample:void 0},re%8===0&&(h[Pe].hasBytesPerSample=!0,h[Pe].bytesPerSample=re/8),d+=re},qM),d%8===0){f=!0;var p=d/8}var g=i.StripOffsets.values,y=g.length;if(i.StripByteCounts)var b=i.StripByteCounts.values;else if(y===1)var b=[Math.ceil(s*o*d/8)];else throw Error("Cannot recover from missing StripByteCounts");for(var m=0;m<y;m++){var v=g[m];a[m]=[];for(var A=b[m],S=0,C=0,k=1,I=!0,M=[],z=0,j=0,N=0;S<A;S+=k)switch(l){case 1:for(var X=0,M=[];X<c;X++)if(h[X].hasBytesPerSample){var q=h[X].bytesPerSample*X;M.push(an(h[X].bytesPerSample,v+S+q))}else{var Q=nO(h[X].bitsPerSample,v+S,C);throw M.push(Q.bits),S=Q.byteOffset-v,C=Q.bitOffset,RangeError("Cannot handle sub-byte bits per sample")}if(a[m].push(M),f)k=p;else throw k=0,RangeError("Cannot handle sub-byte bits per pixel");break;case 2:break;case 3:break;case 4:break;case 5:break;case 6:break;case 7:break;case 32773:if(I){I=!1;var ee=1,le=1,V=xi.getInt8(v+S,Tn);V>=0&&V<=127?ee=V+1:V>=-127&&V<=-1?le=-V+1:I=!0}else{for(var x=an(1,v+S),X=0;X<le;X++){if(h[j].hasBytesPerSample)N=N<<8*z|x,z++,z===h[j].bytesPerSample&&(M.push(N),N=z=0,j++);else throw RangeError("Cannot handle sub-byte bits per sample");j===c&&(a[m].push(M),M=[],j=0)}ee--,ee===0&&(I=!0)}k=1;break}}if(t.getContext){var T=t.getContext("2d");if(T.fillStyle=D_(255,255,255,0),i.RowsPerStrip)var L=i.RowsPerStrip.values[0];else var L=o;var F=a.length,R=o%L,O=R===0?L:R,B=L,K=0,P=i.PhotometricInterpretation.values[0],G=[],$=0;if(i.ExtraSamples&&(G=i.ExtraSamples.values,$=G.length),i.ColorMap)var ge=i.ColorMap.values,ne=Math.pow(2,h[0].bitsPerSample);for(var m=0;m<F;m++){m+1===F&&(B=O);for(var me=a[m].length,ae=K*m,Ee=0,ke=0;ke<me;Ee++)for(var ce=0;ce<s;ce++,ke++){var ie=a[m][ke],se=0,Ae=0,ot=0,He=1;if($>0){for(var Mn=0;Mn<$;Mn++)if(G[Mn]===1||G[Mn]===2){He=ie[3+Mn]/256;break}}switch(P){case 0:if(h[0].hasBytesPerSample)var Hr=Math.pow(16,h[0].bytesPerSample*2);ie.forEach(function(Pe,Bi,Fs){Fs[Bi]=Hr-Pe});case 1:se=Ae=ot=zs(ie[0],h[0].bitsPerSample);break;case 2:se=zs(ie[0],h[0].bitsPerSample),Ae=zs(ie[1],h[1].bitsPerSample),ot=zs(ie[2],h[2].bitsPerSample);break;case 3:if(ge===void 0)throw Error("Palette image missing color map");var Et=ie[0];se=zs(ge[Et],16),Ae=zs(ge[ne+Et],16),ot=zs(ge[2*ne+Et],16);break;case 4:throw RangeError("Not Yet Implemented: Transparency mask");case 5:throw RangeError("Not Yet Implemented: CMYK");case 6:throw RangeError("Not Yet Implemented: YCbCr");case 8:throw RangeError("Not Yet Implemented: CIELab");default:throw RangeError("Unknown Photometric Interpretation:",P)}T.fillStyle=D_(se,Ae,ot,He),T.fillRect(ce,ae+Ee,1,1)}K=B}}return t}},sO=function(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n},rp=function(){return rp=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},rp.apply(this,arguments)},yg=function(n){var e=n.mainState.currentDocument,t=U.useState(!1),r=t[0],i=t[1],s=U.useState(!1),o=s[0],a=s[1];return U.useEffect(function(){if(!(!e||r)){var l=document.getElementById("tiff-img");try{l&&iO(e.fileData,l),i(!0)}catch{a(!0)}}},[]),o?D.createElement(ta,rp({},n),D.createElement("div",null,"Your file is corrupted. Please check it on your machine.")):D.createElement(ta,rp({},n),D.createElement(oO,{id:"tiff-img"}))};yg.fileTypes=["tif","tiff","image/tif","image/tiff"];yg.weight=0;yg.fileLoader=Lb;var oO=pe.canvas(N_||(N_=sO([`
  max-width: 95%;
  max-height: 95%;
`],[`
  max-width: 95%;
  max-height: 95%;
`]))),N_,aO=function(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n},wg=function(n){var e=n.mainState.currentDocument;return D.createElement(lO,{id:"txt-renderer"},e==null?void 0:e.fileData)};wg.fileTypes=["txt","text/plain"];wg.weight=0;wg.fileLoader=gL;var lO=pe.div(F_||(F_=aO([`
  display: flex;
  flex-direction: column;
  width: 100%;
  padding: 30px;
`],[`
  display: flex;
  flex-direction: column;
  width: 100%;
  padding: 30px;
`]))),F_,B_={primary:"#fff",secondary:"#000",tertiary:"#ffffff99",text_primary:"#000",text_secondary:"#fff",text_tertiary:"#00000044",disableThemeScrollbar:!1},uO=[My,Zp,Oy,Jp,tg,Xy,Ky,yg,wg],cO=function(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n},Fa=function(){return Fa=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Fa.apply(this,arguments)},hO=function(n){var e=n.documents,t=n.theme;if(!e||e===void 0)throw new Error(`Please provide an array of documents to DocViewer.
e.g. <DocViewer documents={[ { uri: 'https://mypdf.pdf' } ]} />`);return D.createElement(QP,Fa({},n),D.createElement(GP,{theme:t?Fa(Fa({},B_),t):B_},D.createElement(dO,Fa({id:"react-doc-viewer","data-testid":"react-doc-viewer"},n),D.createElement(hL,null),D.createElement(_L,null))))},dO=pe.div(j_||(j_=cO([`
  display: flex;
  flex-direction: column;
  overflow: hidden;
  background: #eee;
`],[`
  display: flex;
  flex-direction: column;
  overflow: hidden;
  background: #eee;
`]))),j_;function rC({urls:n=[]}){const e=n.map(t=>({uri:t}));return $e.jsx(hO,{style:{width:"100vw",height:"100vh"},documents:e,pluginRenderers:uO})}rC.propTypes={urls:ib.array};function iC(n){return console.log("App props:",n),$e.jsx($e.Fragment,{children:$e.jsx(rC,{urls:n.bucketlink?[n.bucketlink]:["https://cdn.hitenvats.one/eruva/1_hitenvats16@gmail.com/sweet-boring-shampoo/Resume_hiten.pdf"]})})}iC.propTypes={bucketlink:ib.string};const fO=Fk(iC,D,om,{props:{bucketlink:"string",filetype:"string",data:"string",title:"string",pageType:"string"}});customElements.define("simply-previewer",fO);
