const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-BIqdkLuE-4xHtZHMh.js","assets/url-Dkx9cvHv-BqYkizNU.js","assets/index-DFn6bF3J-BLKcrgfB.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function i_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var r_={exports:{}},Ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ih=Symbol.for("react.element"),oR=Symbol.for("react.portal"),aR=Symbol.for("react.fragment"),lR=Symbol.for("react.strict_mode"),cR=Symbol.for("react.profiler"),uR=Symbol.for("react.provider"),hR=Symbol.for("react.context"),dR=Symbol.for("react.forward_ref"),fR=Symbol.for("react.suspense"),pR=Symbol.for("react.memo"),gR=Symbol.for("react.lazy"),sA=Symbol.iterator;function mR(t){return t===null||typeof t!="object"?null:(t=sA&&t[sA]||t["@@iterator"],typeof t=="function"?t:null)}var s_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},o_=Object.assign,a_={};function Jl(t,e,n){this.props=t,this.context=e,this.refs=a_,this.updater=n||s_}Jl.prototype.isReactComponent={};Jl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Jl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function l_(){}l_.prototype=Jl.prototype;function PS(t,e,n){this.props=t,this.context=e,this.refs=a_,this.updater=n||s_}var TS=PS.prototype=new l_;TS.constructor=PS;o_(TS,Jl.prototype);TS.isPureReactComponent=!0;var oA=Array.isArray,c_=Object.prototype.hasOwnProperty,RS={current:null},u_={key:!0,ref:!0,__self:!0,__source:!0};function h_(t,e,n){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)c_.call(e,i)&&!u_.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),h=0;h<a;h++)l[h]=arguments[h+2];r.children=l}if(t&&t.defaultProps)for(i in a=t.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:Ih,type:t,key:s,ref:o,props:r,_owner:RS.current}}function vR(t,e){return{$$typeof:Ih,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function MS(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ih}function yR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var aA=/\/+/g;function S0(t,e){return typeof t=="object"&&t!==null&&t.key!=null?yR(""+t.key):e.toString(36)}function zd(t,e,n,i,r){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ih:case oR:o=!0}}if(o)return o=t,r=r(o),t=i===""?"."+S0(o,0):i,oA(r)?(n="",t!=null&&(n=t.replace(aA,"$&/")+"/"),zd(r,e,n,"",function(h){return h})):r!=null&&(MS(r)&&(r=vR(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(aA,"$&/")+"/")+t)),e.push(r)),1;if(o=0,i=i===""?".":i+":",oA(t))for(var a=0;a<t.length;a++){s=t[a];var l=i+S0(s,a);o+=zd(s,e,n,l,r)}else if(l=mR(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=i+S0(s,a++),o+=zd(s,e,n,l,r);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Gh(t,e,n){if(t==null)return t;var i=[],r=0;return zd(t,i,"","",function(s){return e.call(n,s,r++)}),i}function wR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var an={current:null},Ud={transition:null},SR={ReactCurrentDispatcher:an,ReactCurrentBatchConfig:Ud,ReactCurrentOwner:RS};function d_(){throw Error("act(...) is not supported in production builds of React.")}Ee.Children={map:Gh,forEach:function(t,e,n){Gh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Gh(t,function(){e++}),e},toArray:function(t){return Gh(t,function(e){return e})||[]},only:function(t){if(!MS(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ee.Component=Jl;Ee.Fragment=aR;Ee.Profiler=cR;Ee.PureComponent=PS;Ee.StrictMode=lR;Ee.Suspense=fR;Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SR;Ee.act=d_;Ee.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=o_({},t.props),r=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=RS.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)c_.call(e,l)&&!u_.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){a=Array(l);for(var h=0;h<l;h++)a[h]=arguments[h+2];i.children=a}return{$$typeof:Ih,type:t.type,key:r,ref:s,props:i,_owner:o}};Ee.createContext=function(t){return t={$$typeof:hR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:uR,_context:t},t.Consumer=t};Ee.createElement=h_;Ee.createFactory=function(t){var e=h_.bind(null,t);return e.type=t,e};Ee.createRef=function(){return{current:null}};Ee.forwardRef=function(t){return{$$typeof:dR,render:t}};Ee.isValidElement=MS;Ee.lazy=function(t){return{$$typeof:gR,_payload:{_status:-1,_result:t},_init:wR}};Ee.memo=function(t,e){return{$$typeof:pR,type:t,compare:e===void 0?null:e}};Ee.startTransition=function(t){var e=Ud.transition;Ud.transition={};try{t()}finally{Ud.transition=e}};Ee.unstable_act=d_;Ee.useCallback=function(t,e){return an.current.useCallback(t,e)};Ee.useContext=function(t){return an.current.useContext(t)};Ee.useDebugValue=function(){};Ee.useDeferredValue=function(t){return an.current.useDeferredValue(t)};Ee.useEffect=function(t,e){return an.current.useEffect(t,e)};Ee.useId=function(){return an.current.useId()};Ee.useImperativeHandle=function(t,e,n){return an.current.useImperativeHandle(t,e,n)};Ee.useInsertionEffect=function(t,e){return an.current.useInsertionEffect(t,e)};Ee.useLayoutEffect=function(t,e){return an.current.useLayoutEffect(t,e)};Ee.useMemo=function(t,e){return an.current.useMemo(t,e)};Ee.useReducer=function(t,e,n){return an.current.useReducer(t,e,n)};Ee.useRef=function(t){return an.current.useRef(t)};Ee.useState=function(t){return an.current.useState(t)};Ee.useSyncExternalStore=function(t,e,n){return an.current.useSyncExternalStore(t,e,n)};Ee.useTransition=function(){return an.current.useTransition()};Ee.version="18.3.1";r_.exports=Ee;var V=r_.exports;const Cs=i_(V);var Fv={},f_={exports:{}},Nn={},p_={exports:{}},g_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(H,W){var K=H.length;H.push(W);e:for(;0<K;){var ne=K-1>>>1,B=H[ne];if(0<r(B,W))H[ne]=W,H[K]=B,K=ne;else break e}}function n(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var W=H[0],K=H.pop();if(K!==W){H[0]=K;e:for(var ne=0,B=H.length,oe=B>>>1;ne<oe;){var te=2*(ne+1)-1,ie=H[te],le=te+1,re=H[le];if(0>r(ie,K))le<B&&0>r(re,ie)?(H[ne]=re,H[le]=K,ne=le):(H[ne]=ie,H[te]=K,ne=te);else if(le<B&&0>r(re,K))H[ne]=re,H[le]=K,ne=le;else break e}}return W}function r(H,W){var K=H.sortIndex-W.sortIndex;return K!==0?K:H.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],h=[],u=1,f=null,p=3,m=!1,y=!1,A=!1,b=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(H){for(var W=n(h);W!==null;){if(W.callback===null)i(h);else if(W.startTime<=H)i(h),W.sortIndex=W.expirationTime,e(l,W);else break;W=n(h)}}function T(H){if(A=!1,E(H),!y)if(n(l)!==null)y=!0,G(R);else{var W=n(h);W!==null&&F(T,W.startTime-H)}}function R(H,W){y=!1,A&&(A=!1,w(C),C=-1),m=!0;var K=p;try{for(E(W),f=n(l);f!==null&&(!(f.expirationTime>W)||H&&!$());){var ne=f.callback;if(typeof ne=="function"){f.callback=null,p=f.priorityLevel;var B=ne(f.expirationTime<=W);W=t.unstable_now(),typeof B=="function"?f.callback=B:f===n(l)&&i(l),E(W)}else i(l);f=n(l)}if(f!==null)var oe=!0;else{var te=n(h);te!==null&&F(T,te.startTime-W),oe=!1}return oe}finally{f=null,p=K,m=!1}}var I=!1,M=null,C=-1,P=5,N=-1;function $(){return!(t.unstable_now()-N<P)}function z(){if(M!==null){var H=t.unstable_now();N=H;var W=!0;try{W=M(!0,H)}finally{W?U():(I=!1,M=null)}}else I=!1}var U;if(typeof S=="function")U=function(){S(z)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,ee=Q.port2;Q.port1.onmessage=z,U=function(){ee.postMessage(null)}}else U=function(){b(z,0)};function G(H){M=H,I||(I=!0,U())}function F(H,W){C=b(function(){H(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,G(R))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(H){switch(p){case 1:case 2:case 3:var W=3;break;default:W=p}var K=p;p=W;try{return H()}finally{p=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,W){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var K=p;p=H;try{return W()}finally{p=K}},t.unstable_scheduleCallback=function(H,W,K){var ne=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ne+K:ne):K=ne,H){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=K+B,H={id:u++,callback:W,priorityLevel:H,startTime:K,expirationTime:B,sortIndex:-1},K>ne?(H.sortIndex=K,e(h,H),n(l)===null&&H===n(h)&&(A?(w(C),C=-1):A=!0,F(T,K-ne))):(H.sortIndex=B,e(l,H),y||m||(y=!0,G(R))),H},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(H){var W=p;return function(){var K=p;p=W;try{return H.apply(this,arguments)}finally{p=K}}}})(g_);p_.exports=g_;var xR=p_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AR=V,Ln=xR;function q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var m_=new Set,dh={};function qo(t,e){jl(t,e),jl(t+"Capture",e)}function jl(t,e){for(dh[t]=e,t=0;t<e.length;t++)m_.add(e[t])}var Er=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jv=Object.prototype.hasOwnProperty,ER=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lA={},cA={};function kR(t){return jv.call(cA,t)?!0:jv.call(lA,t)?!1:ER.test(t)?cA[t]=!0:(lA[t]=!0,!1)}function _R(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function bR(t,e,n,i){if(e===null||typeof e>"u"||_R(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ln(t,e,n,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Nt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Nt[t]=new ln(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Nt[e]=new ln(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Nt[t]=new ln(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Nt[t]=new ln(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Nt[t]=new ln(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Nt[t]=new ln(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Nt[t]=new ln(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Nt[t]=new ln(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Nt[t]=new ln(t,5,!1,t.toLowerCase(),null,!1,!1)});var LS=/[\-:]([a-z])/g;function IS(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(LS,IS);Nt[e]=new ln(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(LS,IS);Nt[e]=new ln(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(LS,IS);Nt[e]=new ln(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Nt[t]=new ln(t,1,!1,t.toLowerCase(),null,!1,!1)});Nt.xlinkHref=new ln("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Nt[t]=new ln(t,1,!1,t.toLowerCase(),null,!0,!0)});function NS(t,e,n,i){var r=Nt.hasOwnProperty(e)?Nt[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(bR(e,n,r,i)&&(n=null),i||r===null?kR(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var Tr=AR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,qh=Symbol.for("react.element"),Ha=Symbol.for("react.portal"),Va=Symbol.for("react.fragment"),DS=Symbol.for("react.strict_mode"),Wv=Symbol.for("react.profiler"),v_=Symbol.for("react.provider"),y_=Symbol.for("react.context"),OS=Symbol.for("react.forward_ref"),Bv=Symbol.for("react.suspense"),zv=Symbol.for("react.suspense_list"),$S=Symbol.for("react.memo"),Kr=Symbol.for("react.lazy"),w_=Symbol.for("react.offscreen"),uA=Symbol.iterator;function sc(t){return t===null||typeof t!="object"?null:(t=uA&&t[uA]||t["@@iterator"],typeof t=="function"?t:null)}var Qe=Object.assign,x0;function Pc(t){if(x0===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);x0=e&&e[1]||""}return`
`+x0+t}var A0=!1;function E0(t,e){if(!t||A0)return"";A0=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var i=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){i=h}t.call(e.prototype)}else{try{throw Error()}catch(h){i=h}t()}}catch(h){if(h&&i&&typeof h.stack=="string"){for(var r=h.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{A0=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Pc(t):""}function CR(t){switch(t.tag){case 5:return Pc(t.type);case 16:return Pc("Lazy");case 13:return Pc("Suspense");case 19:return Pc("SuspenseList");case 0:case 2:case 15:return t=E0(t.type,!1),t;case 11:return t=E0(t.type.render,!1),t;case 1:return t=E0(t.type,!0),t;default:return""}}function Uv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Va:return"Fragment";case Ha:return"Portal";case Wv:return"Profiler";case DS:return"StrictMode";case Bv:return"Suspense";case zv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case y_:return(t.displayName||"Context")+".Consumer";case v_:return(t._context.displayName||"Context")+".Provider";case OS:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case $S:return e=t.displayName||null,e!==null?e:Uv(t.type)||"Memo";case Kr:e=t._payload,t=t._init;try{return Uv(t(e))}catch{}}return null}function PR(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Uv(e);case 8:return e===DS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ps(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function S_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function TR(t){var e=S_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Yh(t){t._valueTracker||(t._valueTracker=TR(t))}function x_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=S_(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function rg(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Hv(t,e){var n=e.checked;return Qe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function hA(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=Ps(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function A_(t,e){e=e.checked,e!=null&&NS(t,"checked",e,!1)}function Vv(t,e){A_(t,e);var n=Ps(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Gv(t,e.type,n):e.hasOwnProperty("defaultValue")&&Gv(t,e.type,Ps(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function dA(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Gv(t,e,n){(e!=="number"||rg(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Tc=Array.isArray;function wl(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+Ps(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function qv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(q(91));return Qe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function fA(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(q(92));if(Tc(n)){if(1<n.length)throw Error(q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ps(n)}}function E_(t,e){var n=Ps(e.value),i=Ps(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function pA(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function k_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?k_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Kh,__=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Kh=Kh||document.createElement("div"),Kh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Kh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function fh(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ru={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},RR=["Webkit","ms","Moz","O"];Object.keys(Ru).forEach(function(t){RR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ru[e]=Ru[t]})});function b_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ru.hasOwnProperty(t)&&Ru[t]?(""+e).trim():e+"px"}function C_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=b_(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}var MR=Qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Kv(t,e){if(e){if(MR[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(q(62))}}function Xv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qv=null;function FS(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Zv=null,Sl=null,xl=null;function gA(t){if(t=Oh(t)){if(typeof Zv!="function")throw Error(q(280));var e=t.stateNode;e&&(e=Mm(e),Zv(t.stateNode,t.type,e))}}function P_(t){Sl?xl?xl.push(t):xl=[t]:Sl=t}function T_(){if(Sl){var t=Sl,e=xl;if(xl=Sl=null,gA(t),e)for(t=0;t<e.length;t++)gA(e[t])}}function R_(t,e){return t(e)}function M_(){}var k0=!1;function L_(t,e,n){if(k0)return t(e,n);k0=!0;try{return R_(t,e,n)}finally{k0=!1,(Sl!==null||xl!==null)&&(M_(),T_())}}function ph(t,e){var n=t.stateNode;if(n===null)return null;var i=Mm(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(q(231,e,typeof n));return n}var Jv=!1;if(Er)try{var oc={};Object.defineProperty(oc,"passive",{get:function(){Jv=!0}}),window.addEventListener("test",oc,oc),window.removeEventListener("test",oc,oc)}catch{Jv=!1}function LR(t,e,n,i,r,s,o,a,l){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(u){this.onError(u)}}var Mu=!1,sg=null,og=!1,e1=null,IR={onError:function(t){Mu=!0,sg=t}};function NR(t,e,n,i,r,s,o,a,l){Mu=!1,sg=null,LR.apply(IR,arguments)}function DR(t,e,n,i,r,s,o,a,l){if(NR.apply(this,arguments),Mu){if(Mu){var h=sg;Mu=!1,sg=null}else throw Error(q(198));og||(og=!0,e1=h)}}function Yo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function I_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function mA(t){if(Yo(t)!==t)throw Error(q(188))}function OR(t){var e=t.alternate;if(!e){if(e=Yo(t),e===null)throw Error(q(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return mA(r),t;if(s===i)return mA(r),e;s=s.sibling}throw Error(q(188))}if(n.return!==i.return)n=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===n){o=!0,n=r,i=s;break}if(a===i){o=!0,i=r,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,i=r;break}if(a===i){o=!0,i=s,n=r;break}a=a.sibling}if(!o)throw Error(q(189))}}if(n.alternate!==i)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?t:e}function N_(t){return t=OR(t),t!==null?D_(t):null}function D_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=D_(t);if(e!==null)return e;t=t.sibling}return null}var O_=Ln.unstable_scheduleCallback,vA=Ln.unstable_cancelCallback,$R=Ln.unstable_shouldYield,FR=Ln.unstable_requestPaint,it=Ln.unstable_now,jR=Ln.unstable_getCurrentPriorityLevel,jS=Ln.unstable_ImmediatePriority,$_=Ln.unstable_UserBlockingPriority,ag=Ln.unstable_NormalPriority,WR=Ln.unstable_LowPriority,F_=Ln.unstable_IdlePriority,Cm=null,Fi=null;function BR(t){if(Fi&&typeof Fi.onCommitFiberRoot=="function")try{Fi.onCommitFiberRoot(Cm,t,void 0,(t.current.flags&128)===128)}catch{}}var di=Math.clz32?Math.clz32:HR,zR=Math.log,UR=Math.LN2;function HR(t){return t>>>=0,t===0?32:31-(zR(t)/UR|0)|0}var Xh=64,Qh=4194304;function Rc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function lg(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~r;a!==0?i=Rc(a):(s&=o,s!==0&&(i=Rc(s)))}else o=n&~r,o!==0?i=Rc(o):s!==0&&(i=Rc(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-di(e),r=1<<n,i|=t[n],e&=~r;return i}function VR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function GR(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-di(s),a=1<<o,l=r[o];l===-1?(!(a&n)||a&i)&&(r[o]=VR(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function t1(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function j_(){var t=Xh;return Xh<<=1,!(Xh&4194240)&&(Xh=64),t}function _0(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Nh(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-di(e),t[e]=n}function qR(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-di(n),s=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~s}}function WS(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-di(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var Ie=0;function W_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var B_,BS,z_,U_,H_,n1=!1,Zh=[],ws=null,Ss=null,xs=null,gh=new Map,mh=new Map,ts=[],YR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yA(t,e){switch(t){case"focusin":case"focusout":ws=null;break;case"dragenter":case"dragleave":Ss=null;break;case"mouseover":case"mouseout":xs=null;break;case"pointerover":case"pointerout":gh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":mh.delete(e.pointerId)}}function ac(t,e,n,i,r,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=Oh(e),e!==null&&BS(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function KR(t,e,n,i,r){switch(e){case"focusin":return ws=ac(ws,t,e,n,i,r),!0;case"dragenter":return Ss=ac(Ss,t,e,n,i,r),!0;case"mouseover":return xs=ac(xs,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return gh.set(s,ac(gh.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,mh.set(s,ac(mh.get(s)||null,t,e,n,i,r)),!0}return!1}function V_(t){var e=wo(t.target);if(e!==null){var n=Yo(e);if(n!==null){if(e=n.tag,e===13){if(e=I_(n),e!==null){t.blockedOn=e,H_(t.priority,function(){z_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Hd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=i1(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);Qv=i,n.target.dispatchEvent(i),Qv=null}else return e=Oh(n),e!==null&&BS(e),t.blockedOn=n,!1;e.shift()}return!0}function wA(t,e,n){Hd(t)&&n.delete(e)}function XR(){n1=!1,ws!==null&&Hd(ws)&&(ws=null),Ss!==null&&Hd(Ss)&&(Ss=null),xs!==null&&Hd(xs)&&(xs=null),gh.forEach(wA),mh.forEach(wA)}function lc(t,e){t.blockedOn===e&&(t.blockedOn=null,n1||(n1=!0,Ln.unstable_scheduleCallback(Ln.unstable_NormalPriority,XR)))}function vh(t){function e(r){return lc(r,t)}if(0<Zh.length){lc(Zh[0],t);for(var n=1;n<Zh.length;n++){var i=Zh[n];i.blockedOn===t&&(i.blockedOn=null)}}for(ws!==null&&lc(ws,t),Ss!==null&&lc(Ss,t),xs!==null&&lc(xs,t),gh.forEach(e),mh.forEach(e),n=0;n<ts.length;n++)i=ts[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<ts.length&&(n=ts[0],n.blockedOn===null);)V_(n),n.blockedOn===null&&ts.shift()}var Al=Tr.ReactCurrentBatchConfig,cg=!0;function QR(t,e,n,i){var r=Ie,s=Al.transition;Al.transition=null;try{Ie=1,zS(t,e,n,i)}finally{Ie=r,Al.transition=s}}function ZR(t,e,n,i){var r=Ie,s=Al.transition;Al.transition=null;try{Ie=4,zS(t,e,n,i)}finally{Ie=r,Al.transition=s}}function zS(t,e,n,i){if(cg){var r=i1(t,e,n,i);if(r===null)D0(t,e,i,ug,n),yA(t,i);else if(KR(r,t,e,n,i))i.stopPropagation();else if(yA(t,i),e&4&&-1<YR.indexOf(t)){for(;r!==null;){var s=Oh(r);if(s!==null&&B_(s),s=i1(t,e,n,i),s===null&&D0(t,e,i,ug,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else D0(t,e,i,null,n)}}var ug=null;function i1(t,e,n,i){if(ug=null,t=FS(i),t=wo(t),t!==null)if(e=Yo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=I_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ug=t,null}function G_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jR()){case jS:return 1;case $_:return 4;case ag:case WR:return 16;case F_:return 536870912;default:return 16}default:return 16}}var ps=null,US=null,Vd=null;function q_(){if(Vd)return Vd;var t,e=US,n=e.length,i,r="value"in ps?ps.value:ps.textContent,s=r.length;for(t=0;t<n&&e[t]===r[t];t++);var o=n-t;for(i=1;i<=o&&e[n-i]===r[s-i];i++);return Vd=r.slice(t,1<i?1-i:void 0)}function Gd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Jh(){return!0}function SA(){return!1}function Dn(t){function e(n,i,r,s,o){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Jh:SA,this.isPropagationStopped=SA,this}return Qe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Jh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Jh)},persist:function(){},isPersistent:Jh}),e}var ec={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},HS=Dn(ec),Dh=Qe({},ec,{view:0,detail:0}),JR=Dn(Dh),b0,C0,cc,Pm=Qe({},Dh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:VS,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==cc&&(cc&&t.type==="mousemove"?(b0=t.screenX-cc.screenX,C0=t.screenY-cc.screenY):C0=b0=0,cc=t),b0)},movementY:function(t){return"movementY"in t?t.movementY:C0}}),xA=Dn(Pm),eM=Qe({},Pm,{dataTransfer:0}),tM=Dn(eM),nM=Qe({},Dh,{relatedTarget:0}),P0=Dn(nM),iM=Qe({},ec,{animationName:0,elapsedTime:0,pseudoElement:0}),rM=Dn(iM),sM=Qe({},ec,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),oM=Dn(sM),aM=Qe({},ec,{data:0}),AA=Dn(aM),lM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hM(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=uM[t])?!!e[t]:!1}function VS(){return hM}var dM=Qe({},Dh,{key:function(t){if(t.key){var e=lM[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Gd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?cM[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:VS,charCode:function(t){return t.type==="keypress"?Gd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Gd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),fM=Dn(dM),pM=Qe({},Pm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),EA=Dn(pM),gM=Qe({},Dh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:VS}),mM=Dn(gM),vM=Qe({},ec,{propertyName:0,elapsedTime:0,pseudoElement:0}),yM=Dn(vM),wM=Qe({},Pm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),SM=Dn(wM),xM=[9,13,27,32],GS=Er&&"CompositionEvent"in window,Lu=null;Er&&"documentMode"in document&&(Lu=document.documentMode);var AM=Er&&"TextEvent"in window&&!Lu,Y_=Er&&(!GS||Lu&&8<Lu&&11>=Lu),kA=" ",_A=!1;function K_(t,e){switch(t){case"keyup":return xM.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function X_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ga=!1;function EM(t,e){switch(t){case"compositionend":return X_(e);case"keypress":return e.which!==32?null:(_A=!0,kA);case"textInput":return t=e.data,t===kA&&_A?null:t;default:return null}}function kM(t,e){if(Ga)return t==="compositionend"||!GS&&K_(t,e)?(t=q_(),Vd=US=ps=null,Ga=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Y_&&e.locale!=="ko"?null:e.data;default:return null}}var _M={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bA(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!_M[t.type]:e==="textarea"}function Q_(t,e,n,i){P_(i),e=hg(e,"onChange"),0<e.length&&(n=new HS("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Iu=null,yh=null;function bM(t){lb(t,0)}function Tm(t){var e=Ka(t);if(x_(e))return t}function CM(t,e){if(t==="change")return e}var Z_=!1;if(Er){var T0;if(Er){var R0="oninput"in document;if(!R0){var CA=document.createElement("div");CA.setAttribute("oninput","return;"),R0=typeof CA.oninput=="function"}T0=R0}else T0=!1;Z_=T0&&(!document.documentMode||9<document.documentMode)}function PA(){Iu&&(Iu.detachEvent("onpropertychange",J_),yh=Iu=null)}function J_(t){if(t.propertyName==="value"&&Tm(yh)){var e=[];Q_(e,yh,t,FS(t)),L_(bM,e)}}function PM(t,e,n){t==="focusin"?(PA(),Iu=e,yh=n,Iu.attachEvent("onpropertychange",J_)):t==="focusout"&&PA()}function TM(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Tm(yh)}function RM(t,e){if(t==="click")return Tm(e)}function MM(t,e){if(t==="input"||t==="change")return Tm(e)}function LM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var gi=typeof Object.is=="function"?Object.is:LM;function wh(t,e){if(gi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!jv.call(e,r)||!gi(t[r],e[r]))return!1}return!0}function TA(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function RA(t,e){var n=TA(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=TA(n)}}function eb(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?eb(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function tb(){for(var t=window,e=rg();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=rg(t.document)}return e}function qS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function IM(t){var e=tb(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&eb(n.ownerDocument.documentElement,n)){if(i!==null&&qS(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!t.extend&&s>i&&(r=i,i=s,s=r),r=RA(n,s);var o=RA(n,i);r&&o&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),s>i?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var NM=Er&&"documentMode"in document&&11>=document.documentMode,qa=null,r1=null,Nu=null,s1=!1;function MA(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;s1||qa==null||qa!==rg(i)||(i=qa,"selectionStart"in i&&qS(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Nu&&wh(Nu,i)||(Nu=i,i=hg(r1,"onSelect"),0<i.length&&(e=new HS("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=qa)))}function ed(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ya={animationend:ed("Animation","AnimationEnd"),animationiteration:ed("Animation","AnimationIteration"),animationstart:ed("Animation","AnimationStart"),transitionend:ed("Transition","TransitionEnd")},M0={},nb={};Er&&(nb=document.createElement("div").style,"AnimationEvent"in window||(delete Ya.animationend.animation,delete Ya.animationiteration.animation,delete Ya.animationstart.animation),"TransitionEvent"in window||delete Ya.transitionend.transition);function Rm(t){if(M0[t])return M0[t];if(!Ya[t])return t;var e=Ya[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in nb)return M0[t]=e[n];return t}var ib=Rm("animationend"),rb=Rm("animationiteration"),sb=Rm("animationstart"),ob=Rm("transitionend"),ab=new Map,LA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ms(t,e){ab.set(t,e),qo(e,[t])}for(var L0=0;L0<LA.length;L0++){var I0=LA[L0],DM=I0.toLowerCase(),OM=I0[0].toUpperCase()+I0.slice(1);Ms(DM,"on"+OM)}Ms(ib,"onAnimationEnd");Ms(rb,"onAnimationIteration");Ms(sb,"onAnimationStart");Ms("dblclick","onDoubleClick");Ms("focusin","onFocus");Ms("focusout","onBlur");Ms(ob,"onTransitionEnd");jl("onMouseEnter",["mouseout","mouseover"]);jl("onMouseLeave",["mouseout","mouseover"]);jl("onPointerEnter",["pointerout","pointerover"]);jl("onPointerLeave",["pointerout","pointerover"]);qo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qo("onBeforeInput",["compositionend","keypress","textInput","paste"]);qo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$M=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mc));function IA(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,DR(i,e,void 0,t),t.currentTarget=null}function lb(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,h=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;IA(r,a,h),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,h=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;IA(r,a,h),s=l}}}if(og)throw t=e1,og=!1,e1=null,t}function Ue(t,e){var n=e[u1];n===void 0&&(n=e[u1]=new Set);var i=t+"__bubble";n.has(i)||(cb(e,t,2,!1),n.add(i))}function N0(t,e,n){var i=0;e&&(i|=4),cb(n,t,i,e)}var td="_reactListening"+Math.random().toString(36).slice(2);function Sh(t){if(!t[td]){t[td]=!0,m_.forEach(function(n){n!=="selectionchange"&&($M.has(n)||N0(n,!1,t),N0(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[td]||(e[td]=!0,N0("selectionchange",!1,e))}}function cb(t,e,n,i){switch(G_(e)){case 1:var r=QR;break;case 4:r=ZR;break;default:r=zS}n=r.bind(null,e,n,t),r=void 0,!Jv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function D0(t,e,n,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=wo(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}L_(function(){var h=s,u=FS(n),f=[];e:{var p=ab.get(t);if(p!==void 0){var m=HS,y=t;switch(t){case"keypress":if(Gd(n)===0)break e;case"keydown":case"keyup":m=fM;break;case"focusin":y="focus",m=P0;break;case"focusout":y="blur",m=P0;break;case"beforeblur":case"afterblur":m=P0;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=xA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=tM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=mM;break;case ib:case rb:case sb:m=rM;break;case ob:m=yM;break;case"scroll":m=JR;break;case"wheel":m=SM;break;case"copy":case"cut":case"paste":m=oM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=EA}var A=(e&4)!==0,b=!A&&t==="scroll",w=A?p!==null?p+"Capture":null:p;A=[];for(var S=h,E;S!==null;){E=S;var T=E.stateNode;if(E.tag===5&&T!==null&&(E=T,w!==null&&(T=ph(S,w),T!=null&&A.push(xh(S,T,E)))),b)break;S=S.return}0<A.length&&(p=new m(p,y,null,n,u),f.push({event:p,listeners:A}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==Qv&&(y=n.relatedTarget||n.fromElement)&&(wo(y)||y[kr]))break e;if((m||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=h,y=y?wo(y):null,y!==null&&(b=Yo(y),y!==b||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=h),m!==y)){if(A=xA,T="onMouseLeave",w="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(A=EA,T="onPointerLeave",w="onPointerEnter",S="pointer"),b=m==null?p:Ka(m),E=y==null?p:Ka(y),p=new A(T,S+"leave",m,n,u),p.target=b,p.relatedTarget=E,T=null,wo(u)===h&&(A=new A(w,S+"enter",y,n,u),A.target=E,A.relatedTarget=b,T=A),b=T,m&&y)t:{for(A=m,w=y,S=0,E=A;E;E=ta(E))S++;for(E=0,T=w;T;T=ta(T))E++;for(;0<S-E;)A=ta(A),S--;for(;0<E-S;)w=ta(w),E--;for(;S--;){if(A===w||w!==null&&A===w.alternate)break t;A=ta(A),w=ta(w)}A=null}else A=null;m!==null&&NA(f,p,m,A,!1),y!==null&&b!==null&&NA(f,b,y,A,!0)}}e:{if(p=h?Ka(h):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var R=CM;else if(bA(p))if(Z_)R=MM;else{R=TM;var I=PM}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(R=RM);if(R&&(R=R(t,h))){Q_(f,R,n,u);break e}I&&I(t,p,h),t==="focusout"&&(I=p._wrapperState)&&I.controlled&&p.type==="number"&&Gv(p,"number",p.value)}switch(I=h?Ka(h):window,t){case"focusin":(bA(I)||I.contentEditable==="true")&&(qa=I,r1=h,Nu=null);break;case"focusout":Nu=r1=qa=null;break;case"mousedown":s1=!0;break;case"contextmenu":case"mouseup":case"dragend":s1=!1,MA(f,n,u);break;case"selectionchange":if(NM)break;case"keydown":case"keyup":MA(f,n,u)}var M;if(GS)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Ga?K_(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(Y_&&n.locale!=="ko"&&(Ga||C!=="onCompositionStart"?C==="onCompositionEnd"&&Ga&&(M=q_()):(ps=u,US="value"in ps?ps.value:ps.textContent,Ga=!0)),I=hg(h,C),0<I.length&&(C=new AA(C,t,null,n,u),f.push({event:C,listeners:I}),M?C.data=M:(M=X_(n),M!==null&&(C.data=M)))),(M=AM?EM(t,n):kM(t,n))&&(h=hg(h,"onBeforeInput"),0<h.length&&(u=new AA("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:h}),u.data=M))}lb(f,e)})}function xh(t,e,n){return{instance:t,listener:e,currentTarget:n}}function hg(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=ph(t,n),s!=null&&i.unshift(xh(t,s,r)),s=ph(t,e),s!=null&&i.push(xh(t,s,r))),t=t.return}return i}function ta(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function NA(t,e,n,i,r){for(var s=e._reactName,o=[];n!==null&&n!==i;){var a=n,l=a.alternate,h=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&h!==null&&(a=h,r?(l=ph(n,s),l!=null&&o.unshift(xh(n,l,a))):r||(l=ph(n,s),l!=null&&o.push(xh(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var FM=/\r\n?/g,jM=/\u0000|\uFFFD/g;function DA(t){return(typeof t=="string"?t:""+t).replace(FM,`
`).replace(jM,"")}function nd(t,e,n){if(e=DA(e),DA(t)!==e&&n)throw Error(q(425))}function dg(){}var o1=null,a1=null;function l1(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var c1=typeof setTimeout=="function"?setTimeout:void 0,WM=typeof clearTimeout=="function"?clearTimeout:void 0,OA=typeof Promise=="function"?Promise:void 0,BM=typeof queueMicrotask=="function"?queueMicrotask:typeof OA<"u"?function(t){return OA.resolve(null).then(t).catch(zM)}:c1;function zM(t){setTimeout(function(){throw t})}function O0(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),vh(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);vh(e)}function As(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function $A(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var tc=Math.random().toString(36).slice(2),Di="__reactFiber$"+tc,Ah="__reactProps$"+tc,kr="__reactContainer$"+tc,u1="__reactEvents$"+tc,UM="__reactListeners$"+tc,HM="__reactHandles$"+tc;function wo(t){var e=t[Di];if(e)return e;for(var n=t.parentNode;n;){if(e=n[kr]||n[Di]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=$A(t);t!==null;){if(n=t[Di])return n;t=$A(t)}return e}t=n,n=t.parentNode}return null}function Oh(t){return t=t[Di]||t[kr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ka(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(q(33))}function Mm(t){return t[Ah]||null}var h1=[],Xa=-1;function Ls(t){return{current:t}}function Ve(t){0>Xa||(t.current=h1[Xa],h1[Xa]=null,Xa--)}function Be(t,e){Xa++,h1[Xa]=t.current,t.current=e}var Ts={},Zt=Ls(Ts),Sn=Ls(!1),Oo=Ts;function Wl(t,e){var n=t.type.contextTypes;if(!n)return Ts;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in n)r[s]=e[s];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function xn(t){return t=t.childContextTypes,t!=null}function fg(){Ve(Sn),Ve(Zt)}function FA(t,e,n){if(Zt.current!==Ts)throw Error(q(168));Be(Zt,e),Be(Sn,n)}function ub(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(q(108,PR(t)||"Unknown",r));return Qe({},n,i)}function pg(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ts,Oo=Zt.current,Be(Zt,t),Be(Sn,Sn.current),!0}function jA(t,e,n){var i=t.stateNode;if(!i)throw Error(q(169));n?(t=ub(t,e,Oo),i.__reactInternalMemoizedMergedChildContext=t,Ve(Sn),Ve(Zt),Be(Zt,t)):Ve(Sn),Be(Sn,n)}var cr=null,Lm=!1,$0=!1;function hb(t){cr===null?cr=[t]:cr.push(t)}function VM(t){Lm=!0,hb(t)}function Is(){if(!$0&&cr!==null){$0=!0;var t=0,e=Ie;try{var n=cr;for(Ie=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}cr=null,Lm=!1}catch(r){throw cr!==null&&(cr=cr.slice(t+1)),O_(jS,Is),r}finally{Ie=e,$0=!1}}return null}var Qa=[],Za=0,gg=null,mg=0,Yn=[],Kn=0,$o=null,vr=1,yr="";function Hs(t,e){Qa[Za++]=mg,Qa[Za++]=gg,gg=t,mg=e}function db(t,e,n){Yn[Kn++]=vr,Yn[Kn++]=yr,Yn[Kn++]=$o,$o=t;var i=vr;t=yr;var r=32-di(i)-1;i&=~(1<<r),n+=1;var s=32-di(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,vr=1<<32-di(e)+r|n<<r|i,yr=s+t}else vr=1<<s|n<<r|i,yr=t}function YS(t){t.return!==null&&(Hs(t,1),db(t,1,0))}function KS(t){for(;t===gg;)gg=Qa[--Za],Qa[Za]=null,mg=Qa[--Za],Qa[Za]=null;for(;t===$o;)$o=Yn[--Kn],Yn[Kn]=null,yr=Yn[--Kn],Yn[Kn]=null,vr=Yn[--Kn],Yn[Kn]=null}var Mn=null,Tn=null,qe=!1,ui=null;function fb(t,e){var n=Xn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function WA(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Mn=t,Tn=As(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Mn=t,Tn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=$o!==null?{id:vr,overflow:yr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Xn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Mn=t,Tn=null,!0):!1;default:return!1}}function d1(t){return(t.mode&1)!==0&&(t.flags&128)===0}function f1(t){if(qe){var e=Tn;if(e){var n=e;if(!WA(t,e)){if(d1(t))throw Error(q(418));e=As(n.nextSibling);var i=Mn;e&&WA(t,e)?fb(i,n):(t.flags=t.flags&-4097|2,qe=!1,Mn=t)}}else{if(d1(t))throw Error(q(418));t.flags=t.flags&-4097|2,qe=!1,Mn=t}}}function BA(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Mn=t}function id(t){if(t!==Mn)return!1;if(!qe)return BA(t),qe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!l1(t.type,t.memoizedProps)),e&&(e=Tn)){if(d1(t))throw pb(),Error(q(418));for(;e;)fb(t,e),e=As(e.nextSibling)}if(BA(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Tn=As(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Tn=null}}else Tn=Mn?As(t.stateNode.nextSibling):null;return!0}function pb(){for(var t=Tn;t;)t=As(t.nextSibling)}function Bl(){Tn=Mn=null,qe=!1}function XS(t){ui===null?ui=[t]:ui.push(t)}var GM=Tr.ReactCurrentBatchConfig;function uc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(q(309));var i=n.stateNode}if(!i)throw Error(q(147,t));var r=i,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(q(284));if(!n._owner)throw Error(q(290,t))}return t}function rd(t,e){throw t=Object.prototype.toString.call(e),Error(q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function zA(t){var e=t._init;return e(t._payload)}function gb(t){function e(w,S){if(t){var E=w.deletions;E===null?(w.deletions=[S],w.flags|=16):E.push(S)}}function n(w,S){if(!t)return null;for(;S!==null;)e(w,S),S=S.sibling;return null}function i(w,S){for(w=new Map;S!==null;)S.key!==null?w.set(S.key,S):w.set(S.index,S),S=S.sibling;return w}function r(w,S){return w=bs(w,S),w.index=0,w.sibling=null,w}function s(w,S,E){return w.index=E,t?(E=w.alternate,E!==null?(E=E.index,E<S?(w.flags|=2,S):E):(w.flags|=2,S)):(w.flags|=1048576,S)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,S,E,T){return S===null||S.tag!==6?(S=H0(E,w.mode,T),S.return=w,S):(S=r(S,E),S.return=w,S)}function l(w,S,E,T){var R=E.type;return R===Va?u(w,S,E.props.children,T,E.key):S!==null&&(S.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Kr&&zA(R)===S.type)?(T=r(S,E.props),T.ref=uc(w,S,E),T.return=w,T):(T=Jd(E.type,E.key,E.props,null,w.mode,T),T.ref=uc(w,S,E),T.return=w,T)}function h(w,S,E,T){return S===null||S.tag!==4||S.stateNode.containerInfo!==E.containerInfo||S.stateNode.implementation!==E.implementation?(S=V0(E,w.mode,T),S.return=w,S):(S=r(S,E.children||[]),S.return=w,S)}function u(w,S,E,T,R){return S===null||S.tag!==7?(S=Io(E,w.mode,T,R),S.return=w,S):(S=r(S,E),S.return=w,S)}function f(w,S,E){if(typeof S=="string"&&S!==""||typeof S=="number")return S=H0(""+S,w.mode,E),S.return=w,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case qh:return E=Jd(S.type,S.key,S.props,null,w.mode,E),E.ref=uc(w,null,S),E.return=w,E;case Ha:return S=V0(S,w.mode,E),S.return=w,S;case Kr:var T=S._init;return f(w,T(S._payload),E)}if(Tc(S)||sc(S))return S=Io(S,w.mode,E,null),S.return=w,S;rd(w,S)}return null}function p(w,S,E,T){var R=S!==null?S.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return R!==null?null:a(w,S,""+E,T);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case qh:return E.key===R?l(w,S,E,T):null;case Ha:return E.key===R?h(w,S,E,T):null;case Kr:return R=E._init,p(w,S,R(E._payload),T)}if(Tc(E)||sc(E))return R!==null?null:u(w,S,E,T,null);rd(w,E)}return null}function m(w,S,E,T,R){if(typeof T=="string"&&T!==""||typeof T=="number")return w=w.get(E)||null,a(S,w,""+T,R);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case qh:return w=w.get(T.key===null?E:T.key)||null,l(S,w,T,R);case Ha:return w=w.get(T.key===null?E:T.key)||null,h(S,w,T,R);case Kr:var I=T._init;return m(w,S,E,I(T._payload),R)}if(Tc(T)||sc(T))return w=w.get(E)||null,u(S,w,T,R,null);rd(S,T)}return null}function y(w,S,E,T){for(var R=null,I=null,M=S,C=S=0,P=null;M!==null&&C<E.length;C++){M.index>C?(P=M,M=null):P=M.sibling;var N=p(w,M,E[C],T);if(N===null){M===null&&(M=P);break}t&&M&&N.alternate===null&&e(w,M),S=s(N,S,C),I===null?R=N:I.sibling=N,I=N,M=P}if(C===E.length)return n(w,M),qe&&Hs(w,C),R;if(M===null){for(;C<E.length;C++)M=f(w,E[C],T),M!==null&&(S=s(M,S,C),I===null?R=M:I.sibling=M,I=M);return qe&&Hs(w,C),R}for(M=i(w,M);C<E.length;C++)P=m(M,w,C,E[C],T),P!==null&&(t&&P.alternate!==null&&M.delete(P.key===null?C:P.key),S=s(P,S,C),I===null?R=P:I.sibling=P,I=P);return t&&M.forEach(function($){return e(w,$)}),qe&&Hs(w,C),R}function A(w,S,E,T){var R=sc(E);if(typeof R!="function")throw Error(q(150));if(E=R.call(E),E==null)throw Error(q(151));for(var I=R=null,M=S,C=S=0,P=null,N=E.next();M!==null&&!N.done;C++,N=E.next()){M.index>C?(P=M,M=null):P=M.sibling;var $=p(w,M,N.value,T);if($===null){M===null&&(M=P);break}t&&M&&$.alternate===null&&e(w,M),S=s($,S,C),I===null?R=$:I.sibling=$,I=$,M=P}if(N.done)return n(w,M),qe&&Hs(w,C),R;if(M===null){for(;!N.done;C++,N=E.next())N=f(w,N.value,T),N!==null&&(S=s(N,S,C),I===null?R=N:I.sibling=N,I=N);return qe&&Hs(w,C),R}for(M=i(w,M);!N.done;C++,N=E.next())N=m(M,w,C,N.value,T),N!==null&&(t&&N.alternate!==null&&M.delete(N.key===null?C:N.key),S=s(N,S,C),I===null?R=N:I.sibling=N,I=N);return t&&M.forEach(function(z){return e(w,z)}),qe&&Hs(w,C),R}function b(w,S,E,T){if(typeof E=="object"&&E!==null&&E.type===Va&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case qh:e:{for(var R=E.key,I=S;I!==null;){if(I.key===R){if(R=E.type,R===Va){if(I.tag===7){n(w,I.sibling),S=r(I,E.props.children),S.return=w,w=S;break e}}else if(I.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Kr&&zA(R)===I.type){n(w,I.sibling),S=r(I,E.props),S.ref=uc(w,I,E),S.return=w,w=S;break e}n(w,I);break}else e(w,I);I=I.sibling}E.type===Va?(S=Io(E.props.children,w.mode,T,E.key),S.return=w,w=S):(T=Jd(E.type,E.key,E.props,null,w.mode,T),T.ref=uc(w,S,E),T.return=w,w=T)}return o(w);case Ha:e:{for(I=E.key;S!==null;){if(S.key===I)if(S.tag===4&&S.stateNode.containerInfo===E.containerInfo&&S.stateNode.implementation===E.implementation){n(w,S.sibling),S=r(S,E.children||[]),S.return=w,w=S;break e}else{n(w,S);break}else e(w,S);S=S.sibling}S=V0(E,w.mode,T),S.return=w,w=S}return o(w);case Kr:return I=E._init,b(w,S,I(E._payload),T)}if(Tc(E))return y(w,S,E,T);if(sc(E))return A(w,S,E,T);rd(w,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,S!==null&&S.tag===6?(n(w,S.sibling),S=r(S,E),S.return=w,w=S):(n(w,S),S=H0(E,w.mode,T),S.return=w,w=S),o(w)):n(w,S)}return b}var zl=gb(!0),mb=gb(!1),vg=Ls(null),yg=null,Ja=null,QS=null;function ZS(){QS=Ja=yg=null}function JS(t){var e=vg.current;Ve(vg),t._currentValue=e}function p1(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function El(t,e){yg=t,QS=Ja=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(wn=!0),t.firstContext=null)}function Jn(t){var e=t._currentValue;if(QS!==t)if(t={context:t,memoizedValue:e,next:null},Ja===null){if(yg===null)throw Error(q(308));Ja=t,yg.dependencies={lanes:0,firstContext:t}}else Ja=Ja.next=t;return e}var So=null;function ex(t){So===null?So=[t]:So.push(t)}function vb(t,e,n,i){var r=e.interleaved;return r===null?(n.next=n,ex(e)):(n.next=r.next,r.next=n),e.interleaved=n,_r(t,i)}function _r(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Xr=!1;function tx(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yb(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function xr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Es(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,Te&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,_r(t,n)}return r=i.interleaved,r===null?(e.next=e,ex(i)):(e.next=r.next,r.next=e),i.interleaved=e,_r(t,n)}function qd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,WS(t,n)}}function UA(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?r=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?r=s=e:s=s.next=e}else r=s=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function wg(t,e,n,i){var r=t.updateQueue;Xr=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,h=l.next;l.next=null,o===null?s=h:o.next=h,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=h:a.next=h,u.lastBaseUpdate=l))}if(s!==null){var f=r.baseState;o=0,u=h=l=null,a=s;do{var p=a.lane,m=a.eventTime;if((i&p)===p){u!==null&&(u=u.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,A=a;switch(p=e,m=n,A.tag){case 1:if(y=A.payload,typeof y=="function"){f=y.call(m,f,p);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=A.payload,p=typeof y=="function"?y.call(m,f,p):y,p==null)break e;f=Qe({},f,p);break e;case 2:Xr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=r.effects,p===null?r.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(h=u=m,l=f):u=u.next=m,o|=p;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;p=a,a=p.next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}while(!0);if(u===null&&(l=f),r.baseState=l,r.firstBaseUpdate=h,r.lastBaseUpdate=u,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);jo|=o,t.lanes=o,t.memoizedState=f}}function HA(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(q(191,r));r.call(i)}}}var $h={},ji=Ls($h),Eh=Ls($h),kh=Ls($h);function xo(t){if(t===$h)throw Error(q(174));return t}function nx(t,e){switch(Be(kh,e),Be(Eh,t),Be(ji,$h),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Yv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Yv(e,t)}Ve(ji),Be(ji,e)}function Ul(){Ve(ji),Ve(Eh),Ve(kh)}function wb(t){xo(kh.current);var e=xo(ji.current),n=Yv(e,t.type);e!==n&&(Be(Eh,t),Be(ji,n))}function ix(t){Eh.current===t&&(Ve(ji),Ve(Eh))}var Ke=Ls(0);function Sg(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var F0=[];function rx(){for(var t=0;t<F0.length;t++)F0[t]._workInProgressVersionPrimary=null;F0.length=0}var Yd=Tr.ReactCurrentDispatcher,j0=Tr.ReactCurrentBatchConfig,Fo=0,Xe=null,dt=null,kt=null,xg=!1,Du=!1,_h=0,qM=0;function Dt(){throw Error(q(321))}function sx(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!gi(t[n],e[n]))return!1;return!0}function ox(t,e,n,i,r,s){if(Fo=s,Xe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Yd.current=t===null||t.memoizedState===null?QM:ZM,t=n(i,r),Du){s=0;do{if(Du=!1,_h=0,25<=s)throw Error(q(301));s+=1,kt=dt=null,e.updateQueue=null,Yd.current=JM,t=n(i,r)}while(Du)}if(Yd.current=Ag,e=dt!==null&&dt.next!==null,Fo=0,kt=dt=Xe=null,xg=!1,e)throw Error(q(300));return t}function ax(){var t=_h!==0;return _h=0,t}function Ai(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?Xe.memoizedState=kt=t:kt=kt.next=t,kt}function ei(){if(dt===null){var t=Xe.alternate;t=t!==null?t.memoizedState:null}else t=dt.next;var e=kt===null?Xe.memoizedState:kt.next;if(e!==null)kt=e,dt=t;else{if(t===null)throw Error(q(310));dt=t,t={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},kt===null?Xe.memoizedState=kt=t:kt=kt.next=t}return kt}function bh(t,e){return typeof e=="function"?e(t):e}function W0(t){var e=ei(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var i=dt,r=i.baseQueue,s=n.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,n.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,h=s;do{var u=h.lane;if((Fo&u)===u)l!==null&&(l=l.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),i=h.hasEagerState?h.eagerState:t(i,h.action);else{var f={lane:u,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};l===null?(a=l=f,o=i):l=l.next=f,Xe.lanes|=u,jo|=u}h=h.next}while(h!==null&&h!==s);l===null?o=i:l.next=a,gi(i,e.memoizedState)||(wn=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,n.lastRenderedState=i}if(t=n.interleaved,t!==null){r=t;do s=r.lane,Xe.lanes|=s,jo|=s,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function B0(t){var e=ei(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,s=e.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do s=t(s,o.action),o=o.next;while(o!==r);gi(s,e.memoizedState)||(wn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function Sb(){}function xb(t,e){var n=Xe,i=ei(),r=e(),s=!gi(i.memoizedState,r);if(s&&(i.memoizedState=r,wn=!0),i=i.queue,lx(kb.bind(null,n,i,t),[t]),i.getSnapshot!==e||s||kt!==null&&kt.memoizedState.tag&1){if(n.flags|=2048,Ch(9,Eb.bind(null,n,i,r,e),void 0,null),bt===null)throw Error(q(349));Fo&30||Ab(n,e,r)}return r}function Ab(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Xe.updateQueue,e===null?(e={lastEffect:null,stores:null},Xe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Eb(t,e,n,i){e.value=n,e.getSnapshot=i,_b(e)&&bb(t)}function kb(t,e,n){return n(function(){_b(e)&&bb(t)})}function _b(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!gi(t,n)}catch{return!0}}function bb(t){var e=_r(t,1);e!==null&&fi(e,t,1,-1)}function VA(t){var e=Ai();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bh,lastRenderedState:t},e.queue=t,t=t.dispatch=XM.bind(null,Xe,t),[e.memoizedState,t]}function Ch(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=Xe.updateQueue,e===null?(e={lastEffect:null,stores:null},Xe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function Cb(){return ei().memoizedState}function Kd(t,e,n,i){var r=Ai();Xe.flags|=t,r.memoizedState=Ch(1|e,n,void 0,i===void 0?null:i)}function Im(t,e,n,i){var r=ei();i=i===void 0?null:i;var s=void 0;if(dt!==null){var o=dt.memoizedState;if(s=o.destroy,i!==null&&sx(i,o.deps)){r.memoizedState=Ch(e,n,s,i);return}}Xe.flags|=t,r.memoizedState=Ch(1|e,n,s,i)}function GA(t,e){return Kd(8390656,8,t,e)}function lx(t,e){return Im(2048,8,t,e)}function Pb(t,e){return Im(4,2,t,e)}function Tb(t,e){return Im(4,4,t,e)}function Rb(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Mb(t,e,n){return n=n!=null?n.concat([t]):null,Im(4,4,Rb.bind(null,e,t),n)}function cx(){}function Lb(t,e){var n=ei();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&sx(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function Ib(t,e){var n=ei();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&sx(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function Nb(t,e,n){return Fo&21?(gi(n,e)||(n=j_(),Xe.lanes|=n,jo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,wn=!0),t.memoizedState=n)}function YM(t,e){var n=Ie;Ie=n!==0&&4>n?n:4,t(!0);var i=j0.transition;j0.transition={};try{t(!1),e()}finally{Ie=n,j0.transition=i}}function Db(){return ei().memoizedState}function KM(t,e,n){var i=_s(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Ob(t))$b(e,n);else if(n=vb(t,e,n,i),n!==null){var r=on();fi(n,t,i,r),Fb(n,e,i)}}function XM(t,e,n){var i=_s(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ob(t))$b(e,r);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(r.hasEagerState=!0,r.eagerState=a,gi(a,o)){var l=e.interleaved;l===null?(r.next=r,ex(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}n=vb(t,e,r,i),n!==null&&(r=on(),fi(n,t,i,r),Fb(n,e,i))}}function Ob(t){var e=t.alternate;return t===Xe||e!==null&&e===Xe}function $b(t,e){Du=xg=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Fb(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,WS(t,n)}}var Ag={readContext:Jn,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useInsertionEffect:Dt,useLayoutEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useMutableSource:Dt,useSyncExternalStore:Dt,useId:Dt,unstable_isNewReconciler:!1},QM={readContext:Jn,useCallback:function(t,e){return Ai().memoizedState=[t,e===void 0?null:e],t},useContext:Jn,useEffect:GA,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Kd(4194308,4,Rb.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Kd(4194308,4,t,e)},useInsertionEffect:function(t,e){return Kd(4,2,t,e)},useMemo:function(t,e){var n=Ai();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=Ai();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=KM.bind(null,Xe,t),[i.memoizedState,t]},useRef:function(t){var e=Ai();return t={current:t},e.memoizedState=t},useState:VA,useDebugValue:cx,useDeferredValue:function(t){return Ai().memoizedState=t},useTransition:function(){var t=VA(!1),e=t[0];return t=YM.bind(null,t[1]),Ai().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=Xe,r=Ai();if(qe){if(n===void 0)throw Error(q(407));n=n()}else{if(n=e(),bt===null)throw Error(q(349));Fo&30||Ab(i,e,n)}r.memoizedState=n;var s={value:n,getSnapshot:e};return r.queue=s,GA(kb.bind(null,i,s,t),[t]),i.flags|=2048,Ch(9,Eb.bind(null,i,s,n,e),void 0,null),n},useId:function(){var t=Ai(),e=bt.identifierPrefix;if(qe){var n=yr,i=vr;n=(i&~(1<<32-di(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=_h++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=qM++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ZM={readContext:Jn,useCallback:Lb,useContext:Jn,useEffect:lx,useImperativeHandle:Mb,useInsertionEffect:Pb,useLayoutEffect:Tb,useMemo:Ib,useReducer:W0,useRef:Cb,useState:function(){return W0(bh)},useDebugValue:cx,useDeferredValue:function(t){var e=ei();return Nb(e,dt.memoizedState,t)},useTransition:function(){var t=W0(bh)[0],e=ei().memoizedState;return[t,e]},useMutableSource:Sb,useSyncExternalStore:xb,useId:Db,unstable_isNewReconciler:!1},JM={readContext:Jn,useCallback:Lb,useContext:Jn,useEffect:lx,useImperativeHandle:Mb,useInsertionEffect:Pb,useLayoutEffect:Tb,useMemo:Ib,useReducer:B0,useRef:Cb,useState:function(){return B0(bh)},useDebugValue:cx,useDeferredValue:function(t){var e=ei();return dt===null?e.memoizedState=t:Nb(e,dt.memoizedState,t)},useTransition:function(){var t=B0(bh)[0],e=ei().memoizedState;return[t,e]},useMutableSource:Sb,useSyncExternalStore:xb,useId:Db,unstable_isNewReconciler:!1};function oi(t,e){if(t&&t.defaultProps){e=Qe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function g1(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Qe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Nm={isMounted:function(t){return(t=t._reactInternals)?Yo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=on(),r=_s(t),s=xr(i,r);s.payload=e,n!=null&&(s.callback=n),e=Es(t,s,r),e!==null&&(fi(e,t,r,i),qd(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=on(),r=_s(t),s=xr(i,r);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Es(t,s,r),e!==null&&(fi(e,t,r,i),qd(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=on(),i=_s(t),r=xr(n,i);r.tag=2,e!=null&&(r.callback=e),e=Es(t,r,i),e!==null&&(fi(e,t,i,n),qd(e,t,i))}};function qA(t,e,n,i,r,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!wh(n,i)||!wh(r,s):!0}function jb(t,e,n){var i=!1,r=Ts,s=e.contextType;return typeof s=="object"&&s!==null?s=Jn(s):(r=xn(e)?Oo:Zt.current,i=e.contextTypes,s=(i=i!=null)?Wl(t,r):Ts),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Nm,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=s),e}function YA(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Nm.enqueueReplaceState(e,e.state,null)}function m1(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},tx(t);var s=e.contextType;typeof s=="object"&&s!==null?r.context=Jn(s):(s=xn(e)?Oo:Zt.current,r.context=Wl(t,s)),r.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(g1(t,e,s,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Nm.enqueueReplaceState(r,r.state,null),wg(t,n,r,i),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function Hl(t,e){try{var n="",i=e;do n+=CR(i),i=i.return;while(i);var r=n}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:r,digest:null}}function z0(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function v1(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var eL=typeof WeakMap=="function"?WeakMap:Map;function Wb(t,e,n){n=xr(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){kg||(kg=!0,C1=i),v1(t,e)},n}function Bb(t,e,n){n=xr(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){v1(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){v1(t,e),typeof i!="function"&&(ks===null?ks=new Set([this]):ks.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function KA(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new eL;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=pL.bind(null,t,e,n),e.then(t,t))}function XA(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function QA(t,e,n,i,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=xr(-1,1),e.tag=2,Es(n,e,1))),n.lanes|=1),t)}var tL=Tr.ReactCurrentOwner,wn=!1;function rn(t,e,n,i){e.child=t===null?mb(e,null,n,i):zl(e,t.child,n,i)}function ZA(t,e,n,i,r){n=n.render;var s=e.ref;return El(e,r),i=ox(t,e,n,i,s,r),n=ax(),t!==null&&!wn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,br(t,e,r)):(qe&&n&&YS(e),e.flags|=1,rn(t,e,i,r),e.child)}function JA(t,e,n,i,r){if(t===null){var s=n.type;return typeof s=="function"&&!vx(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,zb(t,e,s,i,r)):(t=Jd(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&r)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:wh,n(o,i)&&t.ref===e.ref)return br(t,e,r)}return e.flags|=1,t=bs(s,i),t.ref=e.ref,t.return=e,e.child=t}function zb(t,e,n,i,r){if(t!==null){var s=t.memoizedProps;if(wh(s,i)&&t.ref===e.ref)if(wn=!1,e.pendingProps=i=s,(t.lanes&r)!==0)t.flags&131072&&(wn=!0);else return e.lanes=t.lanes,br(t,e,r)}return y1(t,e,n,i,r)}function Ub(t,e,n){var i=e.pendingProps,r=i.children,s=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Be(tl,Pn),Pn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Be(tl,Pn),Pn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:n,Be(tl,Pn),Pn|=i}else s!==null?(i=s.baseLanes|n,e.memoizedState=null):i=n,Be(tl,Pn),Pn|=i;return rn(t,e,r,n),e.child}function Hb(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function y1(t,e,n,i,r){var s=xn(n)?Oo:Zt.current;return s=Wl(e,s),El(e,r),n=ox(t,e,n,i,s,r),i=ax(),t!==null&&!wn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,br(t,e,r)):(qe&&i&&YS(e),e.flags|=1,rn(t,e,n,r),e.child)}function eE(t,e,n,i,r){if(xn(n)){var s=!0;pg(e)}else s=!1;if(El(e,r),e.stateNode===null)Xd(t,e),jb(e,n,i),m1(e,n,i,r),i=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,h=n.contextType;typeof h=="object"&&h!==null?h=Jn(h):(h=xn(n)?Oo:Zt.current,h=Wl(e,h));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==h)&&YA(e,o,i,h),Xr=!1;var p=e.memoizedState;o.state=p,wg(e,i,o,r),l=e.memoizedState,a!==i||p!==l||Sn.current||Xr?(typeof u=="function"&&(g1(e,n,u,i),l=e.memoizedState),(a=Xr||qA(e,n,a,i,p,l,h))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=h,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,yb(t,e),a=e.memoizedProps,h=e.type===e.elementType?a:oi(e.type,a),o.props=h,f=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Jn(l):(l=xn(n)?Oo:Zt.current,l=Wl(e,l));var m=n.getDerivedStateFromProps;(u=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==l)&&YA(e,o,i,l),Xr=!1,p=e.memoizedState,o.state=p,wg(e,i,o,r);var y=e.memoizedState;a!==f||p!==y||Sn.current||Xr?(typeof m=="function"&&(g1(e,n,m,i),y=e.memoizedState),(h=Xr||qA(e,n,h,i,p,y,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=y),o.props=i,o.state=y,o.context=l,i=h):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),i=!1)}return w1(t,e,n,i,s,r)}function w1(t,e,n,i,r,s){Hb(t,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&jA(e,n,!1),br(t,e,s);i=e.stateNode,tL.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&o?(e.child=zl(e,t.child,null,s),e.child=zl(e,null,a,s)):rn(t,e,a,s),e.memoizedState=i.state,r&&jA(e,n,!0),e.child}function Vb(t){var e=t.stateNode;e.pendingContext?FA(t,e.pendingContext,e.pendingContext!==e.context):e.context&&FA(t,e.context,!1),nx(t,e.containerInfo)}function tE(t,e,n,i,r){return Bl(),XS(r),e.flags|=256,rn(t,e,n,i),e.child}var S1={dehydrated:null,treeContext:null,retryLane:0};function x1(t){return{baseLanes:t,cachePool:null,transitions:null}}function Gb(t,e,n){var i=e.pendingProps,r=Ke.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),Be(Ke,r&1),t===null)return f1(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,t=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=$m(o,i,0,null),t=Io(t,i,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=x1(n),e.memoizedState=S1,t):ux(e,o));if(r=t.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return nL(t,e,o,i,a,r,n);if(s){s=i.fallback,o=e.mode,r=t.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=bs(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=bs(a,s):(s=Io(s,o,n,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=t.child.memoizedState,o=o===null?x1(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=S1,i}return s=t.child,t=s.sibling,i=bs(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function ux(t,e){return e=$m({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function sd(t,e,n,i){return i!==null&&XS(i),zl(e,t.child,null,n),t=ux(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function nL(t,e,n,i,r,s,o){if(n)return e.flags&256?(e.flags&=-257,i=z0(Error(q(422))),sd(t,e,o,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=$m({mode:"visible",children:i.children},r,0,null),s=Io(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&zl(e,t.child,null,o),e.child.memoizedState=x1(o),e.memoizedState=S1,s);if(!(e.mode&1))return sd(t,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(q(419)),i=z0(s,i,void 0),sd(t,e,o,i)}if(a=(o&t.childLanes)!==0,wn||a){if(i=bt,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,_r(t,r),fi(i,t,r,-1))}return mx(),i=z0(Error(q(421))),sd(t,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=gL.bind(null,t),r._reactRetry=e,null):(t=s.treeContext,Tn=As(r.nextSibling),Mn=e,qe=!0,ui=null,t!==null&&(Yn[Kn++]=vr,Yn[Kn++]=yr,Yn[Kn++]=$o,vr=t.id,yr=t.overflow,$o=e),e=ux(e,i.children),e.flags|=4096,e)}function nE(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),p1(t.return,e,n)}function U0(t,e,n,i,r){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function qb(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(rn(t,e,i.children,n),i=Ke.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&nE(t,n,e);else if(t.tag===19)nE(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(Be(Ke,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Sg(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),U0(e,!1,r,n,s);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Sg(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}U0(e,!0,n,null,s);break;case"together":U0(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Xd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function br(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),jo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(q(153));if(e.child!==null){for(t=e.child,n=bs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=bs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function iL(t,e,n){switch(e.tag){case 3:Vb(e),Bl();break;case 5:wb(e);break;case 1:xn(e.type)&&pg(e);break;case 4:nx(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Be(vg,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Be(Ke,Ke.current&1),e.flags|=128,null):n&e.child.childLanes?Gb(t,e,n):(Be(Ke,Ke.current&1),t=br(t,e,n),t!==null?t.sibling:null);Be(Ke,Ke.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return qb(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Be(Ke,Ke.current),i)break;return null;case 22:case 23:return e.lanes=0,Ub(t,e,n)}return br(t,e,n)}var Yb,A1,Kb,Xb;Yb=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};A1=function(){};Kb=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,xo(ji.current);var s=null;switch(n){case"input":r=Hv(t,r),i=Hv(t,i),s=[];break;case"select":r=Qe({},r,{value:void 0}),i=Qe({},i,{value:void 0}),s=[];break;case"textarea":r=qv(t,r),i=qv(t,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=dg)}Kv(n,i);var o;n=null;for(h in r)if(!i.hasOwnProperty(h)&&r.hasOwnProperty(h)&&r[h]!=null)if(h==="style"){var a=r[h];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(dh.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in i){var l=i[h];if(a=r!=null?r[h]:void 0,i.hasOwnProperty(h)&&l!==a&&(l!=null||a!=null))if(h==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(h,n)),n=l;else h==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(h,l)):h==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(h,""+l):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(dh.hasOwnProperty(h)?(l!=null&&h==="onScroll"&&Ue("scroll",t),s||a===l||(s=[])):(s=s||[]).push(h,l))}n&&(s=s||[]).push("style",n);var h=s;(e.updateQueue=h)&&(e.flags|=4)}};Xb=function(t,e,n,i){n!==i&&(e.flags|=4)};function hc(t,e){if(!qe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Ot(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function rL(t,e,n){var i=e.pendingProps;switch(KS(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(e),null;case 1:return xn(e.type)&&fg(),Ot(e),null;case 3:return i=e.stateNode,Ul(),Ve(Sn),Ve(Zt),rx(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(id(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ui!==null&&(R1(ui),ui=null))),A1(t,e),Ot(e),null;case 5:ix(e);var r=xo(kh.current);if(n=e.type,t!==null&&e.stateNode!=null)Kb(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(q(166));return Ot(e),null}if(t=xo(ji.current),id(e)){i=e.stateNode,n=e.type;var s=e.memoizedProps;switch(i[Di]=e,i[Ah]=s,t=(e.mode&1)!==0,n){case"dialog":Ue("cancel",i),Ue("close",i);break;case"iframe":case"object":case"embed":Ue("load",i);break;case"video":case"audio":for(r=0;r<Mc.length;r++)Ue(Mc[r],i);break;case"source":Ue("error",i);break;case"img":case"image":case"link":Ue("error",i),Ue("load",i);break;case"details":Ue("toggle",i);break;case"input":hA(i,s),Ue("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Ue("invalid",i);break;case"textarea":fA(i,s),Ue("invalid",i)}Kv(n,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&nd(i.textContent,a,t),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&nd(i.textContent,a,t),r=["children",""+a]):dh.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ue("scroll",i)}switch(n){case"input":Yh(i),dA(i,s,!0);break;case"textarea":Yh(i),pA(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=dg)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=k_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=o.createElement(n,{is:i.is}):(t=o.createElement(n),n==="select"&&(o=t,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):t=o.createElementNS(t,n),t[Di]=e,t[Ah]=i,Yb(t,e,!1,!1),e.stateNode=t;e:{switch(o=Xv(n,i),n){case"dialog":Ue("cancel",t),Ue("close",t),r=i;break;case"iframe":case"object":case"embed":Ue("load",t),r=i;break;case"video":case"audio":for(r=0;r<Mc.length;r++)Ue(Mc[r],t);r=i;break;case"source":Ue("error",t),r=i;break;case"img":case"image":case"link":Ue("error",t),Ue("load",t),r=i;break;case"details":Ue("toggle",t),r=i;break;case"input":hA(t,i),r=Hv(t,i),Ue("invalid",t);break;case"option":r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=Qe({},i,{value:void 0}),Ue("invalid",t);break;case"textarea":fA(t,i),r=qv(t,i),Ue("invalid",t);break;default:r=i}Kv(n,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?C_(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&__(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&fh(t,l):typeof l=="number"&&fh(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(dh.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ue("scroll",t):l!=null&&NS(t,s,l,o))}switch(n){case"input":Yh(t),dA(t,i,!1);break;case"textarea":Yh(t),pA(t);break;case"option":i.value!=null&&t.setAttribute("value",""+Ps(i.value));break;case"select":t.multiple=!!i.multiple,s=i.value,s!=null?wl(t,!!i.multiple,s,!1):i.defaultValue!=null&&wl(t,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=dg)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ot(e),null;case 6:if(t&&e.stateNode!=null)Xb(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(q(166));if(n=xo(kh.current),xo(ji.current),id(e)){if(i=e.stateNode,n=e.memoizedProps,i[Di]=e,(s=i.nodeValue!==n)&&(t=Mn,t!==null))switch(t.tag){case 3:nd(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&nd(i.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Di]=e,e.stateNode=i}return Ot(e),null;case 13:if(Ve(Ke),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(qe&&Tn!==null&&e.mode&1&&!(e.flags&128))pb(),Bl(),e.flags|=98560,s=!1;else if(s=id(e),i!==null&&i.dehydrated!==null){if(t===null){if(!s)throw Error(q(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(q(317));s[Di]=e}else Bl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ot(e),s=!1}else ui!==null&&(R1(ui),ui=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||Ke.current&1?pt===0&&(pt=3):mx())),e.updateQueue!==null&&(e.flags|=4),Ot(e),null);case 4:return Ul(),A1(t,e),t===null&&Sh(e.stateNode.containerInfo),Ot(e),null;case 10:return JS(e.type._context),Ot(e),null;case 17:return xn(e.type)&&fg(),Ot(e),null;case 19:if(Ve(Ke),s=e.memoizedState,s===null)return Ot(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)hc(s,!1);else{if(pt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Sg(t),o!==null){for(e.flags|=128,hc(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)s=n,t=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Be(Ke,Ke.current&1|2),e.child}t=t.sibling}s.tail!==null&&it()>Vl&&(e.flags|=128,i=!0,hc(s,!1),e.lanes=4194304)}else{if(!i)if(t=Sg(o),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),hc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!qe)return Ot(e),null}else 2*it()-s.renderingStartTime>Vl&&n!==1073741824&&(e.flags|=128,i=!0,hc(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=it(),e.sibling=null,n=Ke.current,Be(Ke,i?n&1|2:n&1),e):(Ot(e),null);case 22:case 23:return gx(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Pn&1073741824&&(Ot(e),e.subtreeFlags&6&&(e.flags|=8192)):Ot(e),null;case 24:return null;case 25:return null}throw Error(q(156,e.tag))}function sL(t,e){switch(KS(e),e.tag){case 1:return xn(e.type)&&fg(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ul(),Ve(Sn),Ve(Zt),rx(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ix(e),null;case 13:if(Ve(Ke),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(q(340));Bl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ve(Ke),null;case 4:return Ul(),null;case 10:return JS(e.type._context),null;case 22:case 23:return gx(),null;case 24:return null;default:return null}}var od=!1,Yt=!1,oL=typeof WeakSet=="function"?WeakSet:Set,J=null;function el(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){tt(t,e,i)}else n.current=null}function E1(t,e,n){try{n()}catch(i){tt(t,e,i)}}var iE=!1;function aL(t,e){if(o1=cg,t=tb(),qS(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,h=0,u=0,f=t,p=null;t:for(;;){for(var m;f!==n||r!==0&&f.nodeType!==3||(a=o+r),f!==s||i!==0&&f.nodeType!==3||(l=o+i),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===t)break t;if(p===n&&++h===r&&(a=o),p===s&&++u===i&&(l=o),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(a1={focusedElem:t,selectionRange:n},cg=!1,J=e;J!==null;)if(e=J,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,J=t;else for(;J!==null;){e=J;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var A=y.memoizedProps,b=y.memoizedState,w=e.stateNode,S=w.getSnapshotBeforeUpdate(e.elementType===e.type?A:oi(e.type,A),b);w.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(T){tt(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,J=t;break}J=e.return}return y=iE,iE=!1,y}function Ou(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&t)===t){var s=r.destroy;r.destroy=void 0,s!==void 0&&E1(e,n,s)}r=r.next}while(r!==i)}}function Dm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function k1(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Qb(t){var e=t.alternate;e!==null&&(t.alternate=null,Qb(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Di],delete e[Ah],delete e[u1],delete e[UM],delete e[HM])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Zb(t){return t.tag===5||t.tag===3||t.tag===4}function rE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Zb(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _1(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=dg));else if(i!==4&&(t=t.child,t!==null))for(_1(t,e,n),t=t.sibling;t!==null;)_1(t,e,n),t=t.sibling}function b1(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(b1(t,e,n),t=t.sibling;t!==null;)b1(t,e,n),t=t.sibling}var Lt=null,ci=!1;function Lr(t,e,n){for(n=n.child;n!==null;)Jb(t,e,n),n=n.sibling}function Jb(t,e,n){if(Fi&&typeof Fi.onCommitFiberUnmount=="function")try{Fi.onCommitFiberUnmount(Cm,n)}catch{}switch(n.tag){case 5:Yt||el(n,e);case 6:var i=Lt,r=ci;Lt=null,Lr(t,e,n),Lt=i,ci=r,Lt!==null&&(ci?(t=Lt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Lt.removeChild(n.stateNode));break;case 18:Lt!==null&&(ci?(t=Lt,n=n.stateNode,t.nodeType===8?O0(t.parentNode,n):t.nodeType===1&&O0(t,n),vh(t)):O0(Lt,n.stateNode));break;case 4:i=Lt,r=ci,Lt=n.stateNode.containerInfo,ci=!0,Lr(t,e,n),Lt=i,ci=r;break;case 0:case 11:case 14:case 15:if(!Yt&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&E1(n,e,o),r=r.next}while(r!==i)}Lr(t,e,n);break;case 1:if(!Yt&&(el(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){tt(n,e,a)}Lr(t,e,n);break;case 21:Lr(t,e,n);break;case 22:n.mode&1?(Yt=(i=Yt)||n.memoizedState!==null,Lr(t,e,n),Yt=i):Lr(t,e,n);break;default:Lr(t,e,n)}}function sE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new oL),e.forEach(function(i){var r=mL.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}}function ni(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Lt=a.stateNode,ci=!1;break e;case 3:Lt=a.stateNode.containerInfo,ci=!0;break e;case 4:Lt=a.stateNode.containerInfo,ci=!0;break e}a=a.return}if(Lt===null)throw Error(q(160));Jb(s,o,r),Lt=null,ci=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(h){tt(r,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)eC(e,t),e=e.sibling}function eC(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ni(e,t),mi(t),i&4){try{Ou(3,t,t.return),Dm(3,t)}catch(A){tt(t,t.return,A)}try{Ou(5,t,t.return)}catch(A){tt(t,t.return,A)}}break;case 1:ni(e,t),mi(t),i&512&&n!==null&&el(n,n.return);break;case 5:if(ni(e,t),mi(t),i&512&&n!==null&&el(n,n.return),t.flags&32){var r=t.stateNode;try{fh(r,"")}catch(A){tt(t,t.return,A)}}if(i&4&&(r=t.stateNode,r!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&A_(r,s),Xv(a,o);var h=Xv(a,s);for(o=0;o<l.length;o+=2){var u=l[o],f=l[o+1];u==="style"?C_(r,f):u==="dangerouslySetInnerHTML"?__(r,f):u==="children"?fh(r,f):NS(r,u,f,h)}switch(a){case"input":Vv(r,s);break;case"textarea":E_(r,s);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?wl(r,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?wl(r,!!s.multiple,s.defaultValue,!0):wl(r,!!s.multiple,s.multiple?[]:"",!1))}r[Ah]=s}catch(A){tt(t,t.return,A)}}break;case 6:if(ni(e,t),mi(t),i&4){if(t.stateNode===null)throw Error(q(162));r=t.stateNode,s=t.memoizedProps;try{r.nodeValue=s}catch(A){tt(t,t.return,A)}}break;case 3:if(ni(e,t),mi(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{vh(e.containerInfo)}catch(A){tt(t,t.return,A)}break;case 4:ni(e,t),mi(t);break;case 13:ni(e,t),mi(t),r=t.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(fx=it())),i&4&&sE(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Yt=(h=Yt)||u,ni(e,t),Yt=h):ni(e,t),mi(t),i&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!u&&t.mode&1)for(J=t,u=t.child;u!==null;){for(f=J=u;J!==null;){switch(p=J,m=p.child,p.tag){case 0:case 11:case 14:case 15:Ou(4,p,p.return);break;case 1:el(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){i=p,n=p.return;try{e=i,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(A){tt(i,n,A)}}break;case 5:el(p,p.return);break;case 22:if(p.memoizedState!==null){aE(f);continue}}m!==null?(m.return=p,J=m):aE(f)}u=u.sibling}e:for(u=null,f=t;;){if(f.tag===5){if(u===null){u=f;try{r=f.stateNode,h?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=b_("display",o))}catch(A){tt(t,t.return,A)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=h?"":f.memoizedProps}catch(A){tt(t,t.return,A)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ni(e,t),mi(t),i&4&&sE(t);break;case 21:break;default:ni(e,t),mi(t)}}function mi(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Zb(n)){var i=n;break e}n=n.return}throw Error(q(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(fh(r,""),i.flags&=-33);var s=rE(t);b1(t,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=rE(t);_1(t,a,o);break;default:throw Error(q(161))}}catch(l){tt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function lL(t,e,n){J=t,tC(t)}function tC(t,e,n){for(var i=(t.mode&1)!==0;J!==null;){var r=J,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||od;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||Yt;a=od;var h=Yt;if(od=o,(Yt=l)&&!h)for(J=r;J!==null;)o=J,l=o.child,o.tag===22&&o.memoizedState!==null?lE(r):l!==null?(l.return=o,J=l):lE(r);for(;s!==null;)J=s,tC(s),s=s.sibling;J=r,od=a,Yt=h}oE(t)}else r.subtreeFlags&8772&&s!==null?(s.return=r,J=s):oE(t)}}function oE(t){for(;J!==null;){var e=J;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Yt||Dm(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!Yt)if(n===null)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:oi(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&HA(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}HA(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var u=h.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&vh(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}Yt||e.flags&512&&k1(e)}catch(p){tt(e,e.return,p)}}if(e===t){J=null;break}if(n=e.sibling,n!==null){n.return=e.return,J=n;break}J=e.return}}function aE(t){for(;J!==null;){var e=J;if(e===t){J=null;break}var n=e.sibling;if(n!==null){n.return=e.return,J=n;break}J=e.return}}function lE(t){for(;J!==null;){var e=J;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Dm(4,e)}catch(l){tt(e,n,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){tt(e,r,l)}}var s=e.return;try{k1(e)}catch(l){tt(e,s,l)}break;case 5:var o=e.return;try{k1(e)}catch(l){tt(e,o,l)}}}catch(l){tt(e,e.return,l)}if(e===t){J=null;break}var a=e.sibling;if(a!==null){a.return=e.return,J=a;break}J=e.return}}var cL=Math.ceil,Eg=Tr.ReactCurrentDispatcher,hx=Tr.ReactCurrentOwner,Qn=Tr.ReactCurrentBatchConfig,Te=0,bt=null,ct=null,It=0,Pn=0,tl=Ls(0),pt=0,Ph=null,jo=0,Om=0,dx=0,$u=null,vn=null,fx=0,Vl=1/0,ir=null,kg=!1,C1=null,ks=null,ad=!1,gs=null,_g=0,Fu=0,P1=null,Qd=-1,Zd=0;function on(){return Te&6?it():Qd!==-1?Qd:Qd=it()}function _s(t){return t.mode&1?Te&2&&It!==0?It&-It:GM.transition!==null?(Zd===0&&(Zd=j_()),Zd):(t=Ie,t!==0||(t=window.event,t=t===void 0?16:G_(t.type)),t):1}function fi(t,e,n,i){if(50<Fu)throw Fu=0,P1=null,Error(q(185));Nh(t,n,i),(!(Te&2)||t!==bt)&&(t===bt&&(!(Te&2)&&(Om|=n),pt===4&&ns(t,It)),An(t,i),n===1&&Te===0&&!(e.mode&1)&&(Vl=it()+500,Lm&&Is()))}function An(t,e){var n=t.callbackNode;GR(t,e);var i=lg(t,t===bt?It:0);if(i===0)n!==null&&vA(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&vA(n),e===1)t.tag===0?VM(cE.bind(null,t)):hb(cE.bind(null,t)),BM(function(){!(Te&6)&&Is()}),n=null;else{switch(W_(i)){case 1:n=jS;break;case 4:n=$_;break;case 16:n=ag;break;case 536870912:n=F_;break;default:n=ag}n=cC(n,nC.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function nC(t,e){if(Qd=-1,Zd=0,Te&6)throw Error(q(327));var n=t.callbackNode;if(kl()&&t.callbackNode!==n)return null;var i=lg(t,t===bt?It:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=bg(t,i);else{e=i;var r=Te;Te|=2;var s=rC();(bt!==t||It!==e)&&(ir=null,Vl=it()+500,Lo(t,e));do try{dL();break}catch(a){iC(t,a)}while(!0);ZS(),Eg.current=s,Te=r,ct!==null?e=0:(bt=null,It=0,e=pt)}if(e!==0){if(e===2&&(r=t1(t),r!==0&&(i=r,e=T1(t,r))),e===1)throw n=Ph,Lo(t,0),ns(t,i),An(t,it()),n;if(e===6)ns(t,i);else{if(r=t.current.alternate,!(i&30)&&!uL(r)&&(e=bg(t,i),e===2&&(s=t1(t),s!==0&&(i=s,e=T1(t,s))),e===1))throw n=Ph,Lo(t,0),ns(t,i),An(t,it()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(q(345));case 2:Vs(t,vn,ir);break;case 3:if(ns(t,i),(i&130023424)===i&&(e=fx+500-it(),10<e)){if(lg(t,0)!==0)break;if(r=t.suspendedLanes,(r&i)!==i){on(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=c1(Vs.bind(null,t,vn,ir),e);break}Vs(t,vn,ir);break;case 4:if(ns(t,i),(i&4194240)===i)break;for(e=t.eventTimes,r=-1;0<i;){var o=31-di(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=it()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*cL(i/1960))-i,10<i){t.timeoutHandle=c1(Vs.bind(null,t,vn,ir),i);break}Vs(t,vn,ir);break;case 5:Vs(t,vn,ir);break;default:throw Error(q(329))}}}return An(t,it()),t.callbackNode===n?nC.bind(null,t):null}function T1(t,e){var n=$u;return t.current.memoizedState.isDehydrated&&(Lo(t,e).flags|=256),t=bg(t,e),t!==2&&(e=vn,vn=n,e!==null&&R1(e)),t}function R1(t){vn===null?vn=t:vn.push.apply(vn,t)}function uL(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!gi(s(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ns(t,e){for(e&=~dx,e&=~Om,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-di(e),i=1<<n;t[n]=-1,e&=~i}}function cE(t){if(Te&6)throw Error(q(327));kl();var e=lg(t,0);if(!(e&1))return An(t,it()),null;var n=bg(t,e);if(t.tag!==0&&n===2){var i=t1(t);i!==0&&(e=i,n=T1(t,i))}if(n===1)throw n=Ph,Lo(t,0),ns(t,e),An(t,it()),n;if(n===6)throw Error(q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Vs(t,vn,ir),An(t,it()),null}function px(t,e){var n=Te;Te|=1;try{return t(e)}finally{Te=n,Te===0&&(Vl=it()+500,Lm&&Is())}}function Wo(t){gs!==null&&gs.tag===0&&!(Te&6)&&kl();var e=Te;Te|=1;var n=Qn.transition,i=Ie;try{if(Qn.transition=null,Ie=1,t)return t()}finally{Ie=i,Qn.transition=n,Te=e,!(Te&6)&&Is()}}function gx(){Pn=tl.current,Ve(tl)}function Lo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,WM(n)),ct!==null)for(n=ct.return;n!==null;){var i=n;switch(KS(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&fg();break;case 3:Ul(),Ve(Sn),Ve(Zt),rx();break;case 5:ix(i);break;case 4:Ul();break;case 13:Ve(Ke);break;case 19:Ve(Ke);break;case 10:JS(i.type._context);break;case 22:case 23:gx()}n=n.return}if(bt=t,ct=t=bs(t.current,null),It=Pn=e,pt=0,Ph=null,dx=Om=jo=0,vn=$u=null,So!==null){for(e=0;e<So.length;e++)if(n=So[e],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,s=n.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}n.pending=i}So=null}return t}function iC(t,e){do{var n=ct;try{if(ZS(),Yd.current=Ag,xg){for(var i=Xe.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}xg=!1}if(Fo=0,kt=dt=Xe=null,Du=!1,_h=0,hx.current=null,n===null||n.return===null){pt=1,Ph=e,ct=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=It,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var h=l,u=a,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=XA(o);if(m!==null){m.flags&=-257,QA(m,o,a,s,e),m.mode&1&&KA(s,h,e),e=m,l=h;var y=e.updateQueue;if(y===null){var A=new Set;A.add(l),e.updateQueue=A}else y.add(l);break e}else{if(!(e&1)){KA(s,h,e),mx();break e}l=Error(q(426))}}else if(qe&&a.mode&1){var b=XA(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),QA(b,o,a,s,e),XS(Hl(l,a));break e}}s=l=Hl(l,a),pt!==4&&(pt=2),$u===null?$u=[s]:$u.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=Wb(s,l,e);UA(s,w);break e;case 1:a=l;var S=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof S.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(ks===null||!ks.has(E)))){s.flags|=65536,e&=-e,s.lanes|=e;var T=Bb(s,a,e);UA(s,T);break e}}s=s.return}while(s!==null)}oC(n)}catch(R){e=R,ct===n&&n!==null&&(ct=n=n.return);continue}break}while(!0)}function rC(){var t=Eg.current;return Eg.current=Ag,t===null?Ag:t}function mx(){(pt===0||pt===3||pt===2)&&(pt=4),bt===null||!(jo&268435455)&&!(Om&268435455)||ns(bt,It)}function bg(t,e){var n=Te;Te|=2;var i=rC();(bt!==t||It!==e)&&(ir=null,Lo(t,e));do try{hL();break}catch(r){iC(t,r)}while(!0);if(ZS(),Te=n,Eg.current=i,ct!==null)throw Error(q(261));return bt=null,It=0,pt}function hL(){for(;ct!==null;)sC(ct)}function dL(){for(;ct!==null&&!$R();)sC(ct)}function sC(t){var e=lC(t.alternate,t,Pn);t.memoizedProps=t.pendingProps,e===null?oC(t):ct=e,hx.current=null}function oC(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=sL(n,e),n!==null){n.flags&=32767,ct=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{pt=6,ct=null;return}}else if(n=rL(n,e,Pn),n!==null){ct=n;return}if(e=e.sibling,e!==null){ct=e;return}ct=e=t}while(e!==null);pt===0&&(pt=5)}function Vs(t,e,n){var i=Ie,r=Qn.transition;try{Qn.transition=null,Ie=1,fL(t,e,n,i)}finally{Qn.transition=r,Ie=i}return null}function fL(t,e,n,i){do kl();while(gs!==null);if(Te&6)throw Error(q(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(q(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(qR(t,s),t===bt&&(ct=bt=null,It=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ad||(ad=!0,cC(ag,function(){return kl(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Qn.transition,Qn.transition=null;var o=Ie;Ie=1;var a=Te;Te|=4,hx.current=null,aL(t,n),eC(n,t),IM(a1),cg=!!o1,a1=o1=null,t.current=n,lL(n),FR(),Te=a,Ie=o,Qn.transition=s}else t.current=n;if(ad&&(ad=!1,gs=t,_g=r),s=t.pendingLanes,s===0&&(ks=null),BR(n.stateNode),An(t,it()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(kg)throw kg=!1,t=C1,C1=null,t;return _g&1&&t.tag!==0&&kl(),s=t.pendingLanes,s&1?t===P1?Fu++:(Fu=0,P1=t):Fu=0,Is(),null}function kl(){if(gs!==null){var t=W_(_g),e=Qn.transition,n=Ie;try{if(Qn.transition=null,Ie=16>t?16:t,gs===null)var i=!1;else{if(t=gs,gs=null,_g=0,Te&6)throw Error(q(331));var r=Te;for(Te|=4,J=t.current;J!==null;){var s=J,o=s.child;if(J.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var h=a[l];for(J=h;J!==null;){var u=J;switch(u.tag){case 0:case 11:case 15:Ou(8,u,s)}var f=u.child;if(f!==null)f.return=u,J=f;else for(;J!==null;){u=J;var p=u.sibling,m=u.return;if(Qb(u),u===h){J=null;break}if(p!==null){p.return=m,J=p;break}J=m}}}var y=s.alternate;if(y!==null){var A=y.child;if(A!==null){y.child=null;do{var b=A.sibling;A.sibling=null,A=b}while(A!==null)}}J=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,J=o;else e:for(;J!==null;){if(s=J,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ou(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,J=w;break e}J=s.return}}var S=t.current;for(J=S;J!==null;){o=J;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,J=E;else e:for(o=S;J!==null;){if(a=J,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Dm(9,a)}}catch(R){tt(a,a.return,R)}if(a===o){J=null;break e}var T=a.sibling;if(T!==null){T.return=a.return,J=T;break e}J=a.return}}if(Te=r,Is(),Fi&&typeof Fi.onPostCommitFiberRoot=="function")try{Fi.onPostCommitFiberRoot(Cm,t)}catch{}i=!0}return i}finally{Ie=n,Qn.transition=e}}return!1}function uE(t,e,n){e=Hl(n,e),e=Wb(t,e,1),t=Es(t,e,1),e=on(),t!==null&&(Nh(t,1,e),An(t,e))}function tt(t,e,n){if(t.tag===3)uE(t,t,n);else for(;e!==null;){if(e.tag===3){uE(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(ks===null||!ks.has(i))){t=Hl(n,t),t=Bb(e,t,1),e=Es(e,t,1),t=on(),e!==null&&(Nh(e,1,t),An(e,t));break}}e=e.return}}function pL(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=on(),t.pingedLanes|=t.suspendedLanes&n,bt===t&&(It&n)===n&&(pt===4||pt===3&&(It&130023424)===It&&500>it()-fx?Lo(t,0):dx|=n),An(t,e)}function aC(t,e){e===0&&(t.mode&1?(e=Qh,Qh<<=1,!(Qh&130023424)&&(Qh=4194304)):e=1);var n=on();t=_r(t,e),t!==null&&(Nh(t,e,n),An(t,n))}function gL(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),aC(t,n)}function mL(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(q(314))}i!==null&&i.delete(e),aC(t,n)}var lC;lC=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Sn.current)wn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return wn=!1,iL(t,e,n);wn=!!(t.flags&131072)}else wn=!1,qe&&e.flags&1048576&&db(e,mg,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Xd(t,e),t=e.pendingProps;var r=Wl(e,Zt.current);El(e,n),r=ox(null,e,i,t,r,n);var s=ax();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,xn(i)?(s=!0,pg(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,tx(e),r.updater=Nm,e.stateNode=r,r._reactInternals=e,m1(e,i,t,n),e=w1(null,e,i,!0,s,n)):(e.tag=0,qe&&s&&YS(e),rn(null,e,r,n),e=e.child),e;case 16:i=e.elementType;e:{switch(Xd(t,e),t=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=yL(i),t=oi(i,t),r){case 0:e=y1(null,e,i,t,n);break e;case 1:e=eE(null,e,i,t,n);break e;case 11:e=ZA(null,e,i,t,n);break e;case 14:e=JA(null,e,i,oi(i.type,t),n);break e}throw Error(q(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:oi(i,r),y1(t,e,i,r,n);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:oi(i,r),eE(t,e,i,r,n);case 3:e:{if(Vb(e),t===null)throw Error(q(387));i=e.pendingProps,s=e.memoizedState,r=s.element,yb(t,e),wg(e,i,null,n);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=Hl(Error(q(423)),e),e=tE(t,e,i,n,r);break e}else if(i!==r){r=Hl(Error(q(424)),e),e=tE(t,e,i,n,r);break e}else for(Tn=As(e.stateNode.containerInfo.firstChild),Mn=e,qe=!0,ui=null,n=mb(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Bl(),i===r){e=br(t,e,n);break e}rn(t,e,i,n)}e=e.child}return e;case 5:return wb(e),t===null&&f1(e),i=e.type,r=e.pendingProps,s=t!==null?t.memoizedProps:null,o=r.children,l1(i,r)?o=null:s!==null&&l1(i,s)&&(e.flags|=32),Hb(t,e),rn(t,e,o,n),e.child;case 6:return t===null&&f1(e),null;case 13:return Gb(t,e,n);case 4:return nx(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=zl(e,null,i,n):rn(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:oi(i,r),ZA(t,e,i,r,n);case 7:return rn(t,e,e.pendingProps,n),e.child;case 8:return rn(t,e,e.pendingProps.children,n),e.child;case 12:return rn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,Be(vg,i._currentValue),i._currentValue=o,s!==null)if(gi(s.value,o)){if(s.children===r.children&&!Sn.current){e=br(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=xr(-1,n&-n),l.tag=2;var h=s.updateQueue;if(h!==null){h=h.shared;var u=h.pending;u===null?l.next=l:(l.next=u.next,u.next=l),h.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),p1(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(q(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),p1(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}rn(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,El(e,n),r=Jn(r),i=i(r),e.flags|=1,rn(t,e,i,n),e.child;case 14:return i=e.type,r=oi(i,e.pendingProps),r=oi(i.type,r),JA(t,e,i,r,n);case 15:return zb(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:oi(i,r),Xd(t,e),e.tag=1,xn(i)?(t=!0,pg(e)):t=!1,El(e,n),jb(e,i,r),m1(e,i,r,n),w1(null,e,i,!0,t,n);case 19:return qb(t,e,n);case 22:return Ub(t,e,n)}throw Error(q(156,e.tag))};function cC(t,e){return O_(t,e)}function vL(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xn(t,e,n,i){return new vL(t,e,n,i)}function vx(t){return t=t.prototype,!(!t||!t.isReactComponent)}function yL(t){if(typeof t=="function")return vx(t)?1:0;if(t!=null){if(t=t.$$typeof,t===OS)return 11;if(t===$S)return 14}return 2}function bs(t,e){var n=t.alternate;return n===null?(n=Xn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Jd(t,e,n,i,r,s){var o=2;if(i=t,typeof t=="function")vx(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Va:return Io(n.children,r,s,e);case DS:o=8,r|=8;break;case Wv:return t=Xn(12,n,e,r|2),t.elementType=Wv,t.lanes=s,t;case Bv:return t=Xn(13,n,e,r),t.elementType=Bv,t.lanes=s,t;case zv:return t=Xn(19,n,e,r),t.elementType=zv,t.lanes=s,t;case w_:return $m(n,r,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case v_:o=10;break e;case y_:o=9;break e;case OS:o=11;break e;case $S:o=14;break e;case Kr:o=16,i=null;break e}throw Error(q(130,t==null?t:typeof t,""))}return e=Xn(o,n,e,r),e.elementType=t,e.type=i,e.lanes=s,e}function Io(t,e,n,i){return t=Xn(7,t,i,e),t.lanes=n,t}function $m(t,e,n,i){return t=Xn(22,t,i,e),t.elementType=w_,t.lanes=n,t.stateNode={isHidden:!1},t}function H0(t,e,n){return t=Xn(6,t,null,e),t.lanes=n,t}function V0(t,e,n){return e=Xn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function wL(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_0(0),this.expirationTimes=_0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_0(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function yx(t,e,n,i,r,s,o,a,l){return t=new wL(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Xn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},tx(s),t}function SL(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ha,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function uC(t){if(!t)return Ts;t=t._reactInternals;e:{if(Yo(t)!==t||t.tag!==1)throw Error(q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(xn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(q(171))}if(t.tag===1){var n=t.type;if(xn(n))return ub(t,n,e)}return e}function hC(t,e,n,i,r,s,o,a,l){return t=yx(n,i,!0,t,r,s,o,a,l),t.context=uC(null),n=t.current,i=on(),r=_s(n),s=xr(i,r),s.callback=e??null,Es(n,s,r),t.current.lanes=r,Nh(t,r,i),An(t,i),t}function Fm(t,e,n,i){var r=e.current,s=on(),o=_s(r);return n=uC(n),e.context===null?e.context=n:e.pendingContext=n,e=xr(s,o),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=Es(r,e,o),t!==null&&(fi(t,r,o,s),qd(t,r,o)),o}function Cg(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function hE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function wx(t,e){hE(t,e),(t=t.alternate)&&hE(t,e)}function xL(){return null}var dC=typeof reportError=="function"?reportError:function(t){console.error(t)};function Sx(t){this._internalRoot=t}jm.prototype.render=Sx.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(q(409));Fm(t,e,null,null)};jm.prototype.unmount=Sx.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Wo(function(){Fm(null,t,null,null)}),e[kr]=null}};function jm(t){this._internalRoot=t}jm.prototype.unstable_scheduleHydration=function(t){if(t){var e=U_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ts.length&&e!==0&&e<ts[n].priority;n++);ts.splice(n,0,t),n===0&&V_(t)}};function xx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Wm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function dE(){}function AL(t,e,n,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var h=Cg(o);s.call(h)}}var o=hC(e,i,t,0,null,!1,!1,"",dE);return t._reactRootContainer=o,t[kr]=o.current,Sh(t.nodeType===8?t.parentNode:t),Wo(),o}for(;r=t.lastChild;)t.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var h=Cg(l);a.call(h)}}var l=yx(t,0,!1,null,null,!1,!1,"",dE);return t._reactRootContainer=l,t[kr]=l.current,Sh(t.nodeType===8?t.parentNode:t),Wo(function(){Fm(e,l,n,i)}),l}function Bm(t,e,n,i,r){var s=n._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=Cg(o);a.call(l)}}Fm(e,o,t,r)}else o=AL(n,e,t,r,i);return Cg(o)}B_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Rc(e.pendingLanes);n!==0&&(WS(e,n|1),An(e,it()),!(Te&6)&&(Vl=it()+500,Is()))}break;case 13:Wo(function(){var i=_r(t,1);if(i!==null){var r=on();fi(i,t,1,r)}}),wx(t,1)}};BS=function(t){if(t.tag===13){var e=_r(t,134217728);if(e!==null){var n=on();fi(e,t,134217728,n)}wx(t,134217728)}};z_=function(t){if(t.tag===13){var e=_s(t),n=_r(t,e);if(n!==null){var i=on();fi(n,t,e,i)}wx(t,e)}};U_=function(){return Ie};H_=function(t,e){var n=Ie;try{return Ie=t,e()}finally{Ie=n}};Zv=function(t,e,n){switch(e){case"input":if(Vv(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=Mm(i);if(!r)throw Error(q(90));x_(i),Vv(i,r)}}}break;case"textarea":E_(t,n);break;case"select":e=n.value,e!=null&&wl(t,!!n.multiple,e,!1)}};R_=px;M_=Wo;var EL={usingClientEntryPoint:!1,Events:[Oh,Ka,Mm,P_,T_,px]},dc={findFiberByHostInstance:wo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kL={bundleType:dc.bundleType,version:dc.version,rendererPackageName:dc.rendererPackageName,rendererConfig:dc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Tr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=N_(t),t===null?null:t.stateNode},findFiberByHostInstance:dc.findFiberByHostInstance||xL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ld=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ld.isDisabled&&ld.supportsFiber)try{Cm=ld.inject(kL),Fi=ld}catch{}}Nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=EL;Nn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xx(e))throw Error(q(200));return SL(t,e,null,n)};Nn.createRoot=function(t,e){if(!xx(t))throw Error(q(299));var n=!1,i="",r=dC;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=yx(t,1,!1,null,null,n,!1,i,r),t[kr]=e.current,Sh(t.nodeType===8?t.parentNode:t),new Sx(e)};Nn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(q(188)):(t=Object.keys(t).join(","),Error(q(268,t)));return t=N_(e),t=t===null?null:t.stateNode,t};Nn.flushSync=function(t){return Wo(t)};Nn.hydrate=function(t,e,n){if(!Wm(e))throw Error(q(200));return Bm(null,t,e,!0,n)};Nn.hydrateRoot=function(t,e,n){if(!xx(t))throw Error(q(405));var i=n!=null&&n.hydratedSources||null,r=!1,s="",o=dC;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=hC(e,null,t,1,n??null,r,!1,s,o),t[kr]=e.current,Sh(t),i)for(t=0;t<i.length;t++)n=i[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new jm(e)};Nn.render=function(t,e,n){if(!Wm(e))throw Error(q(200));return Bm(null,t,e,!1,n)};Nn.unmountComponentAtNode=function(t){if(!Wm(t))throw Error(q(40));return t._reactRootContainer?(Wo(function(){Bm(null,null,t,!1,function(){t._reactRootContainer=null,t[kr]=null})}),!0):!1};Nn.unstable_batchedUpdates=px;Nn.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!Wm(n))throw Error(q(200));if(t==null||t._reactInternals===void 0)throw Error(q(38));return Bm(t,e,n,!1,i)};Nn.version="18.3.1-next-f1338f8080-20240426";function fC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(fC)}catch(t){console.error(t)}}fC(),f_.exports=Nn;var _L=f_.exports,fE=_L;Fv.createRoot=fE.createRoot,Fv.hydrateRoot=fE.hydrateRoot;var bL=Object.defineProperty,CL=(t,e,n)=>e in t?bL(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,cd=(t,e,n)=>(CL(t,typeof e!="symbol"?e+"":e,n),n);const PL={stringify:t=>t,parse:t=>t},TL={stringify:t=>`${t}`,parse:t=>parseFloat(t)},RL={stringify:t=>t?"true":"false",parse:t=>/^[ty1-9]/i.test(t)},ML={stringify:t=>t.name,parse:(t,e,n)=>{const i=(()=>{if(typeof window<"u"&&t in window)return window[t];if(typeof global<"u"&&t in global)return global[t]})();return typeof i=="function"?i.bind(n):void 0}},LL={stringify:t=>JSON.stringify(t),parse:t=>JSON.parse(t)},G0={string:PL,number:TL,boolean:RL,function:ML,json:LL};function IL(t){return t.replace(/([a-z0-9])([A-Z])/g,(e,n,i)=>`${n}-${i.toLowerCase()}`)}const ud=Symbol.for("r2wc.render"),hd=Symbol.for("r2wc.connected"),$s=Symbol.for("r2wc.context"),Ir=Symbol.for("r2wc.props");function NL(t,e,n){var i,r,s;e.props||(e.props=t.propTypes?Object.keys(t.propTypes):[]);const o=Array.isArray(e.props)?e.props.slice():Object.keys(e.props),a={},l={},h={};for(const f of o){a[f]=Array.isArray(e.props)?"string":e.props[f];const p=IL(f);l[f]=p,h[p]=f}class u extends HTMLElement{constructor(){super(),cd(this,i,!0),cd(this,r),cd(this,s,{}),cd(this,"container"),e.shadow?this.container=this.attachShadow({mode:e.shadow}):this.container=this,this[Ir].container=this.container;for(const p of o){const m=l[p],y=this.getAttribute(m),A=a[p],b=A?G0[A]:null;b!=null&&b.parse&&y&&(this[Ir][p]=b.parse(y,m,this))}}static get observedAttributes(){return Object.keys(h)}connectedCallback(){this[hd]=!0,this[ud]()}disconnectedCallback(){this[hd]=!1,this[$s]&&n.unmount(this[$s]),delete this[$s]}attributeChangedCallback(p,m,y){const A=h[p],b=a[A],w=b?G0[b]:null;A in a&&w!=null&&w.parse&&y&&(this[Ir][A]=w.parse(y,p,this),this[ud]())}[(i=hd,r=$s,s=Ir,ud)](){this[hd]&&(this[$s]?n.update(this[$s],this[Ir]):this[$s]=n.mount(this.container,t,this[Ir]))}}for(const f of o){const p=l[f],m=a[f];Object.defineProperty(u.prototype,f,{enumerable:!0,configurable:!0,get(){return this[Ir][f]},set(y){this[Ir][f]=y;const A=m?G0[m]:null;if(A!=null&&A.stringify){const b=A.stringify(y,p,this);this.getAttribute(p)!==b&&this.setAttribute(p,b)}else this[ud]()}})}return u}function DL(t,e,n,i={}){function r(a,l,h){const u=e.createElement(l,h);if("createRoot"in n){const f=n.createRoot(a);return f.render(u),{container:a,root:f,ReactComponent:l}}if("render"in n)return n.render(u,a),{container:a,ReactComponent:l};throw new Error("Invalid ReactDOM instance provided.")}function s({container:a,root:l,ReactComponent:h},u){const f=e.createElement(h,u);if(l){l.render(f);return}if("render"in n){n.render(f,a);return}}function o({container:a,root:l}){if(l){l.unmount();return}if("unmountComponentAtNode"in n){n.unmountComponentAtNode(a);return}}return NL(t,i,{mount:r,unmount:o,update:s})}var pC={exports:{}},zm={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OL=V,$L=Symbol.for("react.element"),FL=Symbol.for("react.fragment"),jL=Object.prototype.hasOwnProperty,WL=OL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,BL={key:!0,ref:!0,__self:!0,__source:!0};function gC(t,e,n){var i,r={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)jL.call(e,i)&&!BL.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:$L,type:t,key:s,ref:o,props:r,_owner:WL.current}}zm.Fragment=FL;zm.jsx=gC;zm.jsxs=gC;pC.exports=zm;var O=pC.exports,mC={exports:{}},zL="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",UL=zL,HL=UL;function vC(){}function yC(){}yC.resetWarningCache=vC;var VL=function(){function t(i,r,s,o,a,l){if(l!==HL){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:yC,resetWarningCache:vC};return n.PropTypes=n,n};mC.exports=VL();var GL=mC.exports;const _l=i_(GL),qL="https://localhost:3000",q0={404:"404",VIEWER:"viewer",LIST:"list"},pE=()=>O.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:O.jsxs("div",{className:"text-center",children:[O.jsx("h1",{className:"text-9xl font-bold text-violet-700",children:"404"}),O.jsx("p",{className:"text-2xl font-medium text-gray-900 mt-4",children:"Page Not Found"}),O.jsx("p",{className:"text-gray-700 mt-2",children:"Sorry, the page you're looking for doesn't exist."}),O.jsx("a",{href:qL,className:"mt-6 rounded-md inline-block px-5 py-3 bg-violet-700 text-white text-sm font-medium hover:bg-violet-800",children:"Try Simply Share"})]})});function wC({data:t}){return O.jsx("div",{children:"List"})}wC.propTypes={data:_l.object};const YL="modulepreload",KL=function(t){return"/"+t},gE={},dd=function(e,n,i){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));r=Promise.all(n.map(a=>{if(a=KL(a),a in gE)return;gE[a]=!0;const l=a.endsWith(".css"),h=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${h}`))return;const u=document.createElement("link");if(u.rel=l?"stylesheet":YL,l||(u.as="script",u.crossOrigin=""),u.href=a,o&&u.setAttribute("nonce",o),document.head.appendChild(u),l)return new Promise((f,p)=>{u.addEventListener("load",f),u.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${a}`)))})}))}return r.then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};var XL=Object.defineProperty,QL=(t,e,n)=>e in t?XL(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ve=(t,e,n)=>(QL(t,typeof e!="symbol"?e+"":e,n),n),Ax=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},c=(t,e,n)=>(Ax(t,e,"read from private field"),n?n.call(t):e.get(t)),v=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},_=(t,e,n,i)=>(Ax(t,e,"write to private field"),e.set(t,n),n),Zn=(t,e,n,i)=>({set _(r){_(t,e,r)},get _(){return c(t,e,i)}}),k=(t,e,n)=>(Ax(t,e,"access private method"),n),Lc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function SC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function lB(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var r=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,r.get?r:{enumerable:!0,get:function(){return t[i]}})}),n}var fc=function(t){return t&&t.Math===Math&&t},Bi=fc(typeof globalThis=="object"&&globalThis)||fc(typeof window=="object"&&window)||fc(typeof self=="object"&&self)||fc(typeof Lc=="object"&&Lc)||fc(typeof Lc=="object"&&Lc)||function(){return this}()||Function("return this")(),Ex={},Ns=function(t){try{return!!t()}catch{return!0}},ZL=Ns,Ko=!ZL(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),JL=Ns,xC=!JL(function(){var t=(function(){}).bind();return typeof t!="function"||t.hasOwnProperty("prototype")}),eI=xC,fd=Function.prototype.call,kx=eI?fd.bind(fd):function(){return fd.apply(fd,arguments)},AC={},EC={}.propertyIsEnumerable,kC=Object.getOwnPropertyDescriptor,tI=kC&&!EC.call({1:2},1);AC.f=tI?function(t){var e=kC(this,t);return!!e&&e.enumerable}:EC;var _C=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}},bC=xC,CC=Function.prototype,M1=CC.call,nI=bC&&CC.bind.bind(M1,M1),Rr=bC?nI:function(t){return function(){return M1.apply(t,arguments)}},PC=Rr,iI=PC({}.toString),rI=PC("".slice),sI=function(t){return rI(iI(t),8,-1)},oI=Rr,aI=Ns,lI=sI,Y0=Object,cI=oI("".split),uI=aI(function(){return!Y0("z").propertyIsEnumerable(0)})?function(t){return lI(t)==="String"?cI(t,""):Y0(t)}:Y0,TC=function(t){return t==null},hI=TC,dI=TypeError,RC=function(t){if(hI(t))throw new dI("Can't call method on "+t);return t},fI=uI,pI=RC,_x=function(t){return fI(pI(t))},K0=typeof document=="object"&&document.all,zi=typeof K0>"u"&&K0!==void 0?function(t){return typeof t=="function"||t===K0}:function(t){return typeof t=="function"},gI=zi,Fh=function(t){return typeof t=="object"?t!==null:gI(t)},X0=Bi,mI=zi,vI=function(t){return mI(t)?t:void 0},MC=function(t,e){return arguments.length<2?vI(X0[t]):X0[t]&&X0[t][e]},yI=Rr,wI=yI({}.isPrototypeOf),SI=typeof navigator<"u"&&String(navigator.userAgent)||"",LC=Bi,Q0=SI,mE=LC.process,vE=LC.Deno,yE=mE&&mE.versions||vE&&vE.version,wE=yE&&yE.v8,hi,Pg;wE&&(hi=wE.split("."),Pg=hi[0]>0&&hi[0]<4?1:+(hi[0]+hi[1]));!Pg&&Q0&&(hi=Q0.match(/Edge\/(\d+)/),(!hi||hi[1]>=74)&&(hi=Q0.match(/Chrome\/(\d+)/),hi&&(Pg=+hi[1])));var xI=Pg,SE=xI,AI=Ns,EI=Bi,kI=EI.String,IC=!!Object.getOwnPropertySymbols&&!AI(function(){var t=Symbol("symbol detection");return!kI(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&SE&&SE<41}),_I=IC,NC=_I&&!Symbol.sham&&typeof Symbol.iterator=="symbol",bI=MC,CI=zi,PI=wI,TI=NC,RI=Object,DC=TI?function(t){return typeof t=="symbol"}:function(t){var e=bI("Symbol");return CI(e)&&PI(e.prototype,RI(t))},MI=String,LI=function(t){try{return MI(t)}catch{return"Object"}},II=zi,NI=LI,DI=TypeError,OC=function(t){if(II(t))return t;throw new DI(NI(t)+" is not a function")},OI=OC,$I=TC,FI=function(t,e){var n=t[e];return $I(n)?void 0:OI(n)},Z0=kx,J0=zi,ev=Fh,jI=TypeError,WI=function(t,e){var n,i;if(e==="string"&&J0(n=t.toString)&&!ev(i=Z0(n,t))||J0(n=t.valueOf)&&!ev(i=Z0(n,t))||e!=="string"&&J0(n=t.toString)&&!ev(i=Z0(n,t)))return i;throw new jI("Can't convert object to primitive value")},$C={exports:{}},xE=Bi,BI=Object.defineProperty,bx=function(t,e){try{BI(xE,t,{value:e,configurable:!0,writable:!0})}catch{xE[t]=e}return e},zI=Bi,UI=bx,AE="__core-js_shared__",EE=$C.exports=zI[AE]||UI(AE,{});(EE.versions||(EE.versions=[])).push({version:"3.37.1",mode:"global",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.37.1/LICENSE",source:"https://github.com/zloirock/core-js"});var Cx=$C.exports,kE=Cx,FC=function(t,e){return kE[t]||(kE[t]=e||{})},HI=RC,VI=Object,GI=function(t){return VI(HI(t))},qI=Rr,YI=GI,KI=qI({}.hasOwnProperty),Xo=Object.hasOwn||function(t,e){return KI(YI(t),e)},XI=Rr,QI=0,ZI=Math.random(),JI=XI(1 .toString),jC=function(t){return"Symbol("+(t===void 0?"":t)+")_"+JI(++QI+ZI,36)},eN=Bi,tN=FC,_E=Xo,nN=jC,iN=IC,rN=NC,nl=eN.Symbol,tv=tN("wks"),sN=rN?nl.for||nl:nl&&nl.withoutSetter||nN,oN=function(t){return _E(tv,t)||(tv[t]=iN&&_E(nl,t)?nl[t]:sN("Symbol."+t)),tv[t]},aN=kx,bE=Fh,CE=DC,lN=FI,cN=WI,uN=oN,hN=TypeError,dN=uN("toPrimitive"),fN=function(t,e){if(!bE(t)||CE(t))return t;var n=lN(t,dN),i;if(n){if(e===void 0&&(e="default"),i=aN(n,t,e),!bE(i)||CE(i))return i;throw new hN("Can't convert object to primitive value")}return e===void 0&&(e="number"),cN(t,e)},pN=fN,gN=DC,WC=function(t){var e=pN(t,"string");return gN(e)?e:e+""},mN=Bi,PE=Fh,L1=mN.document,vN=PE(L1)&&PE(L1.createElement),yN=function(t){return vN?L1.createElement(t):{}},wN=Ko,SN=Ns,xN=yN,BC=!wN&&!SN(function(){return Object.defineProperty(xN("div"),"a",{get:function(){return 7}}).a!==7}),AN=Ko,EN=kx,kN=AC,_N=_C,bN=_x,CN=WC,PN=Xo,TN=BC,TE=Object.getOwnPropertyDescriptor;Ex.f=AN?TE:function(t,e){if(t=bN(t),e=CN(e),TN)try{return TE(t,e)}catch{}if(PN(t,e))return _N(!EN(kN.f,t,e),t[e])};var Um={},RN=Ko,MN=Ns,LN=RN&&MN(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),IN=Fh,NN=String,DN=TypeError,zC=function(t){if(IN(t))return t;throw new DN(NN(t)+" is not an object")},ON=Ko,$N=BC,FN=LN,pd=zC,RE=WC,jN=TypeError,nv=Object.defineProperty,WN=Object.getOwnPropertyDescriptor,iv="enumerable",rv="configurable",sv="writable";Um.f=ON?FN?function(t,e,n){if(pd(t),e=RE(e),pd(n),typeof t=="function"&&e==="prototype"&&"value"in n&&sv in n&&!n[sv]){var i=WN(t,e);i&&i[sv]&&(t[e]=n.value,n={configurable:rv in n?n[rv]:i[rv],enumerable:iv in n?n[iv]:i[iv],writable:!1})}return nv(t,e,n)}:nv:function(t,e,n){if(pd(t),e=RE(e),pd(n),$N)try{return nv(t,e,n)}catch{}if("get"in n||"set"in n)throw new jN("Accessors not supported");return"value"in n&&(t[e]=n.value),t};var BN=Ko,zN=Um,UN=_C,UC=BN?function(t,e,n){return zN.f(t,e,UN(1,n))}:function(t,e,n){return t[e]=n,t},HC={exports:{}},I1=Ko,HN=Xo,VC=Function.prototype,VN=I1&&Object.getOwnPropertyDescriptor,Px=HN(VC,"name"),GN=Px&&(function(){}).name==="something",qN=Px&&(!I1||I1&&VN(VC,"name").configurable),YN={EXISTS:Px,PROPER:GN,CONFIGURABLE:qN},KN=Rr,XN=zi,N1=Cx,QN=KN(Function.toString);XN(N1.inspectSource)||(N1.inspectSource=function(t){return QN(t)});var ZN=N1.inspectSource,JN=Bi,eD=zi,ME=JN.WeakMap,tD=eD(ME)&&/native code/.test(String(ME)),nD=FC,iD=jC,LE=nD("keys"),rD=function(t){return LE[t]||(LE[t]=iD(t))},GC={},sD=tD,qC=Bi,oD=Fh,aD=UC,ov=Xo,av=Cx,lD=rD,cD=GC,IE="Object already initialized",D1=qC.TypeError,uD=qC.WeakMap,Tg,Th,Rg,hD=function(t){return Rg(t)?Th(t):Tg(t,{})},dD=function(t){return function(e){var n;if(!oD(e)||(n=Th(e)).type!==t)throw new D1("Incompatible receiver, "+t+" required");return n}};if(sD||av.state){var vi=av.state||(av.state=new uD);vi.get=vi.get,vi.has=vi.has,vi.set=vi.set,Tg=function(t,e){if(vi.has(t))throw new D1(IE);return e.facade=t,vi.set(t,e),e},Th=function(t){return vi.get(t)||{}},Rg=function(t){return vi.has(t)}}else{var na=lD("state");cD[na]=!0,Tg=function(t,e){if(ov(t,na))throw new D1(IE);return e.facade=t,aD(t,na,e),e},Th=function(t){return ov(t,na)?t[na]:{}},Rg=function(t){return ov(t,na)}}var fD={set:Tg,get:Th,has:Rg,enforce:hD,getterFor:dD},Tx=Rr,pD=Ns,gD=zi,gd=Xo,O1=Ko,mD=YN.CONFIGURABLE,vD=ZN,YC=fD,yD=YC.enforce,wD=YC.get,NE=String,ef=Object.defineProperty,SD=Tx("".slice),xD=Tx("".replace),AD=Tx([].join),ED=O1&&!pD(function(){return ef(function(){},"length",{value:8}).length!==8}),kD=String(String).split("String"),_D=HC.exports=function(t,e,n){SD(NE(e),0,7)==="Symbol("&&(e="["+xD(NE(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!gd(t,"name")||mD&&t.name!==e)&&(O1?ef(t,"name",{value:e,configurable:!0}):t.name=e),ED&&n&&gd(n,"arity")&&t.length!==n.arity&&ef(t,"length",{value:n.arity});try{n&&gd(n,"constructor")&&n.constructor?O1&&ef(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch{}var i=yD(t);return gd(i,"source")||(i.source=AD(kD,typeof e=="string"?e:"")),t};Function.prototype.toString=_D(function(){return gD(this)&&wD(this).source||vD(this)},"toString");var bD=HC.exports,CD=zi,PD=Um,TD=bD,RD=bx,MD=function(t,e,n,i){i||(i={});var r=i.enumerable,s=i.name!==void 0?i.name:e;if(CD(n)&&TD(n,s,i),i.global)r?t[e]=n:RD(e,n);else{try{i.unsafe?t[e]&&(r=!0):delete t[e]}catch{}r?t[e]=n:PD.f(t,e,{value:n,enumerable:!1,configurable:!i.nonConfigurable,writable:!i.nonWritable})}return t},KC={},LD=Math.ceil,ID=Math.floor,ND=Math.trunc||function(t){var e=+t;return(e>0?ID:LD)(e)},DD=ND,XC=function(t){var e=+t;return e!==e||e===0?0:DD(e)},OD=XC,$D=Math.max,FD=Math.min,jD=function(t,e){var n=OD(t);return n<0?$D(n+e,0):FD(n,e)},WD=XC,BD=Math.min,zD=function(t){var e=WD(t);return e>0?BD(e,9007199254740991):0},UD=zD,HD=function(t){return UD(t.length)},VD=_x,GD=jD,qD=HD,DE=function(t){return function(e,n,i){var r=VD(e),s=qD(r);if(s===0)return!t&&-1;var o=GD(i,s),a;if(t&&n!==n){for(;s>o;)if(a=r[o++],a!==a)return!0}else for(;s>o;o++)if((t||o in r)&&r[o]===n)return t||o||0;return!t&&-1}},YD={includes:DE(!0),indexOf:DE(!1)},KD=Rr,lv=Xo,XD=_x,QD=YD.indexOf,ZD=GC,OE=KD([].push),JD=function(t,e){var n=XD(t),i=0,r=[],s;for(s in n)!lv(ZD,s)&&lv(n,s)&&OE(r,s);for(;e.length>i;)lv(n,s=e[i++])&&(~QD(r,s)||OE(r,s));return r},eO=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],tO=JD,nO=eO,iO=nO.concat("length","prototype");KC.f=Object.getOwnPropertyNames||function(t){return tO(t,iO)};var QC={};QC.f=Object.getOwnPropertySymbols;var rO=MC,sO=Rr,oO=KC,aO=QC,lO=zC,cO=sO([].concat),uO=rO("Reflect","ownKeys")||function(t){var e=oO.f(lO(t)),n=aO.f;return n?cO(e,n(t)):e},$E=Xo,hO=uO,dO=Ex,fO=Um,pO=function(t,e,n){for(var i=hO(e),r=fO.f,s=dO.f,o=0;o<i.length;o++){var a=i[o];!$E(t,a)&&!(n&&$E(n,a))&&r(t,a,s(e,a))}},gO=Ns,mO=zi,vO=/#|\.prototype\./,jh=function(t,e){var n=wO[yO(t)];return n===xO?!0:n===SO?!1:mO(e)?gO(e):!!e},yO=jh.normalize=function(t){return String(t).replace(vO,".").toLowerCase()},wO=jh.data={},SO=jh.NATIVE="N",xO=jh.POLYFILL="P",AO=jh,md=Bi,EO=Ex.f,kO=UC,_O=MD,bO=bx,CO=pO,PO=AO,TO=function(t,e){var n=t.target,i=t.global,r=t.stat,s,o,a,l,h,u;if(i?o=md:r?o=md[n]||bO(n,{}):o=md[n]&&md[n].prototype,o)for(a in e){if(h=e[a],t.dontCallGetSet?(u=EO(o,a),l=u&&u.value):l=o[a],s=PO(i?a:n+(r?".":"#")+a,t.forced),!s&&l!==void 0){if(typeof h==typeof l)continue;CO(h,l)}(t.sham||l&&l.sham)&&kO(h,"sham",!0),_O(o,a,h,t)}},ZC={},FE=OC,RO=TypeError,MO=function(t){var e,n;this.promise=new t(function(i,r){if(e!==void 0||n!==void 0)throw new RO("Bad Promise constructor");e=i,n=r}),this.resolve=FE(e),this.reject=FE(n)};ZC.f=function(t){return new MO(t)};var LO=TO,IO=ZC;LO({target:"Promise",stat:!0},{withResolvers:function(){var t=IO.f(this);return{promise:t.promise,resolve:t.resolve,reject:t.reject}}});function NO(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var JC={exports:{}},rt=JC.exports={},Pi,Ti;function $1(){throw new Error("setTimeout has not been defined")}function F1(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Pi=setTimeout:Pi=$1}catch{Pi=$1}try{typeof clearTimeout=="function"?Ti=clearTimeout:Ti=F1}catch{Ti=F1}})();function e2(t){if(Pi===setTimeout)return setTimeout(t,0);if((Pi===$1||!Pi)&&setTimeout)return Pi=setTimeout,setTimeout(t,0);try{return Pi(t,0)}catch{try{return Pi.call(null,t,0)}catch{return Pi.call(this,t,0)}}}function DO(t){if(Ti===clearTimeout)return clearTimeout(t);if((Ti===F1||!Ti)&&clearTimeout)return Ti=clearTimeout,clearTimeout(t);try{return Ti(t)}catch{try{return Ti.call(null,t)}catch{return Ti.call(this,t)}}}var wr=[],bl=!1,Ao,tf=-1;function OO(){!bl||!Ao||(bl=!1,Ao.length?wr=Ao.concat(wr):tf=-1,wr.length&&t2())}function t2(){if(!bl){var t=e2(OO);bl=!0;for(var e=wr.length;e;){for(Ao=wr,wr=[];++tf<e;)Ao&&Ao[tf].run();tf=-1,e=wr.length}Ao=null,bl=!1,DO(t)}}rt.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];wr.push(new n2(t,e)),wr.length===1&&!bl&&e2(t2)};function n2(t,e){this.fun=t,this.array=e}n2.prototype.run=function(){this.fun.apply(null,this.array)};rt.title="browser";rt.browser=!0;rt.env={};rt.argv=[];rt.version="";rt.versions={};function Mr(){}rt.on=Mr;rt.addListener=Mr;rt.once=Mr;rt.off=Mr;rt.removeListener=Mr;rt.removeAllListeners=Mr;rt.emit=Mr;rt.prependListener=Mr;rt.prependOnceListener=Mr;rt.listeners=function(t){return[]};rt.binding=function(t){throw new Error("process.binding is not supported")};rt.cwd=function(){return"/"};rt.chdir=function(t){throw new Error("process.chdir is not supported")};rt.umask=function(){return 0};var $O=JC.exports;const ge=NO($O);var Xt=function(){return Xt=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},Xt.apply(this,arguments)};function Bo(t,e,n){if(n||arguments.length===2)for(var i=0,r=e.length,s;i<r;i++)(s||!(i in e))&&(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return t.concat(s||Array.prototype.slice.call(e))}function FO(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var jO=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,WO=FO(function(t){return jO.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),He="-ms-",ju="-moz-",Re="-webkit-",i2="comm",Hm="rule",Rx="decl",BO="@import",r2="@keyframes",zO="@layer",s2=Math.abs,Mx=String.fromCharCode,j1=Object.assign;function UO(t,e){return _t(t,0)^45?(((e<<2^_t(t,0))<<2^_t(t,1))<<2^_t(t,2))<<2^_t(t,3):0}function o2(t){return t.trim()}function rr(t,e){return(t=e.exec(t))?t[0]:t}function we(t,e,n){return t.replace(e,n)}function nf(t,e,n){return t.indexOf(e,n)}function _t(t,e){return t.charCodeAt(e)|0}function Gl(t,e,n){return t.slice(e,n)}function Ii(t){return t.length}function a2(t){return t.length}function Ic(t,e){return e.push(t),t}function HO(t,e){return t.map(e).join("")}function jE(t,e){return t.filter(function(n){return!rr(n,e)})}var Vm=1,ql=1,l2=0,ti=0,lt=0,nc="";function Gm(t,e,n,i,r,s,o,a){return{value:t,root:e,parent:n,type:i,props:r,children:s,line:Vm,column:ql,length:o,return:"",siblings:a}}function Dr(t,e){return j1(Gm("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function ia(t){for(;t.root;)t=Dr(t.root,{children:[t]});Ic(t,t.siblings)}function VO(){return lt}function GO(){return lt=ti>0?_t(nc,--ti):0,ql--,lt===10&&(ql=1,Vm--),lt}function pi(){return lt=ti<l2?_t(nc,ti++):0,ql++,lt===10&&(ql=1,Vm++),lt}function No(){return _t(nc,ti)}function rf(){return ti}function qm(t,e){return Gl(nc,t,e)}function W1(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function qO(t){return Vm=ql=1,l2=Ii(nc=t),ti=0,[]}function YO(t){return nc="",t}function cv(t){return o2(qm(ti-1,B1(t===91?t+2:t===40?t+1:t)))}function KO(t){for(;(lt=No())&&lt<33;)pi();return W1(t)>2||W1(lt)>3?"":" "}function XO(t,e){for(;--e&&pi()&&!(lt<48||lt>102||lt>57&&lt<65||lt>70&&lt<97););return qm(t,rf()+(e<6&&No()==32&&pi()==32))}function B1(t){for(;pi();)switch(lt){case t:return ti;case 34:case 39:t!==34&&t!==39&&B1(lt);break;case 40:t===41&&B1(t);break;case 92:pi();break}return ti}function QO(t,e){for(;pi()&&t+lt!==57&&!(t+lt===84&&No()===47););return"/*"+qm(e,ti-1)+"*"+Mx(t===47?t:pi())}function ZO(t){for(;!W1(No());)pi();return qm(t,ti)}function JO(t){return YO(sf("",null,null,null,[""],t=qO(t),0,[0],t))}function sf(t,e,n,i,r,s,o,a,l){for(var h=0,u=0,f=o,p=0,m=0,y=0,A=1,b=1,w=1,S=0,E="",T=r,R=s,I=i,M=E;b;)switch(y=S,S=pi()){case 40:if(y!=108&&_t(M,f-1)==58){nf(M+=we(cv(S),"&","&\f"),"&\f",s2(h?a[h-1]:0))!=-1&&(w=-1);break}case 34:case 39:case 91:M+=cv(S);break;case 9:case 10:case 13:case 32:M+=KO(y);break;case 92:M+=XO(rf()-1,7);continue;case 47:switch(No()){case 42:case 47:Ic(e3(QO(pi(),rf()),e,n,l),l);break;default:M+="/"}break;case 123*A:a[h++]=Ii(M)*w;case 125*A:case 59:case 0:switch(S){case 0:case 125:b=0;case 59+u:w==-1&&(M=we(M,/\f/g,"")),m>0&&Ii(M)-f&&Ic(m>32?BE(M+";",i,n,f-1,l):BE(we(M," ","")+";",i,n,f-2,l),l);break;case 59:M+=";";default:if(Ic(I=WE(M,e,n,h,u,r,a,E,T=[],R=[],f,s),s),S===123)if(u===0)sf(M,e,I,I,T,s,f,a,R);else switch(p===99&&_t(M,3)===110?100:p){case 100:case 108:case 109:case 115:sf(t,I,I,i&&Ic(WE(t,I,I,0,0,r,a,E,r,T=[],f,R),R),r,R,f,a,i?T:R);break;default:sf(M,I,I,I,[""],R,0,a,R)}}h=u=m=0,A=w=1,E=M="",f=o;break;case 58:f=1+Ii(M),m=y;default:if(A<1){if(S==123)--A;else if(S==125&&A++==0&&GO()==125)continue}switch(M+=Mx(S),S*A){case 38:w=u>0?1:(M+="\f",-1);break;case 44:a[h++]=(Ii(M)-1)*w,w=1;break;case 64:No()===45&&(M+=cv(pi())),p=No(),u=f=Ii(E=M+=ZO(rf())),S++;break;case 45:y===45&&Ii(M)==2&&(A=0)}}return s}function WE(t,e,n,i,r,s,o,a,l,h,u,f){for(var p=r-1,m=r===0?s:[""],y=a2(m),A=0,b=0,w=0;A<i;++A)for(var S=0,E=Gl(t,p+1,p=s2(b=o[A])),T=t;S<y;++S)(T=o2(b>0?m[S]+" "+E:we(E,/&\f/g,m[S])))&&(l[w++]=T);return Gm(t,e,n,r===0?Hm:a,l,h,u,f)}function e3(t,e,n,i){return Gm(t,e,n,i2,Mx(VO()),Gl(t,2,-2),0,i)}function BE(t,e,n,i,r){return Gm(t,e,n,Rx,Gl(t,0,i),Gl(t,i+1,-1),i,r)}function c2(t,e,n){switch(UO(t,e)){case 5103:return Re+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Re+t+t;case 4789:return ju+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Re+t+ju+t+He+t+t;case 5936:switch(_t(t,e+11)){case 114:return Re+t+He+we(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Re+t+He+we(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Re+t+He+we(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return Re+t+He+t+t;case 6165:return Re+t+He+"flex-"+t+t;case 5187:return Re+t+we(t,/(\w+).+(:[^]+)/,Re+"box-$1$2"+He+"flex-$1$2")+t;case 5443:return Re+t+He+"flex-item-"+we(t,/flex-|-self/g,"")+(rr(t,/flex-|baseline/)?"":He+"grid-row-"+we(t,/flex-|-self/g,""))+t;case 4675:return Re+t+He+"flex-line-pack"+we(t,/align-content|flex-|-self/g,"")+t;case 5548:return Re+t+He+we(t,"shrink","negative")+t;case 5292:return Re+t+He+we(t,"basis","preferred-size")+t;case 6060:return Re+"box-"+we(t,"-grow","")+Re+t+He+we(t,"grow","positive")+t;case 4554:return Re+we(t,/([^-])(transform)/g,"$1"+Re+"$2")+t;case 6187:return we(we(we(t,/(zoom-|grab)/,Re+"$1"),/(image-set)/,Re+"$1"),t,"")+t;case 5495:case 3959:return we(t,/(image-set\([^]*)/,Re+"$1$`$1");case 4968:return we(we(t,/(.+:)(flex-)?(.*)/,Re+"box-pack:$3"+He+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Re+t+t;case 4200:if(!rr(t,/flex-|baseline/))return He+"grid-column-align"+Gl(t,e)+t;break;case 2592:case 3360:return He+we(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(i,r){return e=r,rr(i.props,/grid-\w+-end/)})?~nf(t+(n=n[e].value),"span",0)?t:He+we(t,"-start","")+t+He+"grid-row-span:"+(~nf(n,"span",0)?rr(n,/\d+/):+rr(n,/\d+/)-+rr(t,/\d+/))+";":He+we(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(i){return rr(i.props,/grid-\w+-start/)})?t:He+we(we(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return we(t,/(.+)-inline(.+)/,Re+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ii(t)-1-e>6)switch(_t(t,e+1)){case 109:if(_t(t,e+4)!==45)break;case 102:return we(t,/(.+:)(.+)-([^]+)/,"$1"+Re+"$2-$3$1"+ju+(_t(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~nf(t,"stretch",0)?c2(we(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return we(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(i,r,s,o,a,l,h){return He+r+":"+s+h+(o?He+r+"-span:"+(a?l:+l-+s)+h:"")+t});case 4949:if(_t(t,e+6)===121)return we(t,":",":"+Re)+t;break;case 6444:switch(_t(t,_t(t,14)===45?18:11)){case 120:return we(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Re+(_t(t,14)===45?"inline-":"")+"box$3$1"+Re+"$2$3$1"+He+"$2box$3")+t;case 100:return we(t,":",":"+He)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return we(t,"scroll-","scroll-snap-")+t}return t}function Mg(t,e){for(var n="",i=0;i<t.length;i++)n+=e(t[i],i,t,e)||"";return n}function t3(t,e,n,i){switch(t.type){case zO:if(t.children.length)break;case BO:case Rx:return t.return=t.return||t.value;case i2:return"";case r2:return t.return=t.value+"{"+Mg(t.children,i)+"}";case Hm:if(!Ii(t.value=t.props.join(",")))return""}return Ii(n=Mg(t.children,i))?t.return=t.value+"{"+n+"}":""}function n3(t){var e=a2(t);return function(n,i,r,s){for(var o="",a=0;a<e;a++)o+=t[a](n,i,r,s)||"";return o}}function i3(t){return function(e){e.root||(e=e.return)&&t(e)}}function r3(t,e,n,i){if(t.length>-1&&!t.return)switch(t.type){case Rx:t.return=c2(t.value,t.length,n);return;case r2:return Mg([Dr(t,{value:we(t.value,"@","@"+Re)})],i);case Hm:if(t.length)return HO(n=t.props,function(r){switch(rr(r,i=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":ia(Dr(t,{props:[we(r,/:(read-\w+)/,":"+ju+"$1")]})),ia(Dr(t,{props:[r]})),j1(t,{props:jE(n,i)});break;case"::placeholder":ia(Dr(t,{props:[we(r,/:(plac\w+)/,":"+Re+"input-$1")]})),ia(Dr(t,{props:[we(r,/:(plac\w+)/,":"+ju+"$1")]})),ia(Dr(t,{props:[we(r,/:(plac\w+)/,He+"input-$1")]})),ia(Dr(t,{props:[r]})),j1(t,{props:jE(n,i)});break}return""})}}var s3={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},zo=typeof ge<"u"&&ge.env!==void 0&&(ge.env.REACT_APP_SC_ATTR||ge.env.SC_ATTR)||"data-styled",u2="active",h2="data-styled-version",Ym="6.1.11",Lx=`/*!sc*/
`,Ix=typeof window<"u"&&"HTMLElement"in window,o3=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof ge<"u"&&ge.env!==void 0&&ge.env.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&ge.env.REACT_APP_SC_DISABLE_SPEEDY!==""?ge.env.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&ge.env.REACT_APP_SC_DISABLE_SPEEDY:typeof ge<"u"&&ge.env!==void 0&&ge.env.SC_DISABLE_SPEEDY!==void 0&&ge.env.SC_DISABLE_SPEEDY!==""?ge.env.SC_DISABLE_SPEEDY!=="false"&&ge.env.SC_DISABLE_SPEEDY:ge.env.NODE_ENV!=="production"),zE=/invalid hook call/i,vd=new Set,a3=function(t,e){if(ge.env.NODE_ENV!=="production"){var n=e?' with the id of "'.concat(e,'"'):"",i="The component ".concat(t).concat(n,` has been created dynamically.
`)+`You may see this warning because you've called styled inside another component.
To resolve this only create new StyledComponents outside of any render method and function component.`,r=console.error;try{var s=!0;console.error=function(o){for(var a=[],l=1;l<arguments.length;l++)a[l-1]=arguments[l];zE.test(o)?(s=!1,vd.delete(i)):r.apply(void 0,Bo([o],a,!1))},V.useRef(),s&&!vd.has(i)&&(console.warn(i),vd.add(i))}catch(o){zE.test(o.message)&&vd.delete(i)}finally{console.error=r}}},Km=Object.freeze([]),Yl=Object.freeze({});function l3(t,e,n){return n===void 0&&(n=Yl),t.theme!==n.theme&&t.theme||e||n.theme}var z1=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),c3=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,u3=/(^-|-$)/g;function UE(t){return t.replace(c3,"-").replace(u3,"")}var h3=/(a)(d)/gi,yd=52,HE=function(t){return String.fromCharCode(t+(t>25?39:97))};function U1(t){var e,n="";for(e=Math.abs(t);e>yd;e=e/yd|0)n=HE(e%yd)+n;return(HE(e%yd)+n).replace(h3,"$1-$2")}var uv,d2=5381,co=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},f2=function(t){return co(d2,t)};function p2(t){return U1(f2(t)>>>0)}function g2(t){return ge.env.NODE_ENV!=="production"&&typeof t=="string"&&t||t.displayName||t.name||"Component"}function hv(t){return typeof t=="string"&&(ge.env.NODE_ENV==="production"||t.charAt(0)===t.charAt(0).toLowerCase())}var m2=typeof Symbol=="function"&&Symbol.for,v2=m2?Symbol.for("react.memo"):60115,d3=m2?Symbol.for("react.forward_ref"):60112,f3={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},p3={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},y2={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},g3=((uv={})[d3]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},uv[v2]=y2,uv);function VE(t){return("type"in(e=t)&&e.type.$$typeof)===v2?y2:"$$typeof"in t?g3[t.$$typeof]:f3;var e}var m3=Object.defineProperty,v3=Object.getOwnPropertyNames,GE=Object.getOwnPropertySymbols,y3=Object.getOwnPropertyDescriptor,w3=Object.getPrototypeOf,qE=Object.prototype;function w2(t,e,n){if(typeof e!="string"){if(qE){var i=w3(e);i&&i!==qE&&w2(t,i,n)}var r=v3(e);GE&&(r=r.concat(GE(e)));for(var s=VE(t),o=VE(e),a=0;a<r.length;++a){var l=r[a];if(!(l in p3||n&&n[l]||o&&l in o||s&&l in s)){var h=y3(e,l);try{m3(t,l,h)}catch{}}}}return t}function Uo(t){return typeof t=="function"}function Nx(t){return typeof t=="object"&&"styledComponentId"in t}function Eo(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function H1(t,e){if(t.length===0)return"";for(var n=t[0],i=1;i<t.length;i++)n+=t[i];return n}function Kl(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function V1(t,e,n){if(n===void 0&&(n=!1),!n&&!Kl(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var i=0;i<e.length;i++)t[i]=V1(t[i],e[i]);else if(Kl(e))for(var i in e)t[i]=V1(t[i],e[i]);return t}function Dx(t,e){Object.defineProperty(t,"toString",{value:e})}var S3=ge.env.NODE_ENV!=="production"?{1:`Cannot create styled-component for component: %s.

`,2:`Can't collect styles once you've consumed a \`ServerStyleSheet\`'s styles! \`ServerStyleSheet\` is a one off instance for each server-side render cycle.

- Are you trying to reuse it across renders?
- Are you accidentally calling collectStyles twice?

`,3:`Streaming SSR is only supported in a Node.js environment; Please do not try to call this method in the browser.

`,4:`The \`StyleSheetManager\` expects a valid target or sheet prop!

- Does this error occur on the client and is your target falsy?
- Does this error occur on the server and is the sheet falsy?

`,5:`The clone method cannot be used on the client!

- Are you running in a client-like environment on the server?
- Are you trying to run SSR on the client?

`,6:`Trying to insert a new style tag, but the given Node is unmounted!

- Are you using a custom target that isn't mounted?
- Does your document not have a valid head element?
- Have you accidentally removed a style tag manually?

`,7:'ThemeProvider: Please return an object from your "theme" prop function, e.g.\n\n```js\ntheme={() => ({})}\n```\n\n',8:`ThemeProvider: Please make your "theme" prop an object.

`,9:"Missing document `<head>`\n\n",10:`Cannot find a StyleSheet instance. Usually this happens if there are multiple copies of styled-components loaded at once. Check out this issue for how to troubleshoot and fix the common cases where this situation can happen: https://github.com/styled-components/styled-components/issues/1941#issuecomment-417862021

`,11:`_This error was replaced with a dev-time warning, it will be deleted for v4 final._ [createGlobalStyle] received children which will not be rendered. Please use the component without passing children elements.

`,12:"It seems you are interpolating a keyframe declaration (%s) into an untagged string. This was supported in styled-components v3, but is not longer supported in v4 as keyframes are now injected on-demand. Please wrap your string in the css\\`\\` helper which ensures the styles are injected correctly. See https://www.styled-components.com/docs/api#css\n\n",13:`%s is not a styled component and cannot be referred to via component selector. See https://www.styled-components.com/docs/advanced#referring-to-other-components for more details.

`,14:`ThemeProvider: "theme" prop is required.

`,15:"A stylis plugin has been supplied that is not named. We need a name for each plugin to be able to prevent styling collisions between different stylis configurations within the same app. Before you pass your plugin to `<StyleSheetManager stylisPlugins={[]}>`, please make sure each plugin is uniquely-named, e.g.\n\n```js\nObject.defineProperty(importedPlugin, 'name', { value: 'some-unique-name' });\n```\n\n",16:`Reached the limit of how many styled components may be created at group %s.
You may only create up to 1,073,741,824 components. If you're creating components dynamically,
as for instance in your render method then you may be running into this limitation.

`,17:`CSSStyleSheet could not be found on HTMLStyleElement.
Has styled-components' style tag been unmounted or altered by another script?
`,18:"ThemeProvider: Please make sure your useTheme hook is within a `<ThemeProvider>`"}:{};function x3(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=t[0],i=[],r=1,s=t.length;r<s;r+=1)i.push(t[r]);return i.forEach(function(o){n=n.replace(/%[a-z]/,o)}),n}function Ar(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return ge.env.NODE_ENV==="production"?new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):"")):new Error(x3.apply(void 0,Bo([S3[t]],e,!1)).trim())}var A3=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,i=0;i<e;i++)n+=this.groupSizes[i];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var i=this.groupSizes,r=i.length,s=r;e>=s;)if((s<<=1)<0)throw Ar(16,"".concat(e));this.groupSizes=new Uint32Array(s),this.groupSizes.set(i),this.length=s;for(var o=r;o<s;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),l=(o=0,n.length);o<l;o++)this.tag.insertRule(a,n[o])&&(this.groupSizes[e]++,a++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],i=this.indexOfGroup(e),r=i+n;this.groupSizes[e]=0;for(var s=i;s<r;s++)this.tag.deleteRule(i)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var i=this.groupSizes[e],r=this.indexOfGroup(e),s=r+i,o=r;o<s;o++)n+="".concat(this.tag.getRule(o)).concat(Lx);return n},t}(),E3=1<<30,of=new Map,Lg=new Map,af=1,wd=function(t){if(of.has(t))return of.get(t);for(;Lg.has(af);)af++;var e=af++;if(ge.env.NODE_ENV!=="production"&&((0|e)<0||e>E3))throw Ar(16,"".concat(e));return of.set(t,e),Lg.set(e,t),e},k3=function(t,e){af=e+1,of.set(t,e),Lg.set(e,t)},_3="style[".concat(zo,"][").concat(h2,'="').concat(Ym,'"]'),b3=new RegExp("^".concat(zo,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),C3=function(t,e,n){for(var i,r=n.split(","),s=0,o=r.length;s<o;s++)(i=r[s])&&t.registerName(e,i)},P3=function(t,e){for(var n,i=((n=e.textContent)!==null&&n!==void 0?n:"").split(Lx),r=[],s=0,o=i.length;s<o;s++){var a=i[s].trim();if(a){var l=a.match(b3);if(l){var h=0|parseInt(l[1],10),u=l[2];h!==0&&(k3(u,h),C3(t,u,l[3]),t.getTag().insertRules(h,r)),r.length=0}else r.push(a)}}};function T3(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var S2=function(t){var e=document.head,n=t||e,i=document.createElement("style"),r=function(a){var l=Array.from(a.querySelectorAll("style[".concat(zo,"]")));return l[l.length-1]}(n),s=r!==void 0?r.nextSibling:null;i.setAttribute(zo,u2),i.setAttribute(h2,Ym);var o=T3();return o&&i.setAttribute("nonce",o),n.insertBefore(i,s),i},R3=function(){function t(e){this.element=S2(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var i=document.styleSheets,r=0,s=i.length;r<s;r++){var o=i[r];if(o.ownerNode===n)return o}throw Ar(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t}(),M3=function(){function t(e){this.element=S2(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var i=document.createTextNode(n);return this.element.insertBefore(i,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),L3=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),YE=Ix,I3={isServer:!Ix,useCSSOMInjection:!o3},x2=function(){function t(e,n,i){e===void 0&&(e=Yl),n===void 0&&(n={});var r=this;this.options=Xt(Xt({},I3),e),this.gs=n,this.names=new Map(i),this.server=!!e.isServer,!this.server&&Ix&&YE&&(YE=!1,function(s){for(var o=document.querySelectorAll(_3),a=0,l=o.length;a<l;a++){var h=o[a];h&&h.getAttribute(zo)!==u2&&(P3(s,h),h.parentNode&&h.parentNode.removeChild(h))}}(this)),Dx(this,function(){return function(s){for(var o=s.getTag(),a=o.length,l="",h=function(f){var p=function(w){return Lg.get(w)}(f);if(p===void 0)return"continue";var m=s.names.get(p),y=o.getGroup(f);if(m===void 0||y.length===0)return"continue";var A="".concat(zo,".g").concat(f,'[id="').concat(p,'"]'),b="";m!==void 0&&m.forEach(function(w){w.length>0&&(b+="".concat(w,","))}),l+="".concat(y).concat(A,'{content:"').concat(b,'"}').concat(Lx)},u=0;u<a;u++)h(u);return l}(r)})}return t.registerId=function(e){return wd(e)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(Xt(Xt({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(n){var i=n.useCSSOMInjection,r=n.target;return n.isServer?new L3(r):i?new R3(r):new M3(r)}(this.options),new A3(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(wd(e),this.names.has(e))this.names.get(e).add(n);else{var i=new Set;i.add(n),this.names.set(e,i)}},t.prototype.insertRules=function(e,n,i){this.registerName(e,n),this.getTag().insertRules(wd(e),i)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(wd(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),N3=/&/g,D3=/^\s*\/\/.*$/gm;function A2(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(i){return"".concat(e," ").concat(i)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=A2(n.children,e)),n})}function O3(t){var e,n,i,r=Yl,s=r.options,o=s===void 0?Yl:s,a=r.plugins,l=a===void 0?Km:a,h=function(p,m,y){return y.startsWith(n)&&y.endsWith(n)&&y.replaceAll(n,"").length>0?".".concat(e):p},u=l.slice();u.push(function(p){p.type===Hm&&p.value.includes("&")&&(p.props[0]=p.props[0].replace(N3,n).replace(i,h))}),o.prefix&&u.push(r3),u.push(t3);var f=function(p,m,y,A){m===void 0&&(m=""),y===void 0&&(y=""),A===void 0&&(A="&"),e=A,n=m,i=new RegExp("\\".concat(n,"\\b"),"g");var b=p.replace(D3,""),w=JO(y||m?"".concat(y," ").concat(m," { ").concat(b," }"):b);o.namespace&&(w=A2(w,o.namespace));var S=[];return Mg(w,n3(u.concat(i3(function(E){return S.push(E)})))),S};return f.hash=l.length?l.reduce(function(p,m){return m.name||Ar(15),co(p,m.name)},d2).toString():"",f}var $3=new x2,G1=O3(),E2=Cs.createContext({shouldForwardProp:void 0,styleSheet:$3,stylis:G1});E2.Consumer;Cs.createContext(void 0);function KE(){return V.useContext(E2)}var q1=function(){function t(e,n){var i=this;this.inject=function(r,s){s===void 0&&(s=G1);var o=i.name+s.hash;r.hasNameForId(i.id,o)||r.insertRules(i.id,o,s(i.rules,o,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,Dx(this,function(){throw Ar(12,String(i.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=G1),this.name+e.hash},t}(),F3=function(t){return t>="A"&&t<="Z"};function XE(t){for(var e="",n=0;n<t.length;n++){var i=t[n];if(n===1&&i==="-"&&t[0]==="-")return t;F3(i)?e+="-"+i.toLowerCase():e+=i}return e.startsWith("ms-")?"-"+e:e}var k2=function(t){return t==null||t===!1||t===""},_2=function(t){var e,n,i=[];for(var r in t){var s=t[r];t.hasOwnProperty(r)&&!k2(s)&&(Array.isArray(s)&&s.isCss||Uo(s)?i.push("".concat(XE(r),":"),s,";"):Kl(s)?i.push.apply(i,Bo(Bo(["".concat(r," {")],_2(s),!1),["}"],!1)):i.push("".concat(XE(r),": ").concat((e=r,(n=s)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in s3||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return i};function Do(t,e,n,i){if(k2(t))return[];if(Nx(t))return[".".concat(t.styledComponentId)];if(Uo(t)){if(!Uo(s=t)||s.prototype&&s.prototype.isReactComponent||!e)return[t];var r=t(e);return ge.env.NODE_ENV==="production"||typeof r!="object"||Array.isArray(r)||r instanceof q1||Kl(r)||r===null||console.error("".concat(g2(t)," is not a styled component and cannot be referred to via component selector. See https://www.styled-components.com/docs/advanced#referring-to-other-components for more details.")),Do(r,e,n,i)}var s;return t instanceof q1?n?(t.inject(n,i),[t.getName(i)]):[t]:Kl(t)?_2(t):Array.isArray(t)?Array.prototype.concat.apply(Km,t.map(function(o){return Do(o,e,n,i)})):[t.toString()]}function j3(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(Uo(n)&&!Nx(n))return!1}return!0}var W3=f2(Ym),B3=function(){function t(e,n,i){this.rules=e,this.staticRulesId="",this.isStatic=ge.env.NODE_ENV==="production"&&(i===void 0||i.isStatic)&&j3(e),this.componentId=n,this.baseHash=co(W3,n),this.baseStyle=i,x2.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,i){var r=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,i):"";if(this.isStatic&&!i.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))r=Eo(r,this.staticRulesId);else{var s=H1(Do(this.rules,e,n,i)),o=U1(co(this.baseHash,s)>>>0);if(!n.hasNameForId(this.componentId,o)){var a=i(s,".".concat(o),void 0,this.componentId);n.insertRules(this.componentId,o,a)}r=Eo(r,o),this.staticRulesId=o}else{for(var l=co(this.baseHash,i.hash),h="",u=0;u<this.rules.length;u++){var f=this.rules[u];if(typeof f=="string")h+=f,ge.env.NODE_ENV!=="production"&&(l=co(l,f));else if(f){var p=H1(Do(f,e,n,i));l=co(l,p+u),h+=p}}if(h){var m=U1(l>>>0);n.hasNameForId(this.componentId,m)||n.insertRules(this.componentId,m,i(h,".".concat(m),void 0,this.componentId)),r=Eo(r,m)}}return r},t}(),Ig=Cs.createContext(void 0);Ig.Consumer;function z3(t){var e=Cs.useContext(Ig),n=V.useMemo(function(){return function(i,r){if(!i)throw Ar(14);if(Uo(i)){var s=i(r);if(ge.env.NODE_ENV!=="production"&&(s===null||Array.isArray(s)||typeof s!="object"))throw Ar(7);return s}if(Array.isArray(i)||typeof i!="object")throw Ar(8);return r?Xt(Xt({},r),i):i}(t.theme,e)},[t.theme,e]);return t.children?Cs.createElement(Ig.Provider,{value:n},t.children):null}var dv={},QE=new Set;function U3(t,e,n){var i=Nx(t),r=t,s=!hv(t),o=e.attrs,a=o===void 0?Km:o,l=e.componentId,h=l===void 0?function(T,R){var I=typeof T!="string"?"sc":UE(T);dv[I]=(dv[I]||0)+1;var M="".concat(I,"-").concat(p2(Ym+I+dv[I]));return R?"".concat(R,"-").concat(M):M}(e.displayName,e.parentComponentId):l,u=e.displayName,f=u===void 0?function(T){return hv(T)?"styled.".concat(T):"Styled(".concat(g2(T),")")}(t):u,p=e.displayName&&e.componentId?"".concat(UE(e.displayName),"-").concat(e.componentId):e.componentId||h,m=i&&r.attrs?r.attrs.concat(a).filter(Boolean):a,y=e.shouldForwardProp;if(i&&r.shouldForwardProp){var A=r.shouldForwardProp;if(e.shouldForwardProp){var b=e.shouldForwardProp;y=function(T,R){return A(T,R)&&b(T,R)}}else y=A}var w=new B3(n,p,i?r.componentStyle:void 0);function S(T,R){return function(I,M,C){var P=I.attrs,N=I.componentStyle,$=I.defaultProps,z=I.foldedComponentIds,U=I.styledComponentId,Q=I.target,ee=Cs.useContext(Ig),G=KE(),F=I.shouldForwardProp||G.shouldForwardProp;ge.env.NODE_ENV!=="production"&&V.useDebugValue(U);var H=l3(M,ee,$)||Yl,W=function(ie,le,re){for(var xe,X=Xt(Xt({},le),{className:void 0,theme:re}),se=0;se<ie.length;se+=1){var me=Uo(xe=ie[se])?xe(X):xe;for(var ye in me)X[ye]=ye==="className"?Eo(X[ye],me[ye]):ye==="style"?Xt(Xt({},X[ye]),me[ye]):me[ye]}return le.className&&(X.className=Eo(X.className,le.className)),X}(P,M,H),K=W.as||Q,ne={};for(var B in W)W[B]===void 0||B[0]==="$"||B==="as"||B==="theme"&&W.theme===H||(B==="forwardedAs"?ne.as=W.forwardedAs:F&&!F(B,K)||(ne[B]=W[B],F||ge.env.NODE_ENV!=="development"||WO(B)||QE.has(B)||!z1.has(K)||(QE.add(B),console.warn('styled-components: it looks like an unknown prop "'.concat(B,'" is being sent through to the DOM, which will likely trigger a React console error. If you would like automatic filtering of unknown props, you can opt-into that behavior via `<StyleSheetManager shouldForwardProp={...}>` (connect an API like `@emotion/is-prop-valid`) or consider using transient props (`$` prefix for automatic filtering.)')))));var oe=function(ie,le){var re=KE(),xe=ie.generateAndInjectStyles(le,re.styleSheet,re.stylis);return ge.env.NODE_ENV!=="production"&&V.useDebugValue(xe),xe}(N,W);ge.env.NODE_ENV!=="production"&&I.warnTooManyClasses&&I.warnTooManyClasses(oe);var te=Eo(z,U);return oe&&(te+=" "+oe),W.className&&(te+=" "+W.className),ne[hv(K)&&!z1.has(K)?"class":"className"]=te,ne.ref=C,V.createElement(K,ne)}(E,T,R)}S.displayName=f;var E=Cs.forwardRef(S);return E.attrs=m,E.componentStyle=w,E.displayName=f,E.shouldForwardProp=y,E.foldedComponentIds=i?Eo(r.foldedComponentIds,r.styledComponentId):"",E.styledComponentId=p,E.target=i?r.target:t,Object.defineProperty(E,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(T){this._foldedDefaultProps=i?function(R){for(var I=[],M=1;M<arguments.length;M++)I[M-1]=arguments[M];for(var C=0,P=I;C<P.length;C++)V1(R,P[C],!0);return R}({},r.defaultProps,T):T}}),ge.env.NODE_ENV!=="production"&&(a3(f,p),E.warnTooManyClasses=function(T,R){var I={},M=!1;return function(C){if(!M&&(I[C]=!0,Object.keys(I).length>=200)){var P=R?' with the id of "'.concat(R,'"'):"";console.warn("Over ".concat(200," classes were generated for component ").concat(T).concat(P,`.
`)+`Consider using the attrs method, together with a style object for frequently changed styles.
Example:
  const Component = styled.div.attrs(props => ({
    style: {
      background: props.background,
    },
  }))\`width: 100%;\`

  <Component />`),M=!0,I={}}}}(f,p)),Dx(E,function(){return".".concat(E.styledComponentId)}),s&&w2(E,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),E}function ZE(t,e){for(var n=[t[0]],i=0,r=e.length;i<r;i+=1)n.push(e[i],t[i+1]);return n}var JE=function(t){return Object.assign(t,{isCss:!0})};function Xm(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Uo(t)||Kl(t))return JE(Do(ZE(Km,Bo([t],e,!0))));var i=t;return e.length===0&&i.length===1&&typeof i[0]=="string"?Do(i):JE(Do(ZE(i,e)))}function Y1(t,e,n){if(n===void 0&&(n=Yl),!e)throw Ar(1,e);var i=function(r){for(var s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];return t(e,n,Xm.apply(void 0,Bo([r],s,!1)))};return i.attrs=function(r){return Y1(t,e,Xt(Xt({},n),{attrs:Array.prototype.concat(n.attrs,r).filter(Boolean)}))},i.withConfig=function(r){return Y1(t,e,Xt(Xt({},n),r))},i}var b2=function(t){return Y1(U3,t)},Se=b2;z1.forEach(function(t){Se[t]=b2(t)});function H3(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];ge.env.NODE_ENV!=="production"&&typeof navigator<"u"&&navigator.product==="ReactNative"&&console.warn("`keyframes` cannot be used on ReactNative, only on the web. To do animation in ReactNative please use Animated.");var i=H1(Xm.apply(void 0,Bo([t],e,!1))),r=p2(i);return new q1(r,i)}ge.env.NODE_ENV!=="production"&&typeof navigator<"u"&&navigator.product==="ReactNative"&&console.warn(`It looks like you've imported 'styled-components' on React Native.
Perhaps you're looking to import 'styled-components/native'?
Read more about this at https://www.styled-components.com/docs/basics#react-native`);var Sd="__sc-".concat(zo,"__");ge.env.NODE_ENV!=="production"&&ge.env.NODE_ENV!=="test"&&typeof window<"u"&&(window[Sd]||(window[Sd]=0),window[Sd]===1&&console.warn(`It looks like there are several instances of 'styled-components' initialized in this application. This may cause dynamic styles to not render properly, errors during the rehydration process, a missing theme prop, and makes your application bigger without good reason.

See https://s-c.sh/2BAXzed for more info.`),window[Sd]+=1);const V3="Document {{ currentFileNo }} of {{ allFilesCount }}",G3="No renderer for file type: {{{ fileType }}}",q3="Download file",Y3="Your file is broken. Please check it on your machine.",K3="Recipients",X3="Sender",Q3="Loading...",Z3="Page {{ currentPage }}/{{ allPagesCount }}",J3={documentNavInfo:V3,noRendererMessage:G3,downloadButtonLabel:q3,brokenFile:Y3,msgPluginRecipients:K3,msgPluginSender:X3,pdfPluginLoading:Q3,pdfPluginPageNumber:Z3},e$="Dokument {{ currentFileNo }} z {{ allFilesCount }}",t$="Brak funckji renderującej dla: {{{ fileType }}}",n$="Pobierz plik",i$="Twój plik jest uszkodzony. Sprawdź go na swoim komputerze.",r$="Odbiorcy",s$="Nadawca",o$="Wczytywanie...",a$="Strona {{ currentPage }}/{{ allPagesCount }}",l$={documentNavInfo:e$,noRendererMessage:t$,downloadButtonLabel:n$,brokenFile:i$,msgPluginRecipients:r$,msgPluginSender:s$,pdfPluginLoading:o$,pdfPluginPageNumber:a$},c$="Documento {{ currentFileNo }} de {{ allFilesCount }}",u$="No hay procesador para el tipo de archivo: {{{ fileType }}}",h$="Descargar archivo",d$="Tu archivo está roto. Compruébalo en tu máquina.",f$="Destinatarios",p$="Remitente",g$="Cargando...",m$="Página {{ currentPage }}/{{ allPagesCount }}",v$={documentNavInfo:c$,noRendererMessage:u$,downloadButtonLabel:h$,brokenFile:d$,msgPluginRecipients:f$,msgPluginSender:p$,pdfPluginLoading:g$,pdfPluginPageNumber:m$},y$="Dokument {{ currentFileNo }} von {{ allFilesCount }}",w$="Kein Renderer für Dateityp: {{{ fileType }}}",S$="Datei herunterladen",x$="Ihre Datei ist defekt. Bitte überprüfen Sie sie auf Ihrem Rechner.",A$="Empfänger",E$="Absender",k$="Wird geladen...",_$="Seite {{ currentPage }}/{{ allPagesCount }}",b$={documentNavInfo:y$,noRendererMessage:w$,downloadButtonLabel:S$,brokenFile:x$,msgPluginRecipients:A$,msgPluginSender:E$,pdfPluginLoading:k$,pdfPluginPageNumber:_$},C$="Documento {{ currentFileNo }} di {{ allFilesCount }}",P$="Nessun renderer per il tipo di file: {{{ fileType }}}",T$="Scarica file",R$="Il tuo file è danneggiato. Controllalo sul tuo computer.",M$="Destinatari",L$="Mittente",I$="Caricamento in corso...",N$="Pagina {{ currentPage }}/{{ allPagesCount }}",D$={documentNavInfo:C$,noRendererMessage:P$,downloadButtonLabel:T$,brokenFile:R$,msgPluginRecipients:M$,msgPluginSender:L$,pdfPluginLoading:I$,pdfPluginPageNumber:N$},O$="Documento {{ currentFileNo }} de {{ allFilesCount }}",$$="Nenhum renderizador para o tipo de arquivo: {{{ fileType }}}",F$="Baixar arquivo",j$="Seu arquivo está quebrado. Por favor, verifique-o em sua máquina.",W$="Destinatários",B$="Remetente",z$="Carregando...",U$="Página {{ currentPage }}/{{ allPagesCount }}",H$={documentNavInfo:O$,noRendererMessage:$$,downloadButtonLabel:F$,brokenFile:j$,msgPluginRecipients:W$,msgPluginSender:B$,pdfPluginLoading:z$,pdfPluginPageNumber:U$},V$="Document {{ currentFileNo }} de {{ allFilesCount }}",G$="Aucun moteur de rendu pour le type de fichier : {{{ fileType }}}",q$="Télécharger le fichier",Y$="Votre fichier est cassé. Veuillez le vérifier sur votre machine.",K$="Destinataires",X$="Expéditeur",Q$="Chargement...",Z$="Page {{ currentPage }}/{{ allPagesCount }}",J$={documentNavInfo:V$,noRendererMessage:G$,downloadButtonLabel:q$,brokenFile:Y$,msgPluginRecipients:K$,msgPluginSender:X$,pdfPluginLoading:Q$,pdfPluginPageNumber:Z$},eF="مستند {{ currentFileNo }} من {{ allFilesCount }}",tF="{{{ fileType }}} : لا يمكننا عرض هذا النوع من الملفات",nF="تحميل الملف",iF="الملف تالف، يرجى التحقق منه على جهازك الخاص.",rF="المستلمين",sF="المرسل",oF="تحميل ...",aF=" {{ allPagesCount }} \\ {{ currentPage }} صفحة ",lF={documentNavInfo:eF,noRendererMessage:tF,downloadButtonLabel:nF,brokenFile:iF,msgPluginRecipients:rF,msgPluginSender:sF,pdfPluginLoading:oF,pdfPluginPageNumber:aF},cF="Dokument {{ currentFileNo }} od {{ allFilesCount }}",uF="Ne postoji pregledač za tip fajla: {{ fileType }}",hF="Preuzimanje fajla",dF="Vaš fajl nije dobar. Molimo Vas da probate da ga otvorite na vašem računaru.",fF="Primaoci",pF="Pošiljalac",gF="Učitavanje...",mF="Strana {{ currentPage }}/{{ allPagesCount }}",vF={documentNavInfo:cF,noRendererMessage:uF,downloadButtonLabel:hF,brokenFile:dF,msgPluginRecipients:fF,msgPluginSender:pF,pdfPluginLoading:gF,pdfPluginPageNumber:mF},yF="Документ {{ currentFileNo }} od {{ allFilesCount }}",wF="Не постоји прегледач за тип фајла: {{ fileType }}",SF="Преузимање фајла",xF="Ваш фајл није добар. Молимо Вас да пробате да га отворите на вашем рачунару.",AF="Примаоци",EF="Пошиљалац",kF="Учитавање...",_F="Страна {{ currentPage }}/{{ allPagesCount }}",bF={documentNavInfo:yF,noRendererMessage:wF,downloadButtonLabel:SF,brokenFile:xF,msgPluginRecipients:AF,msgPluginSender:EF,pdfPluginLoading:kF,pdfPluginPageNumber:_F},CF="ファイル {{ currentFileNo }} / {{ allFilesCount }}",PF="ファイルタイプに対応したレンダラーはありません: {{ fileType }}",TF="ダウンロード",RF="ファイルが壊れています。あなたのマシンでファイルを確認してください。",MF="受信者",LF="送信者",IF="ローティング中...",NF="ページ {{ currentPage }}/{{ allPagesCount }}",DF={documentNavInfo:CF,noRendererMessage:PF,downloadButtonLabel:TF,brokenFile:RF,msgPluginRecipients:MF,msgPluginSender:LF,pdfPluginLoading:IF,pdfPluginPageNumber:NF},OF="Документ {{ currentFileNo }} из {{ allFilesCount }}",$F="Данный тип файла не поддерживается рендером: {{{ fileType }}}",FF="Скачать файл",jF="Ваш файл сломан. Пожалуйста, проверьте его на своём комьютере.",WF="Получатели",BF="Отправитель",zF="Загрузка...",UF="Страница {{ currentPage }}/{{ allPagesCount }}",HF={documentNavInfo:OF,noRendererMessage:$F,downloadButtonLabel:FF,brokenFile:jF,msgPluginRecipients:WF,msgPluginSender:BF,pdfPluginLoading:zF,pdfPluginPageNumber:UF},VF="Dokument {{ currentFileNo }} av {{ allFilesCount }}",GF="Ingen renderare för filtypen: {{{ fileType }}}",qF="Ladda ner",YF="Filen är trasig. Var vänlig kontrollera den på din maskin.",KF="Mottagare",XF="Avsändare",QF="Laddar...",ZF="Sida {{ currentPage }}/{{ allPagesCount }}",JF={documentNavInfo:VF,noRendererMessage:GF,downloadButtonLabel:qF,brokenFile:YF,msgPluginRecipients:KF,msgPluginSender:XF,pdfPluginLoading:QF,pdfPluginPageNumber:ZF},K1={en:J3,pl:l$,es:v$,de:b$,it:D$,pt:H$,fr:J$,ar:lF,sr:vF,sr_cyr:bF,ja:DF,ru:HF,se:JF},Ox="en",C2="SET_ALL_DOCUMENTS",P2="SET_DOCUMENT_LOADING",T2="NEXT_DOCUMENT",R2="PREVIOUS_DOCUMENT",M2="UPDATE_CURRENT_DOCUMENT",L2="SET_RENDERER_RECT",I2="SET_MAIN_CONFIG",e4=(t,e)=>({type:C2,documents:t,initialActiveDocument:e}),fv=t=>({type:P2,value:t}),$x=()=>({type:T2}),Fx=()=>({type:R2}),X1=t=>({type:M2,document:t}),t4=t=>({type:L2,rect:t}),n4=t=>({type:I2,config:t}),Ng={currentFileNo:0,documents:[],documentLoading:!0,currentDocument:void 0,rendererRect:void 0,config:{},pluginRenderers:[],language:Ox},i4=(t=Ng,e)=>{switch(e.type){case C2:{const{documents:n,initialActiveDocument:i}=e;return{...t,documents:n,currentDocument:i||n[0]||null,currentFileNo:i&&n.includes(i)?n.indexOf(i):Ng.currentFileNo}}case P2:{const{value:n}=e;return{...t,documentLoading:n}}case T2:{if(t.currentFileNo>=t.documents.length-1)return t;const n=t.currentFileNo+1;return t.onDocumentChange&&t.onDocumentChange(t.documents[n]),{...t,currentFileNo:n,currentDocument:t.documents[n],documentLoading:!0}}case R2:{if(t.currentFileNo<=0)return t;const n=t.currentFileNo-1;return t.onDocumentChange&&t.onDocumentChange(t.documents[n]),{...t,currentFileNo:t.currentFileNo-1,currentDocument:t.documents[n],documentLoading:!0}}case M2:{const{document:n}=e;return{...t,currentDocument:n,currentFileNo:t.documents.findIndex(i=>i.uri===n.uri)}}case L2:{const{rect:n}=e;return{...t,rendererRect:n}}case I2:{const{config:n}=e;return{...t,config:n}}default:return t}},Ds=V.createContext({state:Ng,dispatch:()=>null}),r4=V.forwardRef((t,e)=>{const{children:n,documents:i,config:r,pluginRenderers:s,prefetchMethod:o,requestHeaders:a,initialActiveDocument:l,language:h,activeDocument:u,onDocumentChange:f}=t,[p,m]=V.useReducer(i4,{...Ng,documents:i||[],currentDocument:i&&i.length?l||i[0]:void 0,config:r,pluginRenderers:s,prefetchMethod:o,requestHeaders:a,currentFileNo:l?i.findIndex(y=>y===l)??0:0,language:h&&K1[h]?h:Ox,activeDocument:u,onDocumentChange:f});return V.useEffect(()=>{m(e4(i,l)),r&&m(n4(r))},[i,r,l]),V.useEffect(()=>{u&&m(X1(u))},[u]),V.useImperativeHandle(e,()=>({prev(){m(Fx())},next(){m($x())}}),[m]),O.jsx(Ds.Provider,{value:{state:p,dispatch:m},children:n})}),s4=Xm`
  background-color: ${t=>t.theme.primary};
  color: ${t=>t.theme.textPrimary};
`,o4=Xm`
  background-color: ${t=>t.theme.secondary};
  color: ${t=>t.theme.textSecondary};
`,Qm=Se.button`
  ${s4}
  display: flex;
  justify-content: center;
  align-items: center;
  width: 35px;
  height: 35px;
  padding: 0;
  margin: 0 0 0 5px;
  text-align: center;
  font-size: 18px;
  border: 0;
  outline: none;
  cursor: pointer;
  text-decoration: none;
  border-radius: 35px;
  opacity: ${t=>t.disabled?.4:1};
  pointer-events: ${t=>t.disabled?"none":"all"};
  box-shadow: 2px 2px 3px #00000033;

  @media (max-width: 768px) {
    width: 30px;
    height: 30px;
    font-size: 15px;
  }
`,N2=Se.a`
  display: flex;
  justify-content: center;
  align-items: center;
  border: 0;
  outline: none;
  cursor: pointer;
  text-decoration: none;
  border-radius: 35px;
  background-color: ${t=>t.theme.primary};
  color: ${t=>t.theme.textPrimary};
  box-shadow: 2px 2px 3px #00000033;

  width: 35px;
  height: 35px;
  font-size: 18px;
  @media (max-width: 768px) {
    width: 30px;
    height: 30px;
    font-size: 15px;
  }
`;Se(Qm)``;const a4=Se(Qm)`
  ${o4}
`,l4=t=>O.jsx(D2,{...t}),c4=t=>O.jsx(D2,{...t,reverse:!0}),D2=({color:t,size:e,reverse:n})=>O.jsx("svg",{width:e||"100%",height:e||"100%",style:{transform:`${n?"rotate(180deg)":""}`},id:"arrow_left",version:"1.1",viewBox:"0 0 32 32",xmlSpace:"preserve",children:O.jsx("path",{clipRule:"evenodd",d:"M31.106,15H3.278l8.325-8.293  c0.391-0.391,0.391-1.024,0-1.414c-0.391-0.391-1.024-0.391-1.414,0l-9.9,9.899c-0.385,0.385-0.385,1.029,0,1.414l9.9,9.9  c0.391,0.391,1.024,0.391,1.414,0c0.391-0.391,0.391-1.024,0-1.414L3.278,17h27.828c0.552,0,1-0.448,1-1  C32.106,15.448,31.658,15,31.106,15z",fill:t||"#aaa",fillRule:"evenodd",id:"Arrow_Back"})}),u4=t=>{const{color:e,size:n}=t;return O.jsx("svg",{width:n||"100%",height:n||"100%",version:"1.1",id:"Icons",viewBox:"0 0 32 32",xmlSpace:"preserve",style:{alignSelf:"center",justifySelf:"center"},children:O.jsxs("g",{children:[O.jsx("path",{fill:e||"#aaa",d:"M16,2c-0.6,0-1,0.4-1,1v5c0,0.6,0.4,1,1,1s1-0.4,1-1V3C17,2.4,16.6,2,16,2z"}),O.jsx("path",{fill:e||"#aaa",d:`M7.5,6.1c-0.4-0.4-1-0.4-1.4,0s-0.4,1,0,1.4l3.5,3.5c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3c0.4-0.4,0.4-1,0-1.4L7.5,6.1
		z`}),O.jsx("path",{fill:e||"#aaa",d:"M9,16c0-0.6-0.4-1-1-1H3c-0.6,0-1,0.4-1,1s0.4,1,1,1h5C8.6,17,9,16.6,9,16z"}),O.jsx("path",{fill:e||"#aaa",d:`M9.6,20.9l-3.5,3.5c-0.4,0.4-0.4,1,0,1.4c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3l3.5-3.5c0.4-0.4,0.4-1,0-1.4
		S10,20.6,9.6,20.9z`}),O.jsx("path",{fill:e||"#aaa",d:"M16,23c-0.6,0-1,0.4-1,1v5c0,0.6,0.4,1,1,1s1-0.4,1-1v-5C17,23.4,16.6,23,16,23z"}),O.jsx("path",{fill:e||"#aaa",d:`M22.4,20.9c-0.4-0.4-1-0.4-1.4,0s-0.4,1,0,1.4l3.5,3.5c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3c0.4-0.4,0.4-1,0-1.4
		L22.4,20.9z`}),O.jsx("path",{fill:e||"#aaa",d:"M29,15h-5c-0.6,0-1,0.4-1,1s0.4,1,1,1h5c0.6,0,1-0.4,1-1S29.6,15,29,15z"}),O.jsx("path",{fill:e||"#aaa",d:`M21.7,11.3c0.3,0,0.5-0.1,0.7-0.3l3.5-3.5c0.4-0.4,0.4-1,0-1.4s-1-0.4-1.4,0l-3.5,3.5c-0.4,0.4-0.4,1,0,1.4
		C21.1,11.2,21.4,11.3,21.7,11.3z`})]})})};/*!
 * mustache.js - Logic-less {{mustache}} templates with JavaScript
 * http://github.com/janl/mustache.js
 */var h4=Object.prototype.toString,ic=Array.isArray||function(t){return h4.call(t)==="[object Array]"};function jx(t){return typeof t=="function"}function d4(t){return ic(t)?"array":typeof t}function pv(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function ek(t,e){return t!=null&&typeof t=="object"&&e in t}function f4(t,e){return t!=null&&typeof t!="object"&&t.hasOwnProperty&&t.hasOwnProperty(e)}var p4=RegExp.prototype.test;function g4(t,e){return p4.call(t,e)}var m4=/\S/;function v4(t){return!g4(m4,t)}var y4={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function w4(t){return String(t).replace(/[&<>"'`=\/]/g,function(e){return y4[e]})}var S4=/\s*/,x4=/\s+/,tk=/\s*=/,A4=/\s*\}/,E4=/#|\^|\/|>|\{|&|=|!/;function k4(t,e){if(!t)return[];var n=!1,i=[],r=[],s=[],o=!1,a=!1,l="",h=0;function u(){if(o&&!a)for(;s.length;)delete r[s.pop()];else s=[];o=!1,a=!1}var f,p,m;function y(C){if(typeof C=="string"&&(C=C.split(x4,2)),!ic(C)||C.length!==2)throw new Error("Invalid tags: "+C);f=new RegExp(pv(C[0])+"\\s*"),p=new RegExp("\\s*"+pv(C[1])),m=new RegExp("\\s*"+pv("}"+C[1]))}y(e||In.tags);for(var A=new Wh(t),b,w,S,E,T,R;!A.eos();){if(b=A.pos,S=A.scanUntil(f),S)for(var I=0,M=S.length;I<M;++I)E=S.charAt(I),v4(E)?(s.push(r.length),l+=E):(a=!0,n=!0,l+=" "),r.push(["text",E,b,b+1]),b+=1,E===`
`&&(u(),l="",h=0,n=!1);if(!A.scan(f))break;if(o=!0,w=A.scan(E4)||"name",A.scan(S4),w==="="?(S=A.scanUntil(tk),A.scan(tk),A.scanUntil(p)):w==="{"?(S=A.scanUntil(m),A.scan(A4),A.scanUntil(p),w="&"):S=A.scanUntil(p),!A.scan(p))throw new Error("Unclosed tag at "+A.pos);if(w==">"?T=[w,S,b,A.pos,l,h,n]:T=[w,S,b,A.pos],h++,r.push(T),w==="#"||w==="^")i.push(T);else if(w==="/"){if(R=i.pop(),!R)throw new Error('Unopened section "'+S+'" at '+b);if(R[1]!==S)throw new Error('Unclosed section "'+R[1]+'" at '+b)}else w==="name"||w==="{"||w==="&"?a=!0:w==="="&&y(S)}if(u(),R=i.pop(),R)throw new Error('Unclosed section "'+R[1]+'" at '+A.pos);return b4(_4(r))}function _4(t){for(var e=[],n,i,r=0,s=t.length;r<s;++r)n=t[r],n&&(n[0]==="text"&&i&&i[0]==="text"?(i[1]+=n[1],i[3]=n[3]):(e.push(n),i=n));return e}function b4(t){for(var e=[],n=e,i=[],r,s,o=0,a=t.length;o<a;++o)switch(r=t[o],r[0]){case"#":case"^":n.push(r),i.push(r),n=r[4]=[];break;case"/":s=i.pop(),s[5]=r[2],n=i.length>0?i[i.length-1][4]:e;break;default:n.push(r)}return e}function Wh(t){this.string=t,this.tail=t,this.pos=0}Wh.prototype.eos=function(){return this.tail===""};Wh.prototype.scan=function(t){var e=this.tail.match(t);if(!e||e.index!==0)return"";var n=e[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n};Wh.prototype.scanUntil=function(t){var e=this.tail.search(t),n;switch(e){case-1:n=this.tail,this.tail="";break;case 0:n="";break;default:n=this.tail.substring(0,e),this.tail=this.tail.substring(e)}return this.pos+=n.length,n};function Xl(t,e){this.view=t,this.cache={".":this.view},this.parent=e}Xl.prototype.push=function(t){return new Xl(t,this)};Xl.prototype.lookup=function(t){var e=this.cache,n;if(e.hasOwnProperty(t))n=e[t];else{for(var i=this,r,s,o,a=!1;i;){if(t.indexOf(".")>0)for(r=i.view,s=t.split("."),o=0;r!=null&&o<s.length;)o===s.length-1&&(a=ek(r,s[o])||f4(r,s[o])),r=r[s[o++]];else r=i.view[t],a=ek(i.view,t);if(a){n=r;break}i=i.parent}e[t]=n}return jx(n)&&(n=n.call(this.view)),n};function cn(){this.templateCache={_cache:{},set:function(t,e){this._cache[t]=e},get:function(t){return this._cache[t]},clear:function(){this._cache={}}}}cn.prototype.clearCache=function(){typeof this.templateCache<"u"&&this.templateCache.clear()};cn.prototype.parse=function(t,e){var n=this.templateCache,i=t+":"+(e||In.tags).join(":"),r=typeof n<"u",s=r?n.get(i):void 0;return s==null&&(s=k4(t,e),r&&n.set(i,s)),s};cn.prototype.render=function(t,e,n,i){var r=this.getConfigTags(i),s=this.parse(t,r),o=e instanceof Xl?e:new Xl(e,void 0);return this.renderTokens(s,o,n,t,i)};cn.prototype.renderTokens=function(t,e,n,i,r){for(var s="",o,a,l,h=0,u=t.length;h<u;++h)l=void 0,o=t[h],a=o[0],a==="#"?l=this.renderSection(o,e,n,i,r):a==="^"?l=this.renderInverted(o,e,n,i,r):a===">"?l=this.renderPartial(o,e,n,r):a==="&"?l=this.unescapedValue(o,e):a==="name"?l=this.escapedValue(o,e,r):a==="text"&&(l=this.rawValue(o)),l!==void 0&&(s+=l);return s};cn.prototype.renderSection=function(t,e,n,i,r){var s=this,o="",a=e.lookup(t[1]);function l(f){return s.render(f,e,n,r)}if(a){if(ic(a))for(var h=0,u=a.length;h<u;++h)o+=this.renderTokens(t[4],e.push(a[h]),n,i,r);else if(typeof a=="object"||typeof a=="string"||typeof a=="number")o+=this.renderTokens(t[4],e.push(a),n,i,r);else if(jx(a)){if(typeof i!="string")throw new Error("Cannot use higher-order sections without the original template");a=a.call(e.view,i.slice(t[3],t[5]),l),a!=null&&(o+=a)}else o+=this.renderTokens(t[4],e,n,i,r);return o}};cn.prototype.renderInverted=function(t,e,n,i,r){var s=e.lookup(t[1]);if(!s||ic(s)&&s.length===0)return this.renderTokens(t[4],e,n,i,r)};cn.prototype.indentPartial=function(t,e,n){for(var i=e.replace(/[^ \t]/g,""),r=t.split(`
`),s=0;s<r.length;s++)r[s].length&&(s>0||!n)&&(r[s]=i+r[s]);return r.join(`
`)};cn.prototype.renderPartial=function(t,e,n,i){if(n){var r=this.getConfigTags(i),s=jx(n)?n(t[1]):n[t[1]];if(s!=null){var o=t[6],a=t[5],l=t[4],h=s;a==0&&l&&(h=this.indentPartial(s,l,o));var u=this.parse(h,r);return this.renderTokens(u,e,n,h,i)}}};cn.prototype.unescapedValue=function(t,e){var n=e.lookup(t[1]);if(n!=null)return n};cn.prototype.escapedValue=function(t,e,n){var i=this.getConfigEscape(n)||In.escape,r=e.lookup(t[1]);if(r!=null)return typeof r=="number"&&i===In.escape?String(r):i(r)};cn.prototype.rawValue=function(t){return t[1]};cn.prototype.getConfigTags=function(t){return ic(t)?t:t&&typeof t=="object"?t.tags:void 0};cn.prototype.getConfigEscape=function(t){if(t&&typeof t=="object"&&!ic(t))return t.escape};var In={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(t){Rh.templateCache=t},get templateCache(){return Rh.templateCache}},Rh=new cn;In.clearCache=function(){return Rh.clearCache()};In.parse=function(t,e){return Rh.parse(t,e)};In.render=function(t,e,n,i){if(typeof t!="string")throw new TypeError('Invalid template! Template should be a "string" but "'+d4(t)+'" was given as the first argument for mustache#render(template, view, partials)');return Rh.render(t,e,n,i)};In.escape=w4;In.Scanner=Wh;In.Context=Xl;In.Writer=cn;const Qo=()=>{const{state:{language:t}}=V.useContext(Ds),e=K1[Ox];return{t:V.useCallback((n,i)=>{const r=K1[t];return r[n]?In.render(r[n],i):e[n]?In.render(e[n],i):n},[t,e])}},C4=()=>{const{state:{currentDocument:t,currentFileNo:e,documents:n},dispatch:i}=V.useContext(Ds),{t:r}=Qo();if(n.length<=1||!t)return null;let s=t.uri||"";const o=s==null?void 0:s.split("/");return o.length&&(s=o[o.length-1]),O.jsxs(P4,{id:"doc-nav",children:[O.jsx("p",{id:"doc-nav-info",children:r("documentNavInfo",{currentFileNo:e+1,allFilesCount:n.length})}),O.jsx(O2,{id:"doc-nav-prev",onClick:()=>i(Fx()),disabled:e===0,children:O.jsx(l4,{color:"#fff",size:"60%"})}),O.jsx(T4,{id:"doc-nav-next",onClick:()=>i($x()),disabled:e>=n.length-1,children:O.jsx(c4,{color:"#fff",size:"60%"})})]})},P4=Se.div`
  min-width: 150px;
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: flex-end;
  margin: 0 10px;
  color: ${t=>t.theme.textPrimary};
`,O2=Se(a4)`
  width: 30px;
  height: 30px;
  margin: 0 5px 0 10px;

  @media (max-width: 768px) {
    width: 25px;
    height: 25px;
  }
`,T4=Se(O2)`
  margin: 0 5px;
`,$2=(t,e)=>{var n;if(!t)return"";let i="";if(t.fileName)i=t.fileName;else{i=t.uri||"",i=decodeURI(i),e||(i=(n=i==null?void 0:i.split("?"))==null?void 0:n[0]);const r=i==null?void 0:i.split("/");r.length&&(i=r[r.length-1])}return i},R4=()=>{var t,e;const{state:{config:n,currentDocument:i}}=V.useContext(Ds);if(!i||(t=n==null?void 0:n.header)!=null&&t.disableFileName)return null;const r=$2(i,((e=n==null?void 0:n.header)==null?void 0:e.retainURLParams)||!1);return O.jsx(M4,{id:"file-name","data-testid":"file-name",children:r})},M4=Se.div`
  flex: 1;
  text-align: left;
  color: ${t=>t.theme.textPrimary};
  font-weight: bold;
  margin: 0 10px;
  overflow: hidden;
`,L4=()=>{var t,e,n;const{state:i,dispatch:r}=V.useContext(Ds),{config:s}=i;return(t=s==null?void 0:s.header)!=null&&t.disableHeader?null:((n=(e=s==null?void 0:s.header)==null?void 0:e.overrideComponent)==null?void 0:n.call(e,i,()=>r(Fx()),()=>r($x())))||O.jsxs(I4,{id:"header-bar","data-testid":"header-bar",children:[O.jsx(R4,{}),O.jsx(C4,{})]})},I4=Se.div`
  display: flex;
  justify-content: flex-end;
  align-items: center;
  z-index: 1;
  padding: 0 10px;
  background-color: ${t=>t.theme.primary};
  font-size: 16px;
  min-height: 50px;

  @media (max-width: 768px) {
    min-height: 30px;
    padding: 5px;
    font-size: 10px;
  }
`,Wx=({documentURI:t,signal:e,fileLoaderComplete:n,readerTypeFunction:i,headers:r})=>fetch(t,{signal:e,headers:r}).then(async s=>{const o=await s.blob(),a=new FileReader;switch(a.addEventListener("loadend",()=>n(a)),i){case"arrayBuffer":a.readAsArrayBuffer(o);break;case"binaryString":a.readAsBinaryString(o);break;case"dataURL":a.readAsDataURL(o);break;case"text":a.readAsText(o);break}}).catch(s=>s),N4=t=>Wx({...t,readerTypeFunction:"arrayBuffer"}),F2=t=>Wx({...t,readerTypeFunction:"dataURL"}),j2=t=>Wx({...t,readerTypeFunction:"text"}),D4=F2,O4=()=>{const{state:{currentDocument:t,pluginRenderers:e}}=V.useContext(Ds),[n,i]=V.useState();return V.useEffect(()=>{if(!t)return;if(!t.fileType){i(void 0);return}const r=[];e==null||e.forEach(o=>{t.fileType!==void 0&&o.fileTypes.indexOf(t.fileType)>=0&&r.push(o)});const[s]=r.sort((o,a)=>a.weight-o.weight);i(s&&s!==void 0?()=>s:null)},[t,e]),{CurrentRenderer:n}},$4=()=>{const{state:t,dispatch:e}=V.useContext(Ds),{currentFileNo:n,currentDocument:i,prefetchMethod:r}=t,{CurrentRenderer:s}=O4(),o=(i==null?void 0:i.uri)||"";return V.useEffect(()=>{if(!i||i.fileType!==void 0)return;const a=new AbortController,{signal:l}=a;return fetch(o,{method:r||o.startsWith("blob:")?"GET":"HEAD",signal:l,headers:t==null?void 0:t.requestHeaders}).then(h=>{const u=h.headers.get("content-type"),f=(u==null?void 0:u.split(";"))||[],p=f.length?f[0]:void 0;e(X1({...i,fileType:p||void 0}))}).catch(h=>{if((h==null?void 0:h.name)!=="AbortError")throw h}),()=>{a.abort()}},[n,o,i]),V.useEffect(()=>{var a;if(!i||s===void 0)return;const l=new AbortController,{signal:h}=l,u={documentURI:o,signal:h,fileLoaderComplete:f=>{if(!i||!f){e(fv(!1));return}const p={...i};f.result!==null&&(p.fileData=f.result),e(X1(p)),e(fv(!1))},headers:t==null?void 0:t.requestHeaders};return s===null?e(fv(!1)):s.fileLoader!==void 0?(a=s.fileLoader)==null||a.call(s,u):D4(u),()=>{l.abort()}},[s,n]),{state:t,dispatch:e,CurrentRenderer:s}},F4=()=>{const[t,e]=V.useState({width:void 0,height:void 0});return V.useEffect(()=>{function n(){e({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",n),n(),()=>window.removeEventListener("resize",n)},[]),t},nk=({children:t})=>{var e,n;const{state:i}=V.useContext(Ds),{config:r}=i,[s,o]=V.useState(((e=r==null?void 0:r.loadingRenderer)==null?void 0:e.showLoadingTimeout)===!1);return V.useEffect(()=>{var a;setTimeout(()=>{o(!0)},typeof((a=r==null?void 0:r.loadingRenderer)==null?void 0:a.showLoadingTimeout)=="number"?r.loadingRenderer.showLoadingTimeout:500)},[(n=r==null?void 0:r.loadingRenderer)==null?void 0:n.showLoadingTimeout]),s?O.jsx(O.Fragment,{children:t}):null},j4=({documents:t,documentLoading:e,config:n,currentDocument:i,fileName:r,CurrentRenderer:s,state:o,t:a})=>{var l,h;if(t.length)if(e){if(n&&(l=n==null?void 0:n.loadingRenderer)!=null&&l.overrideComponent){const u=n.loadingRenderer.overrideComponent;return O.jsx(nk,{children:O.jsx(u,{document:i,fileName:r})})}return O.jsx(nk,{children:O.jsx(z4,{id:"loading-renderer","data-testid":"loading-renderer",children:O.jsx(H4,{children:O.jsx(u4,{color:"#444",size:40})})})})}else{if(s)return O.jsx(s,{mainState:o});if(s===void 0)return null;if(n&&(h=n==null?void 0:n.noRenderer)!=null&&h.overrideComponent){const u=n.noRenderer.overrideComponent;return O.jsx(u,{document:i,fileName:r})}return O.jsxs("div",{id:"no-renderer","data-testid":"no-renderer",children:[a("noRendererMessage",{fileType:(i==null?void 0:i.fileType)??""}),O.jsx(V4,{id:"no-renderer-download",href:i==null?void 0:i.uri,download:i==null?void 0:i.uri,children:a("downloadButtonLabel")})]})}else return O.jsx("div",{id:"no-documents"})},W4=()=>{var t;const{state:e,dispatch:n,CurrentRenderer:i}=$4(),{documents:r,documentLoading:s,currentDocument:o,config:a}=e,l=F4(),{t:h}=Qo(),u=V.useCallback(p=>{p&&n(t4(p==null?void 0:p.getBoundingClientRect()))},[l,n]),f=$2(o,((t=a==null?void 0:a.header)==null?void 0:t.retainURLParams)||!1);return O.jsx(B4,{id:"proxy-renderer","data-testid":"proxy-renderer",ref:u,children:O.jsx(j4,{state:e,documents:r,documentLoading:s,config:a,currentDocument:o,fileName:f,CurrentRenderer:i,t:h})})},B4=Se.div`
  display: flex;
  flex: 1;
`,z4=Se.div`
  display: flex;
  flex: 1;
  height: 75px;
  align-items: center;
  justify-content: center;
`,U4=H3`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,H4=Se.div`
  animation-name: ${U4};
  animation-duration: 4s;
  animation-timing-function: linear;
  animation-iteration-count: infinite;
`,V4=Se(N2)`
  width: 130px;
  height: 30px;
  background-color: ${t=>t.theme.primary};
  @media (max-width: 768px) {
    width: 125px;
    height: 25px;
  }
`,ik={primary:"#fff",secondary:"#000",tertiary:"#ffffff99",textPrimary:"#000",textSecondary:"#fff",textTertiary:"#00000044",disableThemeScrollbar:!1},Cr=t=>{const{mainState:{currentDocument:e},children:n}=t;return e?O.jsx(G4,{id:"image-renderer",...t,children:n||O.jsx(q4,{id:"image-img",src:e.fileData})}):null};Cr.fileTypes=[];Cr.weight=0;const G4=Se.div`
  display: flex;
  flex: 1;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: 100%;
  background-color: #fff;
`,q4=Se.img`
  max-width: 95%;
  max-height: 95%;
`,Bx=t=>O.jsx(Cr,{...t});Bx.fileTypes=["bmp","image/bmp"];Bx.weight=0;const Zm=({mainState:{currentDocument:t}})=>(V.useEffect(()=>{const e=t==null?void 0:t.fileData;let n="";const i=(e==null?void 0:e.replace(/^data:text\/html;(?:charset=([^;]*);)?base64,/,(l,h)=>(n=h,"")))||"";let r=window.atob(i);if(n){const l=new Uint8Array(r.length);for(let h=0;h<r.length;h++)l[h]=r.charCodeAt(h);r=new TextDecoder(n).decode(l)}const s=document.getElementById("html-body"),o=(s==null?void 0:s.contentWindow)&&s.contentWindow;if(!o)return;const a=o.document;a.open(),a.write(`${r}`),a.close()},[t]),O.jsx(Y4,{id:"html-renderer",children:O.jsx(K4,{id:"html-body",sandbox:"allow-same-origin"})}));Zm.fileTypes=["htm","html","text/htm","text/html"];Zm.weight=0;Zm.fileLoader=F2;const Y4=Se.div`
  display: flex;
  flex-direction: column;
  width: 100%;
  padding: 0 30px;
`,K4=Se.iframe`
  height: 100%;
  padding: 15px;
  margin: 20px 0 20px 0;
  border: 1px solid ${t=>t.theme.secondary};
`,zx=t=>O.jsx(Cr,{...t});zx.fileTypes=["jpg","jpeg","image/jpg","image/jpeg"];zx.weight=0;const Jm=({mainState:{currentDocument:t}})=>t?O.jsx(X4,{id:"msdoc-renderer",children:O.jsx(Q4,{id:"msdoc-iframe",title:"msdoc-iframe",src:`https://view.officeapps.live.com/op/embed.aspx?src=${encodeURIComponent(t.uri)}`,frameBorder:"0"})}):null,Fs={odt:["odt","application/vnd.oasis.opendocument.text"],doc:["doc","application/msword"],docx:["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/octet-stream"],xls:["xls","application/vnd.ms-excel"],xlsx:["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],ppt:["ppt","application/vnd.ms-powerpoint"],pptx:["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"]};Jm.fileTypes=[...Fs.odt,...Fs.doc,...Fs.docx,...Fs.xls,...Fs.xlsx,...Fs.ppt,...Fs.pptx];Jm.weight=0;Jm.fileLoader=({fileLoaderComplete:t})=>t();const X4=Se.div`
  width: 100%;
`,Q4=Se.iframe`
  width: 100%;
  height: 100%;
  border: 0;
`;var mt={},e0={};e0.byteLength=e5;e0.toByteArray=n5;e0.fromByteArray=s5;var Oi=[],Un=[],Z4=typeof Uint8Array<"u"?Uint8Array:Array,gv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var ra=0,J4=gv.length;ra<J4;++ra)Oi[ra]=gv[ra],Un[gv.charCodeAt(ra)]=ra;Un[45]=62;Un[95]=63;function W2(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var i=n===e?0:4-n%4;return[n,i]}function e5(t){var e=W2(t),n=e[0],i=e[1];return(n+i)*3/4-i}function t5(t,e,n){return(e+n)*3/4-n}function n5(t){var e,n=W2(t),i=n[0],r=n[1],s=new Z4(t5(t,i,r)),o=0,a=r>0?i-4:i,l;for(l=0;l<a;l+=4)e=Un[t.charCodeAt(l)]<<18|Un[t.charCodeAt(l+1)]<<12|Un[t.charCodeAt(l+2)]<<6|Un[t.charCodeAt(l+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return r===2&&(e=Un[t.charCodeAt(l)]<<2|Un[t.charCodeAt(l+1)]>>4,s[o++]=e&255),r===1&&(e=Un[t.charCodeAt(l)]<<10|Un[t.charCodeAt(l+1)]<<4|Un[t.charCodeAt(l+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function i5(t){return Oi[t>>18&63]+Oi[t>>12&63]+Oi[t>>6&63]+Oi[t&63]}function r5(t,e,n){for(var i,r=[],s=e;s<n;s+=3)i=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),r.push(i5(i));return r.join("")}function s5(t){for(var e,n=t.length,i=n%3,r=[],s=16383,o=0,a=n-i;o<a;o+=s)r.push(r5(t,o,o+s>a?a:o+s));return i===1?(e=t[n-1],r.push(Oi[e>>2]+Oi[e<<4&63]+"==")):i===2&&(e=(t[n-2]<<8)+t[n-1],r.push(Oi[e>>10]+Oi[e>>4&63]+Oi[e<<2&63]+"=")),r.join("")}var Ux={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Ux.read=function(t,e,n,i,r){var s,o,a=r*8-i-1,l=(1<<a)-1,h=l>>1,u=-7,f=n?r-1:0,p=n?-1:1,m=t[e+f];for(f+=p,s=m&(1<<-u)-1,m>>=-u,u+=a;u>0;s=s*256+t[e+f],f+=p,u-=8);for(o=s&(1<<-u)-1,s>>=-u,u+=i;u>0;o=o*256+t[e+f],f+=p,u-=8);if(s===0)s=1-h;else{if(s===l)return o?NaN:(m?-1:1)*(1/0);o=o+Math.pow(2,i),s=s-h}return(m?-1:1)*o*Math.pow(2,s-i)};Ux.write=function(t,e,n,i,r,s){var o,a,l,h=s*8-r-1,u=(1<<h)-1,f=u>>1,p=r===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=i?0:s-1,y=i?1:-1,A=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=u):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+f>=1?e+=p/l:e+=p*Math.pow(2,1-f),e*l>=2&&(o++,l/=2),o+f>=u?(a=0,o=u):o+f>=1?(a=(e*l-1)*Math.pow(2,r),o=o+f):(a=e*Math.pow(2,f-1)*Math.pow(2,r),o=0));r>=8;t[n+m]=a&255,m+=y,a/=256,r-=8);for(o=o<<r|a,h+=r;h>0;t[n+m]=o&255,m+=y,o/=256,h-=8);t[n+m-y]|=A*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=e0,n=Ux,i=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=u,t.SlowBuffer=R,t.INSPECT_MAX_BYTES=50;const r=2147483647;t.kMaxLength=r;const{Uint8Array:s,ArrayBuffer:o,SharedArrayBuffer:a}=globalThis;u.TYPED_ARRAY_SUPPORT=l(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function l(){try{const d=new s(1),g={foo:function(){return 42}};return Object.setPrototypeOf(g,s.prototype),Object.setPrototypeOf(d,g),d.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}});function h(d){if(d>r)throw new RangeError('The value "'+d+'" is invalid for option "size"');const g=new s(d);return Object.setPrototypeOf(g,u.prototype),g}function u(d,g,x){if(typeof d=="number"){if(typeof g=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return y(d)}return f(d,g,x)}u.poolSize=8192;function f(d,g,x){if(typeof d=="string")return A(d,g);if(o.isView(d))return w(d);if(d==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof d);if(fe(d,o)||d&&fe(d.buffer,o)||typeof a<"u"&&(fe(d,a)||d&&fe(d.buffer,a)))return S(d,g,x);if(typeof d=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const L=d.valueOf&&d.valueOf();if(L!=null&&L!==d)return u.from(L,g,x);const D=E(d);if(D)return D;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof d[Symbol.toPrimitive]=="function")return u.from(d[Symbol.toPrimitive]("string"),g,x);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof d)}u.from=function(d,g,x){return f(d,g,x)},Object.setPrototypeOf(u.prototype,s.prototype),Object.setPrototypeOf(u,s);function p(d){if(typeof d!="number")throw new TypeError('"size" argument must be of type number');if(d<0)throw new RangeError('The value "'+d+'" is invalid for option "size"')}function m(d,g,x){return p(d),d<=0?h(d):g!==void 0?typeof x=="string"?h(d).fill(g,x):h(d).fill(g):h(d)}u.alloc=function(d,g,x){return m(d,g,x)};function y(d){return p(d),h(d<0?0:T(d)|0)}u.allocUnsafe=function(d){return y(d)},u.allocUnsafeSlow=function(d){return y(d)};function A(d,g){if((typeof g!="string"||g==="")&&(g="utf8"),!u.isEncoding(g))throw new TypeError("Unknown encoding: "+g);const x=I(d,g)|0;let L=h(x);const D=L.write(d,g);return D!==x&&(L=L.slice(0,D)),L}function b(d){const g=d.length<0?0:T(d.length)|0,x=h(g);for(let L=0;L<g;L+=1)x[L]=d[L]&255;return x}function w(d){if(fe(d,s)){const g=new s(d);return S(g.buffer,g.byteOffset,g.byteLength)}return b(d)}function S(d,g,x){if(g<0||d.byteLength<g)throw new RangeError('"offset" is outside of buffer bounds');if(d.byteLength<g+(x||0))throw new RangeError('"length" is outside of buffer bounds');let L;return g===void 0&&x===void 0?L=new s(d):x===void 0?L=new s(d,g):L=new s(d,g,x),Object.setPrototypeOf(L,u.prototype),L}function E(d){if(u.isBuffer(d)){const g=T(d.length)|0,x=h(g);return x.length===0||d.copy(x,0,0,g),x}if(d.length!==void 0)return typeof d.length!="number"||Jt(d.length)?h(0):b(d);if(d.type==="Buffer"&&Array.isArray(d.data))return b(d.data)}function T(d){if(d>=r)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return d|0}function R(d){return+d!=d&&(d=0),u.alloc(+d)}u.isBuffer=function(d){return d!=null&&d._isBuffer===!0&&d!==u.prototype},u.compare=function(d,g){if(fe(d,s)&&(d=u.from(d,d.offset,d.byteLength)),fe(g,s)&&(g=u.from(g,g.offset,g.byteLength)),!u.isBuffer(d)||!u.isBuffer(g))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(d===g)return 0;let x=d.length,L=g.length;for(let D=0,j=Math.min(x,L);D<j;++D)if(d[D]!==g[D]){x=d[D],L=g[D];break}return x<L?-1:L<x?1:0},u.isEncoding=function(d){switch(String(d).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(d,g){if(!Array.isArray(d))throw new TypeError('"list" argument must be an Array of Buffers');if(d.length===0)return u.alloc(0);let x;if(g===void 0)for(g=0,x=0;x<d.length;++x)g+=d[x].length;const L=u.allocUnsafe(g);let D=0;for(x=0;x<d.length;++x){let j=d[x];if(fe(j,s))D+j.length>L.length?(u.isBuffer(j)||(j=u.from(j)),j.copy(L,D)):s.prototype.set.call(L,j,D);else if(u.isBuffer(j))j.copy(L,D);else throw new TypeError('"list" argument must be an Array of Buffers');D+=j.length}return L};function I(d,g){if(u.isBuffer(d))return d.length;if(o.isView(d)||fe(d,o))return d.byteLength;if(typeof d!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof d);const x=d.length,L=arguments.length>2&&arguments[2]===!0;if(!L&&x===0)return 0;let D=!1;for(;;)switch(g){case"ascii":case"latin1":case"binary":return x;case"utf8":case"utf-8":return vt(d).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x*2;case"hex":return x>>>1;case"base64":return Le(d).length;default:if(D)return L?-1:vt(d).length;g=(""+g).toLowerCase(),D=!0}}u.byteLength=I;function M(d,g,x){let L=!1;if((g===void 0||g<0)&&(g=0),g>this.length||((x===void 0||x>this.length)&&(x=this.length),x<=0)||(x>>>=0,g>>>=0,x<=g))return"";for(d||(d="utf8");;)switch(d){case"hex":return B(this,g,x);case"utf8":case"utf-8":return F(this,g,x);case"ascii":return K(this,g,x);case"latin1":case"binary":return ne(this,g,x);case"base64":return G(this,g,x);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return oe(this,g,x);default:if(L)throw new TypeError("Unknown encoding: "+d);d=(d+"").toLowerCase(),L=!0}}u.prototype._isBuffer=!0;function C(d,g,x){const L=d[g];d[g]=d[x],d[x]=L}u.prototype.swap16=function(){const d=this.length;if(d%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let g=0;g<d;g+=2)C(this,g,g+1);return this},u.prototype.swap32=function(){const d=this.length;if(d%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let g=0;g<d;g+=4)C(this,g,g+3),C(this,g+1,g+2);return this},u.prototype.swap64=function(){const d=this.length;if(d%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let g=0;g<d;g+=8)C(this,g,g+7),C(this,g+1,g+6),C(this,g+2,g+5),C(this,g+3,g+4);return this},u.prototype.toString=function(){const d=this.length;return d===0?"":arguments.length===0?F(this,0,d):M.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(d){if(!u.isBuffer(d))throw new TypeError("Argument must be a Buffer");return this===d?!0:u.compare(this,d)===0},u.prototype.inspect=function(){let d="";const g=t.INSPECT_MAX_BYTES;return d=this.toString("hex",0,g).replace(/(.{2})/g,"$1 ").trim(),this.length>g&&(d+=" ... "),"<Buffer "+d+">"},i&&(u.prototype[i]=u.prototype.inspect),u.prototype.compare=function(d,g,x,L,D){if(fe(d,s)&&(d=u.from(d,d.offset,d.byteLength)),!u.isBuffer(d))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof d);if(g===void 0&&(g=0),x===void 0&&(x=d?d.length:0),L===void 0&&(L=0),D===void 0&&(D=this.length),g<0||x>d.length||L<0||D>this.length)throw new RangeError("out of range index");if(L>=D&&g>=x)return 0;if(L>=D)return-1;if(g>=x)return 1;if(g>>>=0,x>>>=0,L>>>=0,D>>>=0,this===d)return 0;let j=D-L,Y=x-g;const ze=Math.min(j,Y),Ct=this.slice(L,D),Ge=d.slice(g,x);for(let We=0;We<ze;++We)if(Ct[We]!==Ge[We]){j=Ct[We],Y=Ge[We];break}return j<Y?-1:Y<j?1:0};function P(d,g,x,L,D){if(d.length===0)return-1;if(typeof x=="string"?(L=x,x=0):x>2147483647?x=2147483647:x<-2147483648&&(x=-2147483648),x=+x,Jt(x)&&(x=D?0:d.length-1),x<0&&(x=d.length+x),x>=d.length){if(D)return-1;x=d.length-1}else if(x<0)if(D)x=0;else return-1;if(typeof g=="string"&&(g=u.from(g,L)),u.isBuffer(g))return g.length===0?-1:N(d,g,x,L,D);if(typeof g=="number")return g=g&255,typeof s.prototype.indexOf=="function"?D?s.prototype.indexOf.call(d,g,x):s.prototype.lastIndexOf.call(d,g,x):N(d,[g],x,L,D);throw new TypeError("val must be string, number or Buffer")}function N(d,g,x,L,D){let j=1,Y=d.length,ze=g.length;if(L!==void 0&&(L=String(L).toLowerCase(),L==="ucs2"||L==="ucs-2"||L==="utf16le"||L==="utf-16le")){if(d.length<2||g.length<2)return-1;j=2,Y/=2,ze/=2,x/=2}function Ct(We,st){return j===1?We[st]:We.readUInt16BE(st*j)}let Ge;if(D){let We=-1;for(Ge=x;Ge<Y;Ge++)if(Ct(d,Ge)===Ct(g,We===-1?0:Ge-We)){if(We===-1&&(We=Ge),Ge-We+1===ze)return We*j}else We!==-1&&(Ge-=Ge-We),We=-1}else for(x+ze>Y&&(x=Y-ze),Ge=x;Ge>=0;Ge--){let We=!0;for(let st=0;st<ze;st++)if(Ct(d,Ge+st)!==Ct(g,st)){We=!1;break}if(We)return Ge}return-1}u.prototype.includes=function(d,g,x){return this.indexOf(d,g,x)!==-1},u.prototype.indexOf=function(d,g,x){return P(this,d,g,x,!0)},u.prototype.lastIndexOf=function(d,g,x){return P(this,d,g,x,!1)};function $(d,g,x,L){x=Number(x)||0;const D=d.length-x;L?(L=Number(L),L>D&&(L=D)):L=D;const j=g.length;L>j/2&&(L=j/2);let Y;for(Y=0;Y<L;++Y){const ze=parseInt(g.substr(Y*2,2),16);if(Jt(ze))return Y;d[x+Y]=ze}return Y}function z(d,g,x,L){return et(vt(g,d.length-x),d,x,L)}function U(d,g,x,L){return et(Je(g),d,x,L)}function Q(d,g,x,L){return et(Le(g),d,x,L)}function ee(d,g,x,L){return et(Me(g,d.length-x),d,x,L)}u.prototype.write=function(d,g,x,L){if(g===void 0)L="utf8",x=this.length,g=0;else if(x===void 0&&typeof g=="string")L=g,x=this.length,g=0;else if(isFinite(g))g=g>>>0,isFinite(x)?(x=x>>>0,L===void 0&&(L="utf8")):(L=x,x=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const D=this.length-g;if((x===void 0||x>D)&&(x=D),d.length>0&&(x<0||g<0)||g>this.length)throw new RangeError("Attempt to write outside buffer bounds");L||(L="utf8");let j=!1;for(;;)switch(L){case"hex":return $(this,d,g,x);case"utf8":case"utf-8":return z(this,d,g,x);case"ascii":case"latin1":case"binary":return U(this,d,g,x);case"base64":return Q(this,d,g,x);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ee(this,d,g,x);default:if(j)throw new TypeError("Unknown encoding: "+L);L=(""+L).toLowerCase(),j=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function G(d,g,x){return g===0&&x===d.length?e.fromByteArray(d):e.fromByteArray(d.slice(g,x))}function F(d,g,x){x=Math.min(d.length,x);const L=[];let D=g;for(;D<x;){const j=d[D];let Y=null,ze=j>239?4:j>223?3:j>191?2:1;if(D+ze<=x){let Ct,Ge,We,st;switch(ze){case 1:j<128&&(Y=j);break;case 2:Ct=d[D+1],(Ct&192)===128&&(st=(j&31)<<6|Ct&63,st>127&&(Y=st));break;case 3:Ct=d[D+1],Ge=d[D+2],(Ct&192)===128&&(Ge&192)===128&&(st=(j&15)<<12|(Ct&63)<<6|Ge&63,st>2047&&(st<55296||st>57343)&&(Y=st));break;case 4:Ct=d[D+1],Ge=d[D+2],We=d[D+3],(Ct&192)===128&&(Ge&192)===128&&(We&192)===128&&(st=(j&15)<<18|(Ct&63)<<12|(Ge&63)<<6|We&63,st>65535&&st<1114112&&(Y=st))}}Y===null?(Y=65533,ze=1):Y>65535&&(Y-=65536,L.push(Y>>>10&1023|55296),Y=56320|Y&1023),L.push(Y),D+=ze}return W(L)}const H=4096;function W(d){const g=d.length;if(g<=H)return String.fromCharCode.apply(String,d);let x="",L=0;for(;L<g;)x+=String.fromCharCode.apply(String,d.slice(L,L+=H));return x}function K(d,g,x){let L="";x=Math.min(d.length,x);for(let D=g;D<x;++D)L+=String.fromCharCode(d[D]&127);return L}function ne(d,g,x){let L="";x=Math.min(d.length,x);for(let D=g;D<x;++D)L+=String.fromCharCode(d[D]);return L}function B(d,g,x){const L=d.length;(!g||g<0)&&(g=0),(!x||x<0||x>L)&&(x=L);let D="";for(let j=g;j<x;++j)D+=en[d[j]];return D}function oe(d,g,x){const L=d.slice(g,x);let D="";for(let j=0;j<L.length-1;j+=2)D+=String.fromCharCode(L[j]+L[j+1]*256);return D}u.prototype.slice=function(d,g){const x=this.length;d=~~d,g=g===void 0?x:~~g,d<0?(d+=x,d<0&&(d=0)):d>x&&(d=x),g<0?(g+=x,g<0&&(g=0)):g>x&&(g=x),g<d&&(g=d);const L=this.subarray(d,g);return Object.setPrototypeOf(L,u.prototype),L};function te(d,g,x){if(d%1!==0||d<0)throw new RangeError("offset is not uint");if(d+g>x)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(d,g,x){d=d>>>0,g=g>>>0,x||te(d,g,this.length);let L=this[d],D=1,j=0;for(;++j<g&&(D*=256);)L+=this[d+j]*D;return L},u.prototype.readUintBE=u.prototype.readUIntBE=function(d,g,x){d=d>>>0,g=g>>>0,x||te(d,g,this.length);let L=this[d+--g],D=1;for(;g>0&&(D*=256);)L+=this[d+--g]*D;return L},u.prototype.readUint8=u.prototype.readUInt8=function(d,g){return d=d>>>0,g||te(d,1,this.length),this[d]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(d,g){return d=d>>>0,g||te(d,2,this.length),this[d]|this[d+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(d,g){return d=d>>>0,g||te(d,2,this.length),this[d]<<8|this[d+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(d,g){return d=d>>>0,g||te(d,4,this.length),(this[d]|this[d+1]<<8|this[d+2]<<16)+this[d+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(d,g){return d=d>>>0,g||te(d,4,this.length),this[d]*16777216+(this[d+1]<<16|this[d+2]<<8|this[d+3])},u.prototype.readBigUInt64LE=yt(function(d){d=d>>>0,Z(d,"offset");const g=this[d],x=this[d+7];(g===void 0||x===void 0)&&ke(d,this.length-8);const L=g+this[++d]*2**8+this[++d]*2**16+this[++d]*2**24,D=this[++d]+this[++d]*2**8+this[++d]*2**16+x*2**24;return BigInt(L)+(BigInt(D)<<BigInt(32))}),u.prototype.readBigUInt64BE=yt(function(d){d=d>>>0,Z(d,"offset");const g=this[d],x=this[d+7];(g===void 0||x===void 0)&&ke(d,this.length-8);const L=g*2**24+this[++d]*2**16+this[++d]*2**8+this[++d],D=this[++d]*2**24+this[++d]*2**16+this[++d]*2**8+x;return(BigInt(L)<<BigInt(32))+BigInt(D)}),u.prototype.readIntLE=function(d,g,x){d=d>>>0,g=g>>>0,x||te(d,g,this.length);let L=this[d],D=1,j=0;for(;++j<g&&(D*=256);)L+=this[d+j]*D;return D*=128,L>=D&&(L-=Math.pow(2,8*g)),L},u.prototype.readIntBE=function(d,g,x){d=d>>>0,g=g>>>0,x||te(d,g,this.length);let L=g,D=1,j=this[d+--L];for(;L>0&&(D*=256);)j+=this[d+--L]*D;return D*=128,j>=D&&(j-=Math.pow(2,8*g)),j},u.prototype.readInt8=function(d,g){return d=d>>>0,g||te(d,1,this.length),this[d]&128?(255-this[d]+1)*-1:this[d]},u.prototype.readInt16LE=function(d,g){d=d>>>0,g||te(d,2,this.length);const x=this[d]|this[d+1]<<8;return x&32768?x|4294901760:x},u.prototype.readInt16BE=function(d,g){d=d>>>0,g||te(d,2,this.length);const x=this[d+1]|this[d]<<8;return x&32768?x|4294901760:x},u.prototype.readInt32LE=function(d,g){return d=d>>>0,g||te(d,4,this.length),this[d]|this[d+1]<<8|this[d+2]<<16|this[d+3]<<24},u.prototype.readInt32BE=function(d,g){return d=d>>>0,g||te(d,4,this.length),this[d]<<24|this[d+1]<<16|this[d+2]<<8|this[d+3]},u.prototype.readBigInt64LE=yt(function(d){d=d>>>0,Z(d,"offset");const g=this[d],x=this[d+7];(g===void 0||x===void 0)&&ke(d,this.length-8);const L=this[d+4]+this[d+5]*2**8+this[d+6]*2**16+(x<<24);return(BigInt(L)<<BigInt(32))+BigInt(g+this[++d]*2**8+this[++d]*2**16+this[++d]*2**24)}),u.prototype.readBigInt64BE=yt(function(d){d=d>>>0,Z(d,"offset");const g=this[d],x=this[d+7];(g===void 0||x===void 0)&&ke(d,this.length-8);const L=(g<<24)+this[++d]*2**16+this[++d]*2**8+this[++d];return(BigInt(L)<<BigInt(32))+BigInt(this[++d]*2**24+this[++d]*2**16+this[++d]*2**8+x)}),u.prototype.readFloatLE=function(d,g){return d=d>>>0,g||te(d,4,this.length),n.read(this,d,!0,23,4)},u.prototype.readFloatBE=function(d,g){return d=d>>>0,g||te(d,4,this.length),n.read(this,d,!1,23,4)},u.prototype.readDoubleLE=function(d,g){return d=d>>>0,g||te(d,8,this.length),n.read(this,d,!0,52,8)},u.prototype.readDoubleBE=function(d,g){return d=d>>>0,g||te(d,8,this.length),n.read(this,d,!1,52,8)};function ie(d,g,x,L,D,j){if(!u.isBuffer(d))throw new TypeError('"buffer" argument must be a Buffer instance');if(g>D||g<j)throw new RangeError('"value" argument is out of bounds');if(x+L>d.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(d,g,x,L){if(d=+d,g=g>>>0,x=x>>>0,!L){const Y=Math.pow(2,8*x)-1;ie(this,d,g,x,Y,0)}let D=1,j=0;for(this[g]=d&255;++j<x&&(D*=256);)this[g+j]=d/D&255;return g+x},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(d,g,x,L){if(d=+d,g=g>>>0,x=x>>>0,!L){const Y=Math.pow(2,8*x)-1;ie(this,d,g,x,Y,0)}let D=x-1,j=1;for(this[g+D]=d&255;--D>=0&&(j*=256);)this[g+D]=d/j&255;return g+x},u.prototype.writeUint8=u.prototype.writeUInt8=function(d,g,x){return d=+d,g=g>>>0,x||ie(this,d,g,1,255,0),this[g]=d&255,g+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(d,g,x){return d=+d,g=g>>>0,x||ie(this,d,g,2,65535,0),this[g]=d&255,this[g+1]=d>>>8,g+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(d,g,x){return d=+d,g=g>>>0,x||ie(this,d,g,2,65535,0),this[g]=d>>>8,this[g+1]=d&255,g+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(d,g,x){return d=+d,g=g>>>0,x||ie(this,d,g,4,4294967295,0),this[g+3]=d>>>24,this[g+2]=d>>>16,this[g+1]=d>>>8,this[g]=d&255,g+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(d,g,x){return d=+d,g=g>>>0,x||ie(this,d,g,4,4294967295,0),this[g]=d>>>24,this[g+1]=d>>>16,this[g+2]=d>>>8,this[g+3]=d&255,g+4};function le(d,g,x,L,D){ue(g,L,D,d,x,7);let j=Number(g&BigInt(4294967295));d[x++]=j,j=j>>8,d[x++]=j,j=j>>8,d[x++]=j,j=j>>8,d[x++]=j;let Y=Number(g>>BigInt(32)&BigInt(4294967295));return d[x++]=Y,Y=Y>>8,d[x++]=Y,Y=Y>>8,d[x++]=Y,Y=Y>>8,d[x++]=Y,x}function re(d,g,x,L,D){ue(g,L,D,d,x,7);let j=Number(g&BigInt(4294967295));d[x+7]=j,j=j>>8,d[x+6]=j,j=j>>8,d[x+5]=j,j=j>>8,d[x+4]=j;let Y=Number(g>>BigInt(32)&BigInt(4294967295));return d[x+3]=Y,Y=Y>>8,d[x+2]=Y,Y=Y>>8,d[x+1]=Y,Y=Y>>8,d[x]=Y,x+8}u.prototype.writeBigUInt64LE=yt(function(d,g=0){return le(this,d,g,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeBigUInt64BE=yt(function(d,g=0){return re(this,d,g,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeIntLE=function(d,g,x,L){if(d=+d,g=g>>>0,!L){const ze=Math.pow(2,8*x-1);ie(this,d,g,x,ze-1,-ze)}let D=0,j=1,Y=0;for(this[g]=d&255;++D<x&&(j*=256);)d<0&&Y===0&&this[g+D-1]!==0&&(Y=1),this[g+D]=(d/j>>0)-Y&255;return g+x},u.prototype.writeIntBE=function(d,g,x,L){if(d=+d,g=g>>>0,!L){const ze=Math.pow(2,8*x-1);ie(this,d,g,x,ze-1,-ze)}let D=x-1,j=1,Y=0;for(this[g+D]=d&255;--D>=0&&(j*=256);)d<0&&Y===0&&this[g+D+1]!==0&&(Y=1),this[g+D]=(d/j>>0)-Y&255;return g+x},u.prototype.writeInt8=function(d,g,x){return d=+d,g=g>>>0,x||ie(this,d,g,1,127,-128),d<0&&(d=255+d+1),this[g]=d&255,g+1},u.prototype.writeInt16LE=function(d,g,x){return d=+d,g=g>>>0,x||ie(this,d,g,2,32767,-32768),this[g]=d&255,this[g+1]=d>>>8,g+2},u.prototype.writeInt16BE=function(d,g,x){return d=+d,g=g>>>0,x||ie(this,d,g,2,32767,-32768),this[g]=d>>>8,this[g+1]=d&255,g+2},u.prototype.writeInt32LE=function(d,g,x){return d=+d,g=g>>>0,x||ie(this,d,g,4,2147483647,-2147483648),this[g]=d&255,this[g+1]=d>>>8,this[g+2]=d>>>16,this[g+3]=d>>>24,g+4},u.prototype.writeInt32BE=function(d,g,x){return d=+d,g=g>>>0,x||ie(this,d,g,4,2147483647,-2147483648),d<0&&(d=4294967295+d+1),this[g]=d>>>24,this[g+1]=d>>>16,this[g+2]=d>>>8,this[g+3]=d&255,g+4},u.prototype.writeBigInt64LE=yt(function(d,g=0){return le(this,d,g,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeBigInt64BE=yt(function(d,g=0){return re(this,d,g,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function xe(d,g,x,L,D,j){if(x+L>d.length)throw new RangeError("Index out of range");if(x<0)throw new RangeError("Index out of range")}function X(d,g,x,L,D){return g=+g,x=x>>>0,D||xe(d,g,x,4),n.write(d,g,x,L,23,4),x+4}u.prototype.writeFloatLE=function(d,g,x){return X(this,d,g,!0,x)},u.prototype.writeFloatBE=function(d,g,x){return X(this,d,g,!1,x)};function se(d,g,x,L,D){return g=+g,x=x>>>0,D||xe(d,g,x,8),n.write(d,g,x,L,52,8),x+8}u.prototype.writeDoubleLE=function(d,g,x){return se(this,d,g,!0,x)},u.prototype.writeDoubleBE=function(d,g,x){return se(this,d,g,!1,x)},u.prototype.copy=function(d,g,x,L){if(!u.isBuffer(d))throw new TypeError("argument should be a Buffer");if(x||(x=0),!L&&L!==0&&(L=this.length),g>=d.length&&(g=d.length),g||(g=0),L>0&&L<x&&(L=x),L===x||d.length===0||this.length===0)return 0;if(g<0)throw new RangeError("targetStart out of bounds");if(x<0||x>=this.length)throw new RangeError("Index out of range");if(L<0)throw new RangeError("sourceEnd out of bounds");L>this.length&&(L=this.length),d.length-g<L-x&&(L=d.length-g+x);const D=L-x;return this===d&&typeof s.prototype.copyWithin=="function"?this.copyWithin(g,x,L):s.prototype.set.call(d,this.subarray(x,L),g),D},u.prototype.fill=function(d,g,x,L){if(typeof d=="string"){if(typeof g=="string"?(L=g,g=0,x=this.length):typeof x=="string"&&(L=x,x=this.length),L!==void 0&&typeof L!="string")throw new TypeError("encoding must be a string");if(typeof L=="string"&&!u.isEncoding(L))throw new TypeError("Unknown encoding: "+L);if(d.length===1){const j=d.charCodeAt(0);(L==="utf8"&&j<128||L==="latin1")&&(d=j)}}else typeof d=="number"?d=d&255:typeof d=="boolean"&&(d=Number(d));if(g<0||this.length<g||this.length<x)throw new RangeError("Out of range index");if(x<=g)return this;g=g>>>0,x=x===void 0?this.length:x>>>0,d||(d=0);let D;if(typeof d=="number")for(D=g;D<x;++D)this[D]=d;else{const j=u.isBuffer(d)?d:u.from(d,L),Y=j.length;if(Y===0)throw new TypeError('The value "'+d+'" is invalid for argument "value"');for(D=0;D<x-g;++D)this[D+g]=j[D%Y]}return this};const me={};function ye(d,g,x){me[d]=class extends x{constructor(){super(),Object.defineProperty(this,"message",{value:g.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${d}]`,this.stack,delete this.name}get code(){return d}set code(L){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:L,writable:!0})}toString(){return`${this.name} [${d}]: ${this.message}`}}}ye("ERR_BUFFER_OUT_OF_BOUNDS",function(d){return d?`${d} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ye("ERR_INVALID_ARG_TYPE",function(d,g){return`The "${d}" argument must be of type number. Received type ${typeof g}`},TypeError),ye("ERR_OUT_OF_RANGE",function(d,g,x){let L=`The value of "${d}" is out of range.`,D=x;return Number.isInteger(x)&&Math.abs(x)>2**32?D=de(String(x)):typeof x=="bigint"&&(D=String(x),(x>BigInt(2)**BigInt(32)||x<-(BigInt(2)**BigInt(32)))&&(D=de(D)),D+="n"),L+=` It must be ${g}. Received ${D}`,L},RangeError);function de(d){let g="",x=d.length;const L=d[0]==="-"?1:0;for(;x>=L+4;x-=3)g=`_${d.slice(x-3,x)}${g}`;return`${d.slice(0,x)}${g}`}function Ce(d,g,x){Z(g,"offset"),(d[g]===void 0||d[g+x]===void 0)&&ke(g,d.length-(x+1))}function ue(d,g,x,L,D,j){if(d>x||d<g){const Y=typeof g=="bigint"?"n":"";let ze;throw g===0||g===BigInt(0)?ze=`>= 0${Y} and < 2${Y} ** ${(j+1)*8}${Y}`:ze=`>= -(2${Y} ** ${(j+1)*8-1}${Y}) and < 2 ** ${(j+1)*8-1}${Y}`,new me.ERR_OUT_OF_RANGE("value",ze,d)}Ce(L,D,j)}function Z(d,g){if(typeof d!="number")throw new me.ERR_INVALID_ARG_TYPE(g,"number",d)}function ke(d,g,x){throw Math.floor(d)!==d?(Z(d,x),new me.ERR_OUT_OF_RANGE("offset","an integer",d)):g<0?new me.ERR_BUFFER_OUT_OF_BOUNDS:new me.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${g}`,d)}const Ne=/[^+/0-9A-Za-z-_]/g;function Ze(d){if(d=d.split("=")[0],d=d.trim().replace(Ne,""),d.length<2)return"";for(;d.length%4!==0;)d=d+"=";return d}function vt(d,g){g=g||1/0;let x;const L=d.length;let D=null;const j=[];for(let Y=0;Y<L;++Y){if(x=d.charCodeAt(Y),x>55295&&x<57344){if(!D){if(x>56319){(g-=3)>-1&&j.push(239,191,189);continue}else if(Y+1===L){(g-=3)>-1&&j.push(239,191,189);continue}D=x;continue}if(x<56320){(g-=3)>-1&&j.push(239,191,189),D=x;continue}x=(D-55296<<10|x-56320)+65536}else D&&(g-=3)>-1&&j.push(239,191,189);if(D=null,x<128){if((g-=1)<0)break;j.push(x)}else if(x<2048){if((g-=2)<0)break;j.push(x>>6|192,x&63|128)}else if(x<65536){if((g-=3)<0)break;j.push(x>>12|224,x>>6&63|128,x&63|128)}else if(x<1114112){if((g-=4)<0)break;j.push(x>>18|240,x>>12&63|128,x>>6&63|128,x&63|128)}else throw new Error("Invalid code point")}return j}function Je(d){const g=[];for(let x=0;x<d.length;++x)g.push(d.charCodeAt(x)&255);return g}function Me(d,g){let x,L,D;const j=[];for(let Y=0;Y<d.length&&!((g-=2)<0);++Y)x=d.charCodeAt(Y),L=x>>8,D=x%256,j.push(D),j.push(L);return j}function Le(d){return e.toByteArray(Ze(d))}function et(d,g,x,L){let D;for(D=0;D<L&&!(D+x>=g.length||D>=d.length);++D)g[D+x]=d[D];return D}function fe(d,g){return d instanceof g||d!=null&&d.constructor!=null&&d.constructor.name!=null&&d.constructor.name===g.name}function Jt(d){return d!==d}const en=function(){const d="0123456789abcdef",g=new Array(256);for(let x=0;x<16;++x){const L=x*16;for(let D=0;D<16;++D)g[L+D]=d[x]+d[D]}return g}();function yt(d){return typeof BigInt>"u"?On:d}function On(){throw new Error("BigInt not supported")}})(mt);const Q1=mt.Buffer,o5=mt.Blob,a5=mt.BlobOptions,l5=mt.Buffer,c5=mt.File,u5=mt.FileOptions,h5=mt.INSPECT_MAX_BYTES,d5=mt.SlowBuffer,f5=mt.TranscodeEncoding,p5=mt.atob,g5=mt.btoa,m5=mt.constants,v5=mt.isAscii,y5=mt.isUtf8,w5=mt.kMaxLength,S5=mt.kStringMaxLength,x5=mt.resolveObjectURL,A5=mt.transcode,cB=Object.freeze(Object.defineProperty({__proto__:null,Blob:o5,BlobOptions:a5,Buffer:l5,File:c5,FileOptions:u5,INSPECT_MAX_BYTES:h5,SlowBuffer:d5,TranscodeEncoding:f5,atob:p5,btoa:g5,constants:m5,default:Q1,isAscii:v5,isUtf8:y5,kMaxLength:w5,kStringMaxLength:S5,resolveObjectURL:x5,transcode:A5},Symbol.toStringTag,{value:"Module"}));var Wu={};Wu.d=(t,e)=>{for(var n in e)Wu.o(e,n)&&!Wu.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})};Wu.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var he=globalThis.pdfjsLib={};Wu.d(he,{AbortException:()=>Jo,AnnotationEditorLayer:()=>I6,AnnotationEditorParamsType:()=>pe,AnnotationEditorType:()=>be,AnnotationEditorUIManager:()=>Mh,AnnotationLayer:()=>P6,AnnotationMode:()=>is,CMapCompressionType:()=>J1,ColorPicker:()=>hT,DOMSVGFactory:()=>Gx,DrawLayer:()=>N6,FeatureTest:()=>kn,GlobalWorkerOptions:()=>Rs,ImageKind:()=>lf,InvalidPDFException:()=>z2,MissingPDFException:()=>Zo,OPS:()=>ai,Outliner:()=>Rw,PDFDataRangeTransport:()=>OP,PDFDateString:()=>K2,PDFWorker:()=>sp,PasswordResponses:()=>b5,PermissionFlag:()=>_5,PixelsPerInch:()=>Ql,RenderingCancelledException:()=>qx,TextLayer:()=>Zg,UnexpectedResponseException:()=>r0,Util:()=>ae,VerbosityLevel:()=>t0,XfaLayer:()=>jP,build:()=>a6,createValidAbsoluteUrl:()=>R5,fetchData:()=>u0,getDocument:()=>Xj,getFilenameFromUrl:()=>W5,getPdfFilenameFromUrl:()=>B5,getXfaPageViewport:()=>z5,isDataScheme:()=>Yx,isPdfFile:()=>Kx,noContextMenu:()=>En,normalizeUnicode:()=>O5,renderTextLayer:()=>Bj,setLayerDimensions:()=>Ho,shadow:()=>Pe,updateTextLayer:()=>zj,version:()=>o6});const Qt=typeof ge=="object"&&ge+""=="[object process]"&&!ge.versions.nw&&!(ge.versions.electron&&ge.type&&ge.type!=="browser"),B2=[1,0,0,1,0,0],Z1=[.001,0,0,.001,0,0],E5=1e7,mv=1.35,Hn={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},is={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},k5="pdfjs_internal_editor_",be={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},pe={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},_5={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},$t={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},lf={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},ut={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},pc={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},t0={ERRORS:0,WARNINGS:1,INFOS:5},J1={NONE:0,BINARY:1},ai={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},b5={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let n0=t0.WARNINGS;function C5(t){Number.isInteger(t)&&(n0=t)}function P5(){return n0}function i0(t){n0>=t0.INFOS&&console.log(`Info: ${t}`)}function Ae(t){n0>=t0.WARNINGS&&console.log(`Warning: ${t}`)}function Oe(t){throw new Error(t)}function ft(t,e){t||Oe(e)}function T5(t){switch(t==null?void 0:t.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function R5(t,e=null,n=null){if(!t)return null;try{if(n&&typeof t=="string"){if(n.addDefaultProtocol&&t.startsWith("www.")){const r=t.match(/\./g);(r==null?void 0:r.length)>=2&&(t=`http://${t}`)}if(n.tryConvertEncoding)try{t=D5(t)}catch{}}const i=e?new URL(t,e):new URL(t);if(T5(i))return i}catch{}return null}function Pe(t,e,n,i=!1){return Object.defineProperty(t,e,{value:n,enumerable:!i,configurable:!0,writable:!1}),n}const Os=function(){function t(e,n){this.constructor===t&&Oe("Cannot initialize BaseException."),this.message=e,this.name=n}return t.prototype=new Error,t.constructor=t,t}();class ey extends Os{constructor(e,n){super(e,"PasswordException"),this.code=n}}class ty extends Os{constructor(e,n){super(e,"UnknownErrorException"),this.details=n}}class z2 extends Os{constructor(e){super(e,"InvalidPDFException")}}class Zo extends Os{constructor(e){super(e,"MissingPDFException")}}class r0 extends Os{constructor(e,n){super(e,"UnexpectedResponseException"),this.status=n}}class M5 extends Os{constructor(e){super(e,"FormatError")}}class Jo extends Os{constructor(e){super(e,"AbortException")}}function U2(t){(typeof t!="object"||(t==null?void 0:t.length)===void 0)&&Oe("Invalid argument for bytesToString");const e=t.length,n=8192;if(e<n)return String.fromCharCode.apply(null,t);const i=[];for(let r=0;r<e;r+=n){const s=Math.min(r+n,e),o=t.subarray(r,s);i.push(String.fromCharCode.apply(null,o))}return i.join("")}function s0(t){typeof t!="string"&&Oe("Invalid argument for stringToBytes");const e=t.length,n=new Uint8Array(e);for(let i=0;i<e;++i)n[i]=t.charCodeAt(i)&255;return n}function L5(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,t&255)}function Hx(t){const e=Object.create(null);for(const[n,i]of t)e[n]=i;return e}function I5(){const t=new Uint8Array(4);return t[0]=1,new Uint32Array(t.buffer,0,1)[0]===1}function N5(){try{return new Function(""),!0}catch{return!1}}class kn{static get isLittleEndian(){return Pe(this,"isLittleEndian",I5())}static get isEvalSupported(){return Pe(this,"isEvalSupported",N5())}static get isOffscreenCanvasSupported(){return Pe(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?Pe(this,"platform",{isMac:navigator.platform.includes("Mac")}):Pe(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){var e,n;return Pe(this,"isCSSRoundSupported",(n=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:n.call(e,"width: round(1.5px, 1px)"))}}const vv=Array.from(Array(256).keys(),t=>t.toString(16).padStart(2,"0"));var gc,xd,Dg,ny;class ae{static makeHexColor(e,n,i){return`#${vv[e]}${vv[n]}${vv[i]}`}static scaleMinMax(e,n){let i;e[0]?(e[0]<0&&(i=n[0],n[0]=n[2],n[2]=i),n[0]*=e[0],n[2]*=e[0],e[3]<0&&(i=n[1],n[1]=n[3],n[3]=i),n[1]*=e[3],n[3]*=e[3]):(i=n[0],n[0]=n[1],n[1]=i,i=n[2],n[2]=n[3],n[3]=i,e[1]<0&&(i=n[1],n[1]=n[3],n[3]=i),n[1]*=e[1],n[3]*=e[1],e[2]<0&&(i=n[0],n[0]=n[2],n[2]=i),n[0]*=e[2],n[2]*=e[2]),n[0]+=e[4],n[1]+=e[5],n[2]+=e[4],n[3]+=e[5]}static transform(e,n){return[e[0]*n[0]+e[2]*n[1],e[1]*n[0]+e[3]*n[1],e[0]*n[2]+e[2]*n[3],e[1]*n[2]+e[3]*n[3],e[0]*n[4]+e[2]*n[5]+e[4],e[1]*n[4]+e[3]*n[5]+e[5]]}static applyTransform(e,n){const i=e[0]*n[0]+e[1]*n[2]+n[4],r=e[0]*n[1]+e[1]*n[3]+n[5];return[i,r]}static applyInverseTransform(e,n){const i=n[0]*n[3]-n[1]*n[2],r=(e[0]*n[3]-e[1]*n[2]+n[2]*n[5]-n[4]*n[3])/i,s=(-e[0]*n[1]+e[1]*n[0]+n[4]*n[1]-n[5]*n[0])/i;return[r,s]}static getAxialAlignedBoundingBox(e,n){const i=this.applyTransform(e,n),r=this.applyTransform(e.slice(2,4),n),s=this.applyTransform([e[0],e[3]],n),o=this.applyTransform([e[2],e[1]],n);return[Math.min(i[0],r[0],s[0],o[0]),Math.min(i[1],r[1],s[1],o[1]),Math.max(i[0],r[0],s[0],o[0]),Math.max(i[1],r[1],s[1],o[1])]}static inverseTransform(e){const n=e[0]*e[3]-e[1]*e[2];return[e[3]/n,-e[1]/n,-e[2]/n,e[0]/n,(e[2]*e[5]-e[4]*e[3])/n,(e[4]*e[1]-e[5]*e[0])/n]}static singularValueDecompose2dScale(e){const n=[e[0],e[2],e[1],e[3]],i=e[0]*n[0]+e[1]*n[2],r=e[0]*n[1]+e[1]*n[3],s=e[2]*n[0]+e[3]*n[2],o=e[2]*n[1]+e[3]*n[3],a=(i+o)/2,l=Math.sqrt((i+o)**2-4*(i*o-s*r))/2,h=a+l||1,u=a-l||1;return[Math.sqrt(h),Math.sqrt(u)]}static normalizeRect(e){const n=e.slice(0);return e[0]>e[2]&&(n[0]=e[2],n[2]=e[0]),e[1]>e[3]&&(n[1]=e[3],n[3]=e[1]),n}static intersect(e,n){const i=Math.max(Math.min(e[0],e[2]),Math.min(n[0],n[2])),r=Math.min(Math.max(e[0],e[2]),Math.max(n[0],n[2]));if(i>r)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(n[1],n[3])),o=Math.min(Math.max(e[1],e[3]),Math.max(n[1],n[3]));return s>o?null:[i,s,r,o]}static bezierBoundingBox(e,n,i,r,s,o,a,l,h){return h?(h[0]=Math.min(h[0],e,a),h[1]=Math.min(h[1],n,l),h[2]=Math.max(h[2],e,a),h[3]=Math.max(h[3],n,l)):h=[Math.min(e,a),Math.min(n,l),Math.max(e,a),Math.max(n,l)],k(this,Dg,ny).call(this,e,i,s,a,n,r,o,l,3*(-e+3*(i-s)+a),6*(e-2*i+s),3*(i-e),h),k(this,Dg,ny).call(this,e,i,s,a,n,r,o,l,3*(-n+3*(r-o)+l),6*(n-2*r+o),3*(r-n),h),h}}gc=new WeakSet,xd=function(t,e,n,i,r,s,o,a,l,h){if(l<=0||l>=1)return;const u=1-l,f=l*l,p=f*l,m=u*(u*(u*t+3*l*e)+3*f*n)+p*i,y=u*(u*(u*r+3*l*s)+3*f*o)+p*a;h[0]=Math.min(h[0],m),h[1]=Math.min(h[1],y),h[2]=Math.max(h[2],m),h[3]=Math.max(h[3],y)},Dg=new WeakSet,ny=function(t,e,n,i,r,s,o,a,l,h,u,f){if(Math.abs(l)<1e-12){Math.abs(h)>=1e-12&&k(this,gc,xd).call(this,t,e,n,i,r,s,o,a,-u/h,f);return}const p=h**2-4*u*l;if(p<0)return;const m=Math.sqrt(p),y=2*l;k(this,gc,xd).call(this,t,e,n,i,r,s,o,a,(-h+m)/y,f),k(this,gc,xd).call(this,t,e,n,i,r,s,o,a,(-h-m)/y,f)},v(ae,gc),v(ae,Dg);function D5(t){return decodeURIComponent(escape(t))}let yv=null,rk=null;function O5(t){return yv||(yv=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,rk=new Map([["ﬅ","ſt"]])),t.replaceAll(yv,(e,n,i)=>n?n.normalize("NFKC"):rk.get(i))}function $5(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const t=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(t);else for(let e=0;e<32;e++)t[e]=Math.floor(Math.random()*255);return U2(t)}const H2="pdfjs_internal_id_",Ui={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};class o0{constructor(){this.constructor===o0&&Oe("Cannot initialize BaseFilterFactory.")}addFilter(e){return"none"}addHCMFilter(e,n){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,n,i,r,s){return"none"}destroy(e=!1){}}class a0{constructor(){this.constructor===a0&&Oe("Cannot initialize BaseCanvasFactory.")}create(e,n){if(e<=0||n<=0)throw new Error("Invalid canvas size");const i=this._createCanvas(e,n);return{canvas:i,context:i.getContext("2d")}}reset(e,n,i){if(!e.canvas)throw new Error("Canvas is not specified");if(n<=0||i<=0)throw new Error("Invalid canvas size");e.canvas.width=n,e.canvas.height=i}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,n){Oe("Abstract method `_createCanvas` called.")}}class l0{constructor({baseUrl:e=null,isCompressed:n=!0}){this.constructor===l0&&Oe("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=e,this.isCompressed=n}async fetch({name:e}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!e)throw new Error("CMap name must be specified.");const n=this.baseUrl+e+(this.isCompressed?".bcmap":""),i=this.isCompressed?J1.BINARY:J1.NONE;return this._fetchData(n,i).catch(r=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${n}`)})}_fetchData(e,n){Oe("Abstract method `_fetchData` called.")}}class c0{constructor({baseUrl:e=null}){this.constructor===c0&&Oe("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!e)throw new Error("Font filename must be specified.");const n=`${this.baseUrl}${e}`;return this._fetchData(n).catch(i=>{throw new Error(`Unable to load font data at: ${n}`)})}_fetchData(e){Oe("Abstract method `_fetchData` called.")}}class Vx{constructor(){this.constructor===Vx&&Oe("Cannot initialize BaseSVGFactory.")}create(e,n,i=!1){if(e<=0||n<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),i||(r.setAttribute("width",`${e}px`),r.setAttribute("height",`${n}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${e} ${n}`),r}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Oe("Abstract method `_createSVG` called.")}}const Vi="http://www.w3.org/2000/svg",ua=class{};ve(ua,"CSS",96),ve(ua,"PDF",72),ve(ua,"PDF_TO_CSS_UNITS",ua.CSS/ua.PDF);let Ql=ua;var ko,hr,Or,bn,cf,ha,Pt,Ft,Gs,da,_o,il,Nc,uf,iy,V2,hf,ry,qs,fa,pa,mc,ga,Dc,df,sy,ma,Oc;class F5 extends o0{constructor({docId:e,ownerDocument:n=globalThis.document}={}){super(),v(this,Pt),v(this,Gs),v(this,_o),v(this,Nc),v(this,iy),v(this,hf),v(this,qs),v(this,pa),v(this,ga),v(this,df),v(this,ma),v(this,ko,void 0),v(this,hr,void 0),v(this,Or,void 0),v(this,bn,void 0),v(this,cf,void 0),v(this,ha,0),_(this,Or,e),_(this,bn,n)}addFilter(e){if(!e)return"none";let n=c(this,Pt,Ft).get(e);if(n)return n;const[i,r,s]=k(this,Nc,uf).call(this,e),o=e.length===1?i:`${i}${r}${s}`;if(n=c(this,Pt,Ft).get(o),n)return c(this,Pt,Ft).set(e,n),n;const a=`g_${c(this,Or)}_transfer_map_${Zn(this,ha)._++}`,l=`url(#${a})`;c(this,Pt,Ft).set(e,l),c(this,Pt,Ft).set(o,l);const h=k(this,qs,fa).call(this,a);return k(this,ga,Dc).call(this,i,r,s,h),l}addHCMFilter(e,n){var i;const r=`${e}-${n}`,s="base";let o=c(this,Gs,da).get(s);if((o==null?void 0:o.key)===r||(o?((i=o.filter)==null||i.remove(),o.key=r,o.url="none",o.filter=null):(o={key:r,url:"none",filter:null},c(this,Gs,da).set(s,o)),!e||!n))return o.url;const a=k(this,ma,Oc).call(this,e);e=ae.makeHexColor(...a);const l=k(this,ma,Oc).call(this,n);if(n=ae.makeHexColor(...l),c(this,_o,il).style.color="",e==="#000000"&&n==="#ffffff"||e===n)return o.url;const h=new Array(256);for(let y=0;y<=255;y++){const A=y/255;h[y]=A<=.03928?A/12.92:((A+.055)/1.055)**2.4}const u=h.join(","),f=`g_${c(this,Or)}_hcm_filter`,p=o.filter=k(this,qs,fa).call(this,f);k(this,ga,Dc).call(this,u,u,u,p),k(this,hf,ry).call(this,p);const m=(y,A)=>{const b=a[y]/255,w=l[y]/255,S=new Array(A+1);for(let E=0;E<=A;E++)S[E]=b+E/A*(w-b);return S.join(",")};return k(this,ga,Dc).call(this,m(0,5),m(1,5),m(2,5),p),o.url=`url(#${f})`,o.url}addAlphaFilter(e){let n=c(this,Pt,Ft).get(e);if(n)return n;const[i]=k(this,Nc,uf).call(this,[e]),r=`alpha_${i}`;if(n=c(this,Pt,Ft).get(r),n)return c(this,Pt,Ft).set(e,n),n;const s=`g_${c(this,Or)}_alpha_map_${Zn(this,ha)._++}`,o=`url(#${s})`;c(this,Pt,Ft).set(e,o),c(this,Pt,Ft).set(r,o);const a=k(this,qs,fa).call(this,s);return k(this,df,sy).call(this,i,a),o}addLuminosityFilter(e){let n=c(this,Pt,Ft).get(e||"luminosity");if(n)return n;let i,r;if(e?([i]=k(this,Nc,uf).call(this,[e]),r=`luminosity_${i}`):r="luminosity",n=c(this,Pt,Ft).get(r),n)return c(this,Pt,Ft).set(e,n),n;const s=`g_${c(this,Or)}_luminosity_map_${Zn(this,ha)._++}`,o=`url(#${s})`;c(this,Pt,Ft).set(e,o),c(this,Pt,Ft).set(r,o);const a=k(this,qs,fa).call(this,s);return k(this,iy,V2).call(this,a),e&&k(this,df,sy).call(this,i,a),o}addHighlightHCMFilter(e,n,i,r,s){var o;const a=`${n}-${i}-${r}-${s}`;let l=c(this,Gs,da).get(e);if((l==null?void 0:l.key)===a||(l?((o=l.filter)==null||o.remove(),l.key=a,l.url="none",l.filter=null):(l={key:a,url:"none",filter:null},c(this,Gs,da).set(e,l)),!n||!i))return l.url;const[h,u]=[n,i].map(k(this,ma,Oc).bind(this));let f=Math.round(.2126*h[0]+.7152*h[1]+.0722*h[2]),p=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),[m,y]=[r,s].map(k(this,ma,Oc).bind(this));p<f&&([f,p,m,y]=[p,f,y,m]),c(this,_o,il).style.color="";const A=(S,E,T)=>{const R=new Array(256),I=(p-f)/T,M=S/255,C=(E-S)/(255*T);let P=0;for(let N=0;N<=T;N++){const $=Math.round(f+N*I),z=M+N*C;for(let U=P;U<=$;U++)R[U]=z;P=$+1}for(let N=P;N<256;N++)R[N]=R[P-1];return R.join(",")},b=`g_${c(this,Or)}_hcm_${e}_filter`,w=l.filter=k(this,qs,fa).call(this,b);return k(this,hf,ry).call(this,w),k(this,ga,Dc).call(this,A(m[0],y[0],5),A(m[1],y[1],5),A(m[2],y[2],5),w),l.url=`url(#${b})`,l.url}destroy(e=!1){e&&c(this,Gs,da).size!==0||(c(this,hr)&&(c(this,hr).parentNode.parentNode.remove(),_(this,hr,null)),c(this,ko)&&(c(this,ko).clear(),_(this,ko,null)),_(this,ha,0))}}ko=new WeakMap,hr=new WeakMap,Or=new WeakMap,bn=new WeakMap,cf=new WeakMap,ha=new WeakMap,Pt=new WeakSet,Ft=function(){return c(this,ko)||_(this,ko,new Map)},Gs=new WeakSet,da=function(){return c(this,cf)||_(this,cf,new Map)},_o=new WeakSet,il=function(){if(!c(this,hr)){const t=c(this,bn).createElement("div"),{style:e}=t;e.visibility="hidden",e.contain="strict",e.width=e.height=0,e.position="absolute",e.top=e.left=0,e.zIndex=-1;const n=c(this,bn).createElementNS(Vi,"svg");n.setAttribute("width",0),n.setAttribute("height",0),_(this,hr,c(this,bn).createElementNS(Vi,"defs")),t.append(n),n.append(c(this,hr)),c(this,bn).body.append(t)}return c(this,hr)},Nc=new WeakSet,uf=function(t){if(t.length===1){const a=t[0],l=new Array(256);for(let u=0;u<256;u++)l[u]=a[u]/255;const h=l.join(",");return[h,h,h]}const[e,n,i]=t,r=new Array(256),s=new Array(256),o=new Array(256);for(let a=0;a<256;a++)r[a]=e[a]/255,s[a]=n[a]/255,o[a]=i[a]/255;return[r.join(","),s.join(","),o.join(",")]},iy=new WeakSet,V2=function(t){const e=c(this,bn).createElementNS(Vi,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(e)},hf=new WeakSet,ry=function(t){const e=c(this,bn).createElementNS(Vi,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(e)},qs=new WeakSet,fa=function(t){const e=c(this,bn).createElementNS(Vi,"filter");return e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("id",t),c(this,_o,il).append(e),e},pa=new WeakSet,mc=function(t,e,n){const i=c(this,bn).createElementNS(Vi,e);i.setAttribute("type","discrete"),i.setAttribute("tableValues",n),t.append(i)},ga=new WeakSet,Dc=function(t,e,n,i){const r=c(this,bn).createElementNS(Vi,"feComponentTransfer");i.append(r),k(this,pa,mc).call(this,r,"feFuncR",t),k(this,pa,mc).call(this,r,"feFuncG",e),k(this,pa,mc).call(this,r,"feFuncB",n)},df=new WeakSet,sy=function(t,e){const n=c(this,bn).createElementNS(Vi,"feComponentTransfer");e.append(n),k(this,pa,mc).call(this,n,"feFuncA",t)},ma=new WeakSet,Oc=function(t){return c(this,_o,il).style.color=t,Xx(getComputedStyle(c(this,_o,il)).getPropertyValue("color"))};class j5 extends a0{constructor({ownerDocument:e=globalThis.document}={}){super(),this._document=e}_createCanvas(e,n){const i=this._document.createElement("canvas");return i.width=e,i.height=n,i}}async function u0(t,e="text"){if($c(t,document.baseURI)){const n=await fetch(t);if(!n.ok)throw new Error(n.statusText);switch(e){case"arraybuffer":return n.arrayBuffer();case"blob":return n.blob();case"json":return n.json()}return n.text()}return new Promise((n,i)=>{const r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType=e,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(e){case"arraybuffer":case"blob":case"json":n(r.response);return}n(r.responseText);return}i(new Error(r.statusText))}},r.send(null)})}class G2 extends l0{_fetchData(e,n){return u0(e,this.isCompressed?"arraybuffer":"text").then(i=>({cMapData:i instanceof ArrayBuffer?new Uint8Array(i):s0(i),compressionType:n}))}}class q2 extends c0{_fetchData(e){return u0(e,"arraybuffer").then(n=>new Uint8Array(n))}}class Gx extends Vx{_createSVG(e){return document.createElementNS(Vi,e)}}class Bh{constructor({viewBox:e,scale:n,rotation:i,offsetX:r=0,offsetY:s=0,dontFlip:o=!1}){this.viewBox=e,this.scale=n,this.rotation=i,this.offsetX=r,this.offsetY=s;const a=(e[2]+e[0])/2,l=(e[3]+e[1])/2;let h,u,f,p;switch(i%=360,i<0&&(i+=360),i){case 180:h=-1,u=0,f=0,p=1;break;case 90:h=0,u=1,f=1,p=0;break;case 270:h=0,u=-1,f=-1,p=0;break;case 0:h=1,u=0,f=0,p=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(f=-f,p=-p);let m,y,A,b;h===0?(m=Math.abs(l-e[1])*n+r,y=Math.abs(a-e[0])*n+s,A=(e[3]-e[1])*n,b=(e[2]-e[0])*n):(m=Math.abs(a-e[0])*n+r,y=Math.abs(l-e[1])*n+s,A=(e[2]-e[0])*n,b=(e[3]-e[1])*n),this.transform=[h*n,u*n,f*n,p*n,m-h*n*a-f*n*l,y-u*n*a-p*n*l],this.width=A,this.height=b}get rawDims(){const{viewBox:e}=this;return Pe(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:n=this.rotation,offsetX:i=this.offsetX,offsetY:r=this.offsetY,dontFlip:s=!1}={}){return new Bh({viewBox:this.viewBox.slice(),scale:e,rotation:n,offsetX:i,offsetY:r,dontFlip:s})}convertToViewportPoint(e,n){return ae.applyTransform([e,n],this.transform)}convertToViewportRectangle(e){const n=ae.applyTransform([e[0],e[1]],this.transform),i=ae.applyTransform([e[2],e[3]],this.transform);return[n[0],n[1],i[0],i[1]]}convertToPdfPoint(e,n){return ae.applyInverseTransform([e,n],this.transform)}}class qx extends Os{constructor(e,n=0){super(e,"RenderingCancelledException"),this.extraDelay=n}}function Yx(t){const e=t.length;let n=0;for(;n<e&&t[n].trim()==="";)n++;return t.substring(n,n+5).toLowerCase()==="data:"}function Kx(t){return typeof t=="string"&&/\.pdf$/i.test(t)}function W5(t){return[t]=t.split(/[#?]/,1),t.substring(t.lastIndexOf("/")+1)}function B5(t,e="document.pdf"){if(typeof t!="string")return e;if(Yx(t))return Ae('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const n=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,i=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=n.exec(t);let s=i.exec(r[1])||i.exec(r[2])||i.exec(r[3]);if(s&&(s=s[0],s.includes("%")))try{s=i.exec(decodeURIComponent(s))[0]}catch{}return s||e}class sk{constructor(){ve(this,"started",Object.create(null)),ve(this,"times",[])}time(e){e in this.started&&Ae(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Ae(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let n=0;for(const{name:i}of this.times)n=Math.max(i.length,n);for(const{name:i,start:r,end:s}of this.times)e.push(`${i.padEnd(n)} ${s-r}ms
`);return e.join("")}}function $c(t,e){try{const{protocol:n}=e?new URL(t,e):new URL(t);return n==="http:"||n==="https:"}catch{return!1}}function En(t){t.preventDefault()}function Y2(t){console.log("Deprecated API usage: "+t)}let wv;class K2{static toDateObject(e){if(!e||typeof e!="string")return null;wv||(wv=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const n=wv.exec(e);if(!n)return null;const i=parseInt(n[1],10);let r=parseInt(n[2],10);r=r>=1&&r<=12?r-1:0;let s=parseInt(n[3],10);s=s>=1&&s<=31?s:1;let o=parseInt(n[4],10);o=o>=0&&o<=23?o:0;let a=parseInt(n[5],10);a=a>=0&&a<=59?a:0;let l=parseInt(n[6],10);l=l>=0&&l<=59?l:0;const h=n[7]||"Z";let u=parseInt(n[8],10);u=u>=0&&u<=23?u:0;let f=parseInt(n[9],10)||0;return f=f>=0&&f<=59?f:0,h==="-"?(o+=u,a+=f):h==="+"&&(o-=u,a-=f),new Date(Date.UTC(i,r,s,o,a,l))}}function z5(t,{scale:e=1,rotation:n=0}){const{width:i,height:r}=t.attributes.style,s=[0,0,parseInt(i),parseInt(r)];return new Bh({viewBox:s,scale:e,rotation:n})}function Xx(t){if(t.startsWith("#")){const e=parseInt(t.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return t.startsWith("rgb(")?t.slice(4,-1).split(",").map(e=>parseInt(e)):t.startsWith("rgba(")?t.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Ae(`Not a valid color format: "${t}"`),[0,0,0])}function U5(t){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const n of t.keys()){e.style.color=n;const i=window.getComputedStyle(e).color;t.set(n,Xx(i))}e.remove()}function Ye(t){const{a:e,b:n,c:i,d:r,e:s,f:o}=t.getTransform();return[e,n,i,r,s,o]}function Hi(t){const{a:e,b:n,c:i,d:r,e:s,f:o}=t.getTransform().invertSelf();return[e,n,i,r,s,o]}function Ho(t,e,n=!1,i=!0){if(e instanceof Bh){const{pageWidth:r,pageHeight:s}=e.rawDims,{style:o}=t,a=kn.isCSSRoundSupported,l=`var(--scale-factor) * ${r}px`,h=`var(--scale-factor) * ${s}px`,u=a?`round(${l}, 1px)`:`calc(${l})`,f=a?`round(${h}, 1px)`:`calc(${h})`;!n||e.rotation%180===0?(o.width=u,o.height=f):(o.width=f,o.height=u)}i&&t.setAttribute("data-main-rotation",e.rotation)}var va,ya,dr,rl,oy,X2,ay,ok,ly,ak,Bu,Og,cy,Q2,ff,uy;const Z2=class J2{constructor(e){v(this,ay),v(this,ly),v(this,Bu),v(this,cy),v(this,ff),v(this,va,null),v(this,ya,null),v(this,dr,void 0),v(this,rl,null),_(this,dr,e)}render(){const e=_(this,va,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",En),e.addEventListener("pointerdown",k(J2,oy,X2));const n=_(this,rl,document.createElement("div"));n.className="buttons",e.append(n);const i=c(this,dr).toolbarPosition;if(i){const{style:r}=e,s=c(this,dr)._uiManager.direction==="ltr"?1-i[0]:i[0];r.insetInlineEnd=`${100*s}%`,r.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return k(this,cy,Q2).call(this),e}hide(){var e;c(this,va).classList.add("hidden"),(e=c(this,ya))==null||e.hideDropdown()}show(){c(this,va).classList.remove("hidden")}addAltTextButton(e){k(this,Bu,Og).call(this,e),c(this,rl).prepend(e,c(this,ff,uy))}addColorPicker(e){_(this,ya,e);const n=e.renderButton();k(this,Bu,Og).call(this,n),c(this,rl).prepend(n,c(this,ff,uy))}remove(){var e;c(this,va).remove(),(e=c(this,ya))==null||e.destroy(),_(this,ya,null)}};va=new WeakMap,ya=new WeakMap,dr=new WeakMap,rl=new WeakMap,oy=new WeakSet,X2=function(t){t.stopPropagation()},ay=new WeakSet,ok=function(t){c(this,dr)._focusEventsAllowed=!1,t.preventDefault(),t.stopPropagation()},ly=new WeakSet,ak=function(t){c(this,dr)._focusEventsAllowed=!0,t.preventDefault(),t.stopPropagation()},Bu=new WeakSet,Og=function(t){t.addEventListener("focusin",k(this,ay,ok).bind(this),{capture:!0}),t.addEventListener("focusout",k(this,ly,ak).bind(this),{capture:!0}),t.addEventListener("contextmenu",En)},cy=new WeakSet,Q2=function(){const t=document.createElement("button");t.className="delete",t.tabIndex=0,t.setAttribute("data-l10n-id",`pdfjs-editor-remove-${c(this,dr).editorType}-button`),k(this,Bu,Og).call(this,t),t.addEventListener("click",e=>{c(this,dr)._uiManager.delete()}),c(this,rl).append(t)},ff=new WeakSet,uy=function(){const t=document.createElement("div");return t.className="divider",t},v(Z2,oy);let H5=Z2;var pf,uo,$g,hy,eP,dy,tP,fy,lk;class V5{constructor(e){v(this,hy),v(this,dy),v(this,fy),v(this,pf,null),v(this,uo,null),v(this,$g,void 0),_(this,$g,e)}show(e,n,i){const[r,s]=k(this,dy,tP).call(this,n,i),{style:o}=c(this,uo)||_(this,uo,k(this,hy,eP).call(this));e.append(c(this,uo)),o.insetInlineEnd=`${100*r}%`,o.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){c(this,uo).remove()}}pf=new WeakMap,uo=new WeakMap,$g=new WeakMap,hy=new WeakSet,eP=function(){const t=_(this,uo,document.createElement("div"));t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",En);const e=_(this,pf,document.createElement("div"));return e.className="buttons",t.append(e),k(this,fy,lk).call(this),t},dy=new WeakSet,tP=function(t,e){let n=0,i=0;for(const r of t){const s=r.y+r.height;if(s<n)continue;const o=r.x+(e?r.width:0);if(s>n){i=o,n=s;continue}e?o>i&&(i=o):o<i&&(i=o)}return[e?1-i:i,n]},fy=new WeakSet,lk=function(){const t=document.createElement("button");t.className="highlightButton",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const e=document.createElement("span");t.append(e),e.className="visuallyHidden",e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label"),t.addEventListener("contextmenu",En),t.addEventListener("click",()=>{c(this,$g).highlightSelection("floating_button")}),c(this,pf).append(t)};function Fg(t,e,n){for(const i of n)e.addEventListener(i,t[i].bind(t))}function G5(t){return Math.round(Math.min(255,Math.max(1,255*t))).toString(16).padStart(2,"0")}var py;class q5{constructor(){v(this,py,0)}get id(){return`${k5}${Zn(this,py)._++}`}}py=new WeakMap;var jg,gy,mn,gf,my;const nP=class{constructor(){v(this,gf),v(this,jg,$5()),v(this,gy,0),v(this,mn,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d"),i=new Image;i.src=e;const r=i.decode().then(()=>(n.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return Pe(this,"_isSVGFittingCanvas",r)}async getFromFile(e){const{lastModified:n,name:i,size:r,type:s}=e;return k(this,gf,my).call(this,`${n}_${i}_${r}_${s}`,e)}async getFromUrl(e){return k(this,gf,my).call(this,e,e)}async getFromId(e){c(this,mn)||_(this,mn,new Map);const n=c(this,mn).get(e);return n?n.bitmap?(n.refCounter+=1,n):n.file?this.getFromFile(n.file):this.getFromUrl(n.url):null}getSvgUrl(e){const n=c(this,mn).get(e);return n!=null&&n.isSvg?n.svgUrl:null}deleteId(e){c(this,mn)||_(this,mn,new Map);const n=c(this,mn).get(e);n&&(n.refCounter-=1,n.refCounter===0&&(n.bitmap=null))}isValidId(e){return e.startsWith(`image_${c(this,jg)}_`)}};jg=new WeakMap,gy=new WeakMap,mn=new WeakMap,gf=new WeakSet,my=async function(t,e){c(this,mn)||_(this,mn,new Map);let n=c(this,mn).get(t);if(n===null)return null;if(n!=null&&n.bitmap)return n.refCounter+=1,n;try{n||(n={bitmap:null,id:`image_${c(this,jg)}_${Zn(this,gy)._++}`,refCounter:0,isSvg:!1});let i;if(typeof e=="string"?(n.url=e,i=await u0(e,"blob")):i=n.file=e,i.type==="image/svg+xml"){const r=nP._isSVGFittingCanvas,s=new FileReader,o=new Image,a=new Promise((l,h)=>{o.onload=()=>{n.bitmap=o,n.isSvg=!0,l()},s.onload=async()=>{const u=n.svgUrl=s.result;o.src=await r?`${u}#svgView(preserveAspectRatio(none))`:u},o.onerror=s.onerror=h});s.readAsDataURL(i),await a}else n.bitmap=await createImageBitmap(i);n.refCounter=1}catch(i){console.error(i),n=null}return c(this,mn).set(t,n),n&&c(this,mn).set(n.id,n),n};let Y5=nP;var Tt,Ys,mf,ht;class K5{constructor(e=128){v(this,Tt,[]),v(this,Ys,!1),v(this,mf,void 0),v(this,ht,-1),_(this,mf,e)}add({cmd:e,undo:n,post:i,mustExec:r,type:s=NaN,overwriteIfSameType:o=!1,keepUndo:a=!1}){if(r&&e(),c(this,Ys))return;const l={cmd:e,undo:n,post:i,type:s};if(c(this,ht)===-1){c(this,Tt).length>0&&(c(this,Tt).length=0),_(this,ht,0),c(this,Tt).push(l);return}if(o&&c(this,Tt)[c(this,ht)].type===s){a&&(l.undo=c(this,Tt)[c(this,ht)].undo),c(this,Tt)[c(this,ht)]=l;return}const h=c(this,ht)+1;h===c(this,mf)?c(this,Tt).splice(0,1):(_(this,ht,h),h<c(this,Tt).length&&c(this,Tt).splice(h)),c(this,Tt).push(l)}undo(){if(c(this,ht)===-1)return;_(this,Ys,!0);const{undo:e,post:n}=c(this,Tt)[c(this,ht)];e(),n==null||n(),_(this,Ys,!1),_(this,ht,c(this,ht)-1)}redo(){if(c(this,ht)<c(this,Tt).length-1){_(this,ht,c(this,ht)+1),_(this,Ys,!0);const{cmd:e,post:n}=c(this,Tt)[c(this,ht)];e(),n==null||n(),_(this,Ys,!1)}}hasSomethingToUndo(){return c(this,ht)!==-1}hasSomethingToRedo(){return c(this,ht)<c(this,Tt).length-1}destroy(){_(this,Tt,null)}}Tt=new WeakMap,Ys=new WeakMap,mf=new WeakMap,ht=new WeakMap;var vy,iP;class zh{constructor(e){v(this,vy),this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:n}=kn.platform;for(const[i,r,s={}]of e)for(const o of i){const a=o.startsWith("mac+");n&&a?(this.callbacks.set(o.slice(4),{callback:r,options:s}),this.allKeys.add(o.split("+").at(-1))):!n&&!a&&(this.callbacks.set(o,{callback:r,options:s}),this.allKeys.add(o.split("+").at(-1)))}}exec(e,n){if(!this.allKeys.has(n.key))return;const i=this.callbacks.get(k(this,vy,iP).call(this,n));if(!i)return;const{callback:r,options:{bubbles:s=!1,args:o=[],checker:a=null}}=i;a&&!a(e,n)||(r.bind(e,...o,n)(),s||(n.stopPropagation(),n.preventDefault()))}}vy=new WeakSet,iP=function(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e};const rP=class sP{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return U5(e),Pe(this,"_colors",e)}convert(e){const n=Xx(e);if(!window.matchMedia("(forced-colors: active)").matches)return n;for(const[i,r]of this._colors)if(r.every((s,o)=>s===n[o]))return sP._colorsMapping.get(i);return n}getHexCode(e){const n=this._colors.get(e);return n?ae.makeHexColor(...n):e}};ve(rP,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let X5=rP;var jn,xt,zt,Fc,$r,wa,wi,jc,Sa,Gi,Fr,xa,Wg,vf,qi,Wc,ho,Ri,yy,fo,yf,Aa,wf,Bc,Gt,De,jr,Ea,zc,Sf,xf,Af,Ef,kf,_f,bf,Cf,Pf,Tf,Rf,Mf,Lf,Ks,Yi,Wr,If,zu,Nf,wy,ck,Sy,oP,Uu,Bg,xy,aP,Ay,lP,Ey,cP,Df,ky,Of,_y,$f,by,Ff,Cy,jf,Py,Ht,nn,sr,Qr,Ty,uP,Ry,hP,Wf,My,Ly,dP,ka,Uc,Bf,Iy;const Ny=class Dy{constructor(e,n,i,r,s,o,a,l,h){v(this,zu),v(this,wy),v(this,Sy),v(this,Uu),v(this,xy),v(this,Ay),v(this,Ey),v(this,Df),v(this,Of),v(this,$f),v(this,Ff),v(this,jf),v(this,Ht),v(this,sr),v(this,Ty),v(this,Ry),v(this,Wf),v(this,Ly),v(this,ka),v(this,Bf),v(this,jn,null),v(this,xt,new Map),v(this,zt,new Map),v(this,Fc,null),v(this,$r,null),v(this,wa,null),v(this,wi,new K5),v(this,jc,0),v(this,Sa,new Set),v(this,Gi,null),v(this,Fr,null),v(this,xa,new Set),v(this,Wg,!1),v(this,vf,null),v(this,qi,null),v(this,Wc,null),v(this,ho,!1),v(this,Ri,null),v(this,yy,new q5),v(this,fo,!1),v(this,yf,!1),v(this,Aa,null),v(this,wf,null),v(this,Bc,null),v(this,Gt,be.NONE),v(this,De,new Set),v(this,jr,null),v(this,Ea,null),v(this,zc,null),v(this,Sf,this.blur.bind(this)),v(this,xf,this.focus.bind(this)),v(this,Af,this.copy.bind(this)),v(this,Ef,this.cut.bind(this)),v(this,kf,this.paste.bind(this)),v(this,_f,this.keydown.bind(this)),v(this,bf,this.keyup.bind(this)),v(this,Cf,this.onEditingAction.bind(this)),v(this,Pf,this.onPageChanging.bind(this)),v(this,Tf,this.onScaleChanging.bind(this)),v(this,Rf,k(this,Sy,oP).bind(this)),v(this,Mf,this.onRotationChanging.bind(this)),v(this,Lf,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1}),v(this,Ks,[0,0]),v(this,Yi,null),v(this,Wr,null),v(this,If,null),_(this,Wr,e),_(this,If,n),_(this,Fc,i),this._eventBus=r,this._eventBus._on("editingaction",c(this,Cf)),this._eventBus._on("pagechanging",c(this,Pf)),this._eventBus._on("scalechanging",c(this,Tf)),this._eventBus._on("rotationchanging",c(this,Mf)),k(this,xy,aP).call(this),k(this,Of,_y).call(this),_(this,$r,s.annotationStorage),_(this,vf,s.filterFactory),_(this,Ea,o),_(this,Wc,a||null),_(this,Wg,l),_(this,Bc,h||null),this.viewParameters={realScale:Ql.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const e=Dy.prototype,n=o=>c(o,Wr).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),i=(o,{target:a})=>{if(a instanceof HTMLInputElement){const{type:l}=a;return l!=="text"&&l!=="number"}return!0},r=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return Pe(this,"_keyboardManager",new zh([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:i}],[["ctrl+z","mac+meta+z"],e.undo,{checker:i}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:i}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:i}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&c(o,Wr).contains(a)&&!o.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&c(o,Wr).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:n}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:n}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:n}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:n}]]))}destroy(){var e,n;k(this,$f,by).call(this),k(this,Df,ky).call(this),this._eventBus._off("editingaction",c(this,Cf)),this._eventBus._off("pagechanging",c(this,Pf)),this._eventBus._off("scalechanging",c(this,Tf)),this._eventBus._off("rotationchanging",c(this,Mf));for(const i of c(this,zt).values())i.destroy();c(this,zt).clear(),c(this,xt).clear(),c(this,xa).clear(),_(this,jn,null),c(this,De).clear(),c(this,wi).destroy(),(e=c(this,Fc))==null||e.destroy(),(n=c(this,Ri))==null||n.hide(),_(this,Ri,null),c(this,qi)&&(clearTimeout(c(this,qi)),_(this,qi,null)),c(this,Yi)&&(clearTimeout(c(this,Yi)),_(this,Yi,null)),k(this,Ay,lP).call(this)}async mlGuess(e){var n;return((n=c(this,Bc))==null?void 0:n.guess(e))||null}get hasMLManager(){return!!c(this,Bc)}get hcmFilter(){return Pe(this,"hcmFilter",c(this,Ea)?c(this,vf).addHCMFilter(c(this,Ea).foreground,c(this,Ea).background):"none")}get direction(){return Pe(this,"direction",getComputedStyle(c(this,Wr)).direction)}get highlightColors(){return Pe(this,"highlightColors",c(this,Wc)?new Map(c(this,Wc).split(",").map(e=>e.split("=").map(n=>n.trim()))):null)}get highlightColorNames(){return Pe(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){_(this,wf,e)}editAltText(e){var n;(n=c(this,Fc))==null||n.editAltText(this,e)}onPageChanging({pageNumber:e}){_(this,jc,e-1)}focusMainContainer(){c(this,Wr).focus()}findParent(e,n){for(const i of c(this,zt).values()){const{x:r,y:s,width:o,height:a}=i.div.getBoundingClientRect();if(e>=r&&e<=r+o&&n>=s&&n<=s+a)return i}return null}disableUserSelect(e=!1){c(this,If).classList.toggle("noUserSelect",e)}addShouldRescale(e){c(this,xa).add(e)}removeShouldRescale(e){c(this,xa).delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*Ql.PDF_TO_CSS_UNITS;for(const n of c(this,xa))n.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const n=document.getSelection();if(!n||n.isCollapsed)return;const{anchorNode:i,anchorOffset:r,focusNode:s,focusOffset:o}=n,a=n.toString(),l=k(this,zu,Nf).call(this,n).closest(".textLayer"),h=this.getSelectionBoxes(l);if(h){n.empty(),c(this,Gt)===be.NONE&&(this._eventBus.dispatch("showannotationeditorui",{source:this,mode:be.HIGHLIGHT}),this.showAllEditors("highlight",!0,!0));for(const u of c(this,zt).values())if(u.hasTextLayer(l)){u.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:h,anchorNode:i,anchorOffset:r,focusNode:s,focusOffset:o,text:a});break}}}addToAnnotationStorage(e){!e.isEmpty()&&c(this,$r)&&!c(this,$r).has(e.id)&&c(this,$r).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,c(this,ho)&&(_(this,ho,!1),k(this,Uu,Bg).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const n of c(this,De))if(n.div.contains(e)){_(this,Aa,[n,e]),n._focusEventsAllowed=!1;break}}focus(){if(!c(this,Aa))return;const[e,n]=c(this,Aa);_(this,Aa,null),n.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0}),n.focus()}addEditListeners(){k(this,Of,_y).call(this),k(this,Ff,Cy).call(this)}removeEditListeners(){k(this,$f,by).call(this),k(this,jf,Py).call(this)}copy(e){var n;if(e.preventDefault(),(n=c(this,jn))==null||n.commitOrRemove(),!this.hasSelection)return;const i=[];for(const r of c(this,De)){const s=r.serialize(!0);s&&i.push(s)}i.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(i))}cut(e){this.copy(e),this.delete()}paste(e){e.preventDefault();const{clipboardData:n}=e;for(const s of n.items)for(const o of c(this,Fr))if(o.isHandlingMimeForPasting(s.type)){o.paste(s,this.currentLayer);return}let i=n.getData("application/pdfjs");if(!i)return;try{i=JSON.parse(i)}catch(s){Ae(`paste: "${s.message}".`);return}if(!Array.isArray(i))return;this.unselectAll();const r=this.currentLayer;try{const s=[];for(const l of i){const h=r.deserialize(l);if(!h)return;s.push(h)}const o=()=>{for(const l of s)k(this,Wf,My).call(this,l);k(this,Bf,Iy).call(this,s)},a=()=>{for(const l of s)l.remove()};this.addCommands({cmd:o,undo:a,mustExec:!0})}catch(s){Ae(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),c(this,Gt)!==be.NONE&&!this.isEditorHandlingKeyboard&&Dy._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,c(this,ho)&&(_(this,ho,!1),k(this,Uu,Bg).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(k(this,Ey,cP).call(this),k(this,Ff,Cy).call(this),k(this,Ht,nn).call(this,{isEditing:c(this,Gt)!==be.NONE,isEmpty:k(this,ka,Uc).call(this),hasSomethingToUndo:c(this,wi).hasSomethingToUndo(),hasSomethingToRedo:c(this,wi).hasSomethingToRedo(),hasSelectedEditor:!1})):(k(this,Df,ky).call(this),k(this,jf,Py).call(this),k(this,Ht,nn).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!c(this,Fr)){_(this,Fr,e);for(const n of c(this,Fr))k(this,sr,Qr).call(this,n.defaultPropertiesToUpdate)}}getId(){return c(this,yy).id}get currentLayer(){return c(this,zt).get(c(this,jc))}getLayer(e){return c(this,zt).get(e)}get currentPageIndex(){return c(this,jc)}addLayer(e){c(this,zt).set(e.pageIndex,e),c(this,fo)?e.enable():e.disable()}removeLayer(e){c(this,zt).delete(e.pageIndex)}updateMode(e,n=null,i=!1){if(c(this,Gt)!==e){if(_(this,Gt,e),e===be.NONE){this.setEditingState(!1),k(this,Ry,hP).call(this);return}this.setEditingState(!0),k(this,Ty,uP).call(this),this.unselectAll();for(const r of c(this,zt).values())r.updateMode(e);if(!n&&i){this.addNewEditorFromKeyboard();return}if(n){for(const r of c(this,xt).values())if(r.annotationElementId===n){this.setSelected(r),r.enterInEditMode();break}}}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==c(this,Gt)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,n){var i;if(c(this,Fr)){switch(e){case pe.CREATE:this.currentLayer.addNewEditor();return;case pe.HIGHLIGHT_DEFAULT_COLOR:(i=c(this,wf))==null||i.updateColor(n);break;case pe.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(c(this,zc)||_(this,zc,new Map)).set(e,n),this.showAllEditors("highlight",n);break}for(const r of c(this,De))r.updateParams(e,n);for(const r of c(this,Fr))r.updateDefaultParams(e,n)}}showAllEditors(e,n,i=!1){var r;for(const s of c(this,xt).values())s.editorType===e&&s.show(n);(((r=c(this,zc))==null?void 0:r.get(pe.HIGHLIGHT_SHOW_ALL))??!0)!==n&&k(this,sr,Qr).call(this,[[pe.HIGHLIGHT_SHOW_ALL,n]])}enableWaiting(e=!1){if(c(this,yf)!==e){_(this,yf,e);for(const n of c(this,zt).values())e?n.disableClick():n.enableClick(),n.div.classList.toggle("waiting",e)}}getEditors(e){const n=[];for(const i of c(this,xt).values())i.pageIndex===e&&n.push(i);return n}getEditor(e){return c(this,xt).get(e)}addEditor(e){c(this,xt).set(e.id,e)}removeEditor(e){var n;e.div.contains(document.activeElement)&&(c(this,qi)&&clearTimeout(c(this,qi)),_(this,qi,setTimeout(()=>{this.focusMainContainer(),_(this,qi,null)},0))),c(this,xt).delete(e.id),this.unselect(e),(!e.annotationElementId||!c(this,Sa).has(e.annotationElementId))&&((n=c(this,$r))==null||n.remove(e.id))}addDeletedAnnotationElement(e){c(this,Sa).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return c(this,Sa).has(e)}removeDeletedAnnotationElement(e){c(this,Sa).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){c(this,jn)!==e&&(_(this,jn,e),e&&k(this,sr,Qr).call(this,e.propertiesToUpdate))}updateUI(e){c(this,Ly,dP)===e&&k(this,sr,Qr).call(this,e.propertiesToUpdate)}toggleSelected(e){if(c(this,De).has(e)){c(this,De).delete(e),e.unselect(),k(this,Ht,nn).call(this,{hasSelectedEditor:this.hasSelection});return}c(this,De).add(e),e.select(),k(this,sr,Qr).call(this,e.propertiesToUpdate),k(this,Ht,nn).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const n of c(this,De))n!==e&&n.unselect();c(this,De).clear(),c(this,De).add(e),e.select(),k(this,sr,Qr).call(this,e.propertiesToUpdate),k(this,Ht,nn).call(this,{hasSelectedEditor:!0})}isSelected(e){return c(this,De).has(e)}get firstSelectedEditor(){return c(this,De).values().next().value}unselect(e){e.unselect(),c(this,De).delete(e),k(this,Ht,nn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return c(this,De).size!==0}get isEnterHandled(){return c(this,De).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){c(this,wi).undo(),k(this,Ht,nn).call(this,{hasSomethingToUndo:c(this,wi).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:k(this,ka,Uc).call(this)})}redo(){c(this,wi).redo(),k(this,Ht,nn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:c(this,wi).hasSomethingToRedo(),isEmpty:k(this,ka,Uc).call(this)})}addCommands(e){c(this,wi).add(e),k(this,Ht,nn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:k(this,ka,Uc).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...c(this,De)],n=()=>{for(const r of e)r.remove()},i=()=>{for(const r of e)k(this,Wf,My).call(this,r)};this.addCommands({cmd:n,undo:i,mustExec:!0})}commitOrRemove(){var e;(e=c(this,jn))==null||e.commitOrRemove()}hasSomethingToControl(){return c(this,jn)||this.hasSelection}selectAll(){for(const e of c(this,De))e.commit();k(this,Bf,Iy).call(this,c(this,xt).values())}unselectAll(){if(!(c(this,jn)&&(c(this,jn).commitOrRemove(),c(this,Gt)!==be.NONE))&&this.hasSelection){for(const e of c(this,De))e.unselect();c(this,De).clear(),k(this,Ht,nn).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,n,i=!1){if(i||this.commitOrRemove(),!this.hasSelection)return;c(this,Ks)[0]+=e,c(this,Ks)[1]+=n;const[r,s]=c(this,Ks),o=[...c(this,De)];c(this,Yi)&&clearTimeout(c(this,Yi)),_(this,Yi,setTimeout(()=>{_(this,Yi,null),c(this,Ks)[0]=c(this,Ks)[1]=0,this.addCommands({cmd:()=>{for(const l of o)c(this,xt).has(l.id)&&l.translateInPage(r,s)},undo:()=>{for(const l of o)c(this,xt).has(l.id)&&l.translateInPage(-r,-s)},mustExec:!1})},1e3));for(const l of o)l.translateInPage(e,n)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),_(this,Gi,new Map);for(const e of c(this,De))c(this,Gi).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!c(this,Gi))return!1;this.disableUserSelect(!1);const e=c(this,Gi);_(this,Gi,null);let n=!1;for(const[{x:r,y:s,pageIndex:o},a]of e)a.newX=r,a.newY=s,a.newPageIndex=o,n||(n=r!==a.savedX||s!==a.savedY||o!==a.savedPageIndex);if(!n)return!1;const i=(r,s,o,a)=>{if(c(this,xt).has(r.id)){const l=c(this,zt).get(a);l?r._setParentAndPosition(l,s,o):(r.pageIndex=a,r.x=s,r.y=o)}};return this.addCommands({cmd:()=>{for(const[r,{newX:s,newY:o,newPageIndex:a}]of e)i(r,s,o,a)},undo:()=>{for(const[r,{savedX:s,savedY:o,savedPageIndex:a}]of e)i(r,s,o,a)},mustExec:!0}),!0}dragSelectedEditors(e,n){if(c(this,Gi))for(const i of c(this,Gi).keys())i.drag(e,n)}rebuild(e){if(e.parent===null){const n=this.getLayer(e.pageIndex);n?(n.changeParent(e),n.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||c(this,De).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return c(this,jn)===e}getActive(){return c(this,jn)}getMode(){return c(this,Gt)}get imageManager(){return Pe(this,"imageManager",new Y5)}getSelectionBoxes(e){if(!e)return null;const n=document.getSelection();for(let h=0,u=n.rangeCount;h<u;h++)if(!e.contains(n.getRangeAt(h).commonAncestorContainer))return null;const{x:i,y:r,width:s,height:o}=e.getBoundingClientRect();let a;switch(e.getAttribute("data-main-rotation")){case"90":a=(h,u,f,p)=>({x:(u-r)/o,y:1-(h+f-i)/s,width:p/o,height:f/s});break;case"180":a=(h,u,f,p)=>({x:1-(h+f-i)/s,y:1-(u+p-r)/o,width:f/s,height:p/o});break;case"270":a=(h,u,f,p)=>({x:1-(u+p-r)/o,y:(h-i)/s,width:p/o,height:f/s});break;default:a=(h,u,f,p)=>({x:(h-i)/s,y:(u-r)/o,width:f/s,height:p/o});break}const l=[];for(let h=0,u=n.rangeCount;h<u;h++){const f=n.getRangeAt(h);if(!f.collapsed)for(const{x:p,y:m,width:y,height:A}of f.getClientRects())y===0||A===0||l.push(a(p,m,y,A))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:n}){(c(this,wa)||_(this,wa,new Map)).set(e,n)}removeChangedExistingAnnotation({annotationElementId:e}){var n;(n=c(this,wa))==null||n.delete(e)}renderAnnotationElement(e){var n;const i=(n=c(this,wa))==null?void 0:n.get(e.data.id);if(!i)return;const r=c(this,$r).getRawValue(i);r&&(c(this,Gt)===be.NONE&&!r.hasBeenModified||r.renderAnnotationElement(e))}};jn=new WeakMap,xt=new WeakMap,zt=new WeakMap,Fc=new WeakMap,$r=new WeakMap,wa=new WeakMap,wi=new WeakMap,jc=new WeakMap,Sa=new WeakMap,Gi=new WeakMap,Fr=new WeakMap,xa=new WeakMap,Wg=new WeakMap,vf=new WeakMap,qi=new WeakMap,Wc=new WeakMap,ho=new WeakMap,Ri=new WeakMap,yy=new WeakMap,fo=new WeakMap,yf=new WeakMap,Aa=new WeakMap,wf=new WeakMap,Bc=new WeakMap,Gt=new WeakMap,De=new WeakMap,jr=new WeakMap,Ea=new WeakMap,zc=new WeakMap,Sf=new WeakMap,xf=new WeakMap,Af=new WeakMap,Ef=new WeakMap,kf=new WeakMap,_f=new WeakMap,bf=new WeakMap,Cf=new WeakMap,Pf=new WeakMap,Tf=new WeakMap,Rf=new WeakMap,Mf=new WeakMap,Lf=new WeakMap,Ks=new WeakMap,Yi=new WeakMap,Wr=new WeakMap,If=new WeakMap,zu=new WeakSet,Nf=function({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t},wy=new WeakSet,ck=function(){const t=document.getSelection();if(!t||t.isCollapsed)return;const e=k(this,zu,Nf).call(this,t).closest(".textLayer"),n=this.getSelectionBoxes(e);n&&(c(this,Ri)||_(this,Ri,new V5(this)),c(this,Ri).show(e,n,this.direction==="ltr"))},Sy=new WeakSet,oP=function(){var t,e,n;const i=document.getSelection();if(!i||i.isCollapsed){c(this,jr)&&((t=c(this,Ri))==null||t.hide(),_(this,jr,null),k(this,Ht,nn).call(this,{hasSelectedText:!1}));return}const{anchorNode:r}=i;if(r!==c(this,jr)){if(!k(this,zu,Nf).call(this,i).closest(".textLayer")){c(this,jr)&&((e=c(this,Ri))==null||e.hide(),_(this,jr,null),k(this,Ht,nn).call(this,{hasSelectedText:!1}));return}if((n=c(this,Ri))==null||n.hide(),_(this,jr,r),k(this,Ht,nn).call(this,{hasSelectedText:!0}),!(c(this,Gt)!==be.HIGHLIGHT&&c(this,Gt)!==be.NONE)&&(c(this,Gt)===be.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),_(this,ho,this.isShiftKeyDown),!this.isShiftKeyDown)){const s=o=>{o.type==="pointerup"&&o.button!==0||(window.removeEventListener("pointerup",s),window.removeEventListener("blur",s),o.type==="pointerup"&&k(this,Uu,Bg).call(this,"main_toolbar"))};window.addEventListener("pointerup",s),window.addEventListener("blur",s)}}},Uu=new WeakSet,Bg=function(t=""){c(this,Gt)===be.HIGHLIGHT?this.highlightSelection(t):c(this,Wg)&&k(this,wy,ck).call(this)},xy=new WeakSet,aP=function(){document.addEventListener("selectionchange",c(this,Rf))},Ay=new WeakSet,lP=function(){document.removeEventListener("selectionchange",c(this,Rf))},Ey=new WeakSet,cP=function(){window.addEventListener("focus",c(this,xf)),window.addEventListener("blur",c(this,Sf))},Df=new WeakSet,ky=function(){window.removeEventListener("focus",c(this,xf)),window.removeEventListener("blur",c(this,Sf))},Of=new WeakSet,_y=function(){window.addEventListener("keydown",c(this,_f)),window.addEventListener("keyup",c(this,bf))},$f=new WeakSet,by=function(){window.removeEventListener("keydown",c(this,_f)),window.removeEventListener("keyup",c(this,bf))},Ff=new WeakSet,Cy=function(){document.addEventListener("copy",c(this,Af)),document.addEventListener("cut",c(this,Ef)),document.addEventListener("paste",c(this,kf))},jf=new WeakSet,Py=function(){document.removeEventListener("copy",c(this,Af)),document.removeEventListener("cut",c(this,Ef)),document.removeEventListener("paste",c(this,kf))},Ht=new WeakSet,nn=function(t){Object.entries(t).some(([e,n])=>c(this,Lf)[e]!==n)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(c(this,Lf),t)}),c(this,Gt)===be.HIGHLIGHT&&t.hasSelectedEditor===!1&&k(this,sr,Qr).call(this,[[pe.HIGHLIGHT_FREE,!0]]))},sr=new WeakSet,Qr=function(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})},Ty=new WeakSet,uP=function(){if(!c(this,fo)){_(this,fo,!0);for(const t of c(this,zt).values())t.enable();for(const t of c(this,xt).values())t.enable()}},Ry=new WeakSet,hP=function(){if(this.unselectAll(),c(this,fo)){_(this,fo,!1);for(const t of c(this,zt).values())t.disable();for(const t of c(this,xt).values())t.disable()}},Wf=new WeakSet,My=function(t){const e=c(this,zt).get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))},Ly=new WeakSet,dP=function(){let t=null;for(t of c(this,De));return t},ka=new WeakSet,Uc=function(){if(c(this,xt).size===0)return!0;if(c(this,xt).size===1)for(const t of c(this,xt).values())return t.isEmpty();return!1},Bf=new WeakSet,Iy=function(t){for(const e of c(this,De))e.unselect();c(this,De).clear();for(const e of t)e.isEmpty()||(c(this,De).add(e),e.select());k(this,Ht,nn).call(this,{hasSelectedEditor:this.hasSelection})},ve(Ny,"TRANSLATE_SMALL",1),ve(Ny,"TRANSLATE_BIG",10);let Mh=Ny;var rs,ss,Ei,Zr,Ni,Hc,ms,zf,Oy;const Uf=class Hf{constructor(e){v(this,zf),v(this,rs,""),v(this,ss,!1),v(this,Ei,null),v(this,Zr,null),v(this,Ni,null),v(this,Hc,!1),v(this,ms,null),_(this,ms,e)}static initialize(e){Hf._l10nPromise||(Hf._l10nPromise=e)}async render(){const e=_(this,Ei,document.createElement("button"));e.className="altText";const n=await Hf._l10nPromise.get("pdfjs-editor-alt-text-button-label");e.textContent=n,e.setAttribute("aria-label",n),e.tabIndex="0",e.addEventListener("contextmenu",En),e.addEventListener("pointerdown",r=>r.stopPropagation());const i=r=>{r.preventDefault(),c(this,ms)._uiManager.editAltText(c(this,ms))};return e.addEventListener("click",i,{capture:!0}),e.addEventListener("keydown",r=>{r.target===e&&r.key==="Enter"&&(_(this,Hc,!0),i(r))}),await k(this,zf,Oy).call(this),e}finish(){c(this,Ei)&&(c(this,Ei).focus({focusVisible:c(this,Hc)}),_(this,Hc,!1))}isEmpty(){return!c(this,rs)&&!c(this,ss)}get data(){return{altText:c(this,rs),decorative:c(this,ss)}}set data({altText:e,decorative:n}){c(this,rs)===e&&c(this,ss)===n||(_(this,rs,e),_(this,ss,n),k(this,zf,Oy).call(this))}toggle(e=!1){c(this,Ei)&&(!e&&c(this,Ni)&&(clearTimeout(c(this,Ni)),_(this,Ni,null)),c(this,Ei).disabled=!e)}destroy(){var e;(e=c(this,Ei))==null||e.remove(),_(this,Ei,null),_(this,Zr,null)}};rs=new WeakMap,ss=new WeakMap,Ei=new WeakMap,Zr=new WeakMap,Ni=new WeakMap,Hc=new WeakMap,ms=new WeakMap,zf=new WeakSet,Oy=async function(){var t;const e=c(this,Ei);if(!e)return;if(!c(this,rs)&&!c(this,ss)){e.classList.remove("done"),(t=c(this,Zr))==null||t.remove();return}e.classList.add("done"),Uf._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then(r=>{e.setAttribute("aria-label",r)});let n=c(this,Zr);if(!n){_(this,Zr,n=document.createElement("span")),n.className="tooltip",n.setAttribute("role","tooltip");const r=n.id=`alt-text-tooltip-${c(this,ms).id}`;e.setAttribute("aria-describedby",r);const s=100;e.addEventListener("mouseenter",()=>{_(this,Ni,setTimeout(()=>{_(this,Ni,null),c(this,Zr).classList.add("show"),c(this,ms)._reportTelemetry({action:"alt_text_tooltip"})},s))}),e.addEventListener("mouseleave",()=>{var o;c(this,Ni)&&(clearTimeout(c(this,Ni)),_(this,Ni,null)),(o=c(this,Zr))==null||o.classList.remove("show")})}n.innerText=c(this,ss)?await Uf._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):c(this,rs),n.parentNode||e.append(n);const i=c(this,ms).getImageForAltText();i==null||i.setAttribute("aria-describedby",n.id)},ve(Uf,"_l10nPromise",null);let uk=Uf;var Mi,dn,Vc,_a,qt,sl,Gc,qc,tn,zg,ol,Ki,Vf,ba,vs,Xi,Yc,Kc,Wn,Gf,$y,qf,Fy,Ug,jy,Yf,Sv,Wy,fP,By,hk,Kf,xv,Hg,zy,Vg,Uy,Hy,pP,Vy,gP,Gy,mP,qy,vP,Gg,Yy,al,Hu;const Qi=class Rt{constructor(e){v(this,qf),v(this,Yf),v(this,Wy),v(this,By),v(this,Kf),v(this,Hg),v(this,Vg),v(this,Hy),v(this,Vy),v(this,Gy),v(this,qy),v(this,Gg),v(this,al),v(this,Mi,null),v(this,dn,null),v(this,Vc,!1),v(this,_a,!1),v(this,qt,null),v(this,sl,null),v(this,Gc,this.focusin.bind(this)),v(this,qc,this.focusout.bind(this)),v(this,tn,null),v(this,zg,""),v(this,ol,!1),v(this,Ki,null),v(this,Vf,!1),v(this,ba,!1),v(this,vs,!1),v(this,Xi,null),v(this,Yc,0),v(this,Kc,0),v(this,Wn,null),ve(this,"_initialOptions",Object.create(null)),ve(this,"_isVisible",!0),ve(this,"_uiManager",null),ve(this,"_focusEventsAllowed",!0),ve(this,"_l10nPromise",null),v(this,Gf,!1),v(this,$y,Rt._zIndex++),this.constructor===Rt&&Oe("Cannot initialize AnnotationEditor."),this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:n,rawDims:{pageWidth:i,pageHeight:r,pageX:s,pageY:o}}=this.parent.viewport;this.rotation=n,this.pageRotation=(360+n-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,r],this.pageTranslation=[s,o];const[a,l]=this.parentDimensions;this.x=e.x/a,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=Rt.prototype._resizeWithKeyboard,n=Mh.TRANSLATE_SMALL,i=Mh.TRANSLATE_BIG;return Pe(this,"_resizerKeyboardManager",new zh([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-n,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[n,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-n]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,n]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,i]}],[["Escape","mac+Escape"],Rt.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return Pe(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const n=new Q5({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});n.annotationElementId=e.annotationElementId,n.deleted=!0,n._uiManager.addToAnnotationStorage(n)}static initialize(e,n,i){if(Rt._l10nPromise||(Rt._l10nPromise=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map(s=>[s,e.get(s.replaceAll(/([A-Z])/g,o=>`-${o.toLowerCase()}`))]))),i!=null&&i.strings)for(const s of i.strings)Rt._l10nPromise.set(s,e.get(s));if(Rt._borderLineWidth!==-1)return;const r=getComputedStyle(document.documentElement);Rt._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,n){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,n){Oe("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return c(this,Gf)}set _isDraggable(e){var n;_(this,Gf,e),(n=this.div)==null||n.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,n]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*n/(e*2),this.y+=this.width*e/(n*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*n/(e*2),this.y-=this.width*e/(n*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=c(this,$y)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):k(this,al,Hu).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(c(this,ol)?_(this,ol,!1):this.parent.setSelected(this))}focusout(e){var n;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const i=e.relatedTarget;i!=null&&i.closest(`#${this.id}`)||(e.preventDefault(),(n=this.parent)!=null&&n.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,n,i,r){const[s,o]=this.parentDimensions;[i,r]=this.screenToPageTranslation(i,r),this.x=(e+i)/s,this.y=(n+r)/o,this.fixAndSetPosition()}translate(e,n){k(this,qf,Fy).call(this,this.parentDimensions,e,n)}translateInPage(e,n){c(this,Ki)||_(this,Ki,[this.x,this.y]),k(this,qf,Fy).call(this,this.pageDimensions,e,n),this.div.scrollIntoView({block:"nearest"})}drag(e,n){c(this,Ki)||_(this,Ki,[this.x,this.y]);const[i,r]=this.parentDimensions;if(this.x+=e/i,this.y+=n/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:h,y:u}=this.div.getBoundingClientRect();this.parent.findNewParent(this,h,u)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:s,y:o}=this;const[a,l]=this.getBaseTranslation();s+=a,o+=l,this.div.style.left=`${(100*s).toFixed(2)}%`,this.div.style.top=`${(100*o).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!c(this,Ki)&&(c(this,Ki)[0]!==this.x||c(this,Ki)[1]!==this.y)}getBaseTranslation(){const[e,n]=this.parentDimensions,{_borderLineWidth:i}=Rt,r=i/e,s=i/n;switch(this.rotation){case 90:return[-r,s];case 180:return[r,s];case 270:return[r,-s];default:return[-r,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const[n,i]=this.pageDimensions;let{x:r,y:s,width:o,height:a}=this;if(o*=n,a*=i,r*=n,s*=i,this._mustFixPosition)switch(e){case 0:r=Math.max(0,Math.min(n-o,r)),s=Math.max(0,Math.min(i-a,s));break;case 90:r=Math.max(0,Math.min(n-a,r)),s=Math.min(i,Math.max(o,s));break;case 180:r=Math.min(n,Math.max(o,r)),s=Math.min(i,Math.max(a,s));break;case 270:r=Math.min(n,Math.max(a,r)),s=Math.max(0,Math.min(i-o,s));break}this.x=r/=n,this.y=s/=i;const[l,h]=this.getBaseTranslation();r+=l,s+=h;const{style:u}=this.div;u.left=`${(100*r).toFixed(2)}%`,u.top=`${(100*s).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,n){var i;return k(i=Rt,Ug,jy).call(i,e,n,this.parentRotation)}pageTranslationToScreen(e,n){var i;return k(i=Rt,Ug,jy).call(i,e,n,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[n,i]}=this,r=n*e,s=i*e;return kn.isCSSRoundSupported?[Math.round(r),Math.round(s)]:[r,s]}setDims(e,n){const[i,r]=this.parentDimensions;this.div.style.width=`${(100*e/i).toFixed(2)}%`,c(this,_a)||(this.div.style.height=`${(100*n/r).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:n,width:i}=e,r=i.endsWith("%"),s=!c(this,_a)&&n.endsWith("%");if(r&&s)return;const[o,a]=this.parentDimensions;r||(e.width=`${(100*parseFloat(i)/o).toFixed(2)}%`),!c(this,_a)&&!s&&(e.height=`${(100*parseFloat(n)/a).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var e;(e=c(this,dn))==null||e.finish()}async addEditToolbar(){return c(this,tn)||c(this,ba)?c(this,tn):(_(this,tn,new H5(this)),this.div.append(c(this,tn).render()),c(this,dn)&&c(this,tn).addAltTextButton(await c(this,dn).render()),c(this,tn))}removeEditToolbar(){var e;c(this,tn)&&(c(this,tn).remove(),_(this,tn,null),(e=c(this,dn))==null||e.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){c(this,dn)||(uk.initialize(Rt._l10nPromise),_(this,dn,new uk(this)),await this.addEditToolbar())}get altTextData(){var e;return(e=c(this,dn))==null?void 0:e.data}set altTextData(e){c(this,dn)&&(c(this,dn).data=e)}hasAltText(){var e;return!((e=c(this,dn))!=null&&e.isEmpty())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=c(this,Vc)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),this.div.addEventListener("focusin",c(this,Gc)),this.div.addEventListener("focusout",c(this,qc));const[e,n]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*n/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/n).toFixed(2)}%`);const[i,r]=this.getInitialTranslation();return this.translate(i,r),Fg(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:n}=kn.platform;if(e.button!==0||e.ctrlKey&&n){e.preventDefault();return}if(_(this,ol,!0),this._isDraggable){k(this,Hy,pP).call(this,e);return}k(this,Vg,Uy).call(this,e)}moveInDOM(){c(this,Xi)&&clearTimeout(c(this,Xi)),_(this,Xi,setTimeout(()=>{var e;_(this,Xi,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,n,i){e.changeParent(this),this.x=n,this.y=i,this.fixAndSetPosition()}getRect(e,n,i=this.rotation){const r=this.parentScale,[s,o]=this.pageDimensions,[a,l]=this.pageTranslation,h=e/r,u=n/r,f=this.x*s,p=this.y*o,m=this.width*s,y=this.height*o;switch(i){case 0:return[f+h+a,o-p-u-y+l,f+h+m+a,o-p-u+l];case 90:return[f+u+a,o-p+h+l,f+u+y+a,o-p+h+m+l];case 180:return[f-h-m+a,o-p+u+l,f-h+a,o-p+u+y+l];case 270:return[f-u-y+a,o-p-h-m+l,f-u+a,o-p-h+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,n){const[i,r,s,o]=e,a=s-i,l=o-r;switch(this.rotation){case 0:return[i,n-o,a,l];case 90:return[i,n-r,l,a];case 180:return[s,n-r,a,l];case 270:return[s,n-o,l,a];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){_(this,ba,!0)}disableEditMode(){_(this,ba,!1)}isInEditMode(){return c(this,ba)}shouldGetKeyboardEvents(){return c(this,vs)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var e,n;(e=this.div)==null||e.addEventListener("focusin",c(this,Gc)),(n=this.div)==null||n.addEventListener("focusout",c(this,qc))}rotate(e){}serialize(e=!1,n=null){Oe("An editor must be serializable")}static deserialize(e,n,i){const r=new this.prototype.constructor({parent:n,id:n.getNextId(),uiManager:i});r.rotation=e.rotation;const[s,o]=r.pageDimensions,[a,l,h,u]=r.getRectInCurrentCoords(e.rect,o);return r.x=a/s,r.y=l/o,r.width=h/s,r.height=u/o,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.div.removeEventListener("focusin",c(this,Gc)),this.div.removeEventListener("focusout",c(this,qc)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),c(this,Xi)&&(clearTimeout(c(this,Xi)),_(this,Xi,null)),k(this,al,Hu).call(this),this.removeEditToolbar(),c(this,Wn)){for(const e of c(this,Wn).values())clearTimeout(e);_(this,Wn,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(k(this,Wy,fP).call(this),c(this,qt).classList.remove("hidden"),Fg(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),_(this,sl,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const n=c(this,qt).children;if(!c(this,Mi)){_(this,Mi,Array.from(n));const o=k(this,Vy,gP).bind(this),a=k(this,Gy,mP).bind(this);for(const l of c(this,Mi)){const h=l.getAttribute("data-resizer-name");l.setAttribute("role","spinbutton"),l.addEventListener("keydown",o),l.addEventListener("blur",a),l.addEventListener("focus",k(this,qy,vP).bind(this,h)),Rt._l10nPromise.get(`pdfjs-editor-resizer-label-${h}`).then(u=>l.setAttribute("aria-label",u))}}const i=c(this,Mi)[0];let r=0;for(const o of n){if(o===i)break;r++}const s=(360-this.rotation+this.parentRotation)%360/90*(c(this,Mi).length/4);if(s!==r){if(s<r)for(let a=0;a<r-s;a++)c(this,qt).append(c(this,qt).firstChild);else if(s>r)for(let a=0;a<s-r;a++)c(this,qt).firstChild.before(c(this,qt).lastChild);let o=0;for(const a of n){const l=c(this,Mi)[o++].getAttribute("data-resizer-name");Rt._l10nPromise.get(`pdfjs-editor-resizer-label-${l}`).then(h=>a.setAttribute("aria-label",h))}}k(this,Gg,Yy).call(this,0),_(this,vs,!0),c(this,qt).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,n){c(this,vs)&&k(this,Hg,zy).call(this,c(this,zg),{movementX:e,movementY:n})}_stopResizingWithKeyboard(){k(this,al,Hu).call(this),this.div.focus()}select(){var e,n;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!c(this,tn)){this.addEditToolbar().then(()=>{var i,r;(i=this.div)!=null&&i.classList.contains("selectedEditor")&&((r=c(this,tn))==null||r.show())});return}(n=c(this,tn))==null||n.show()}unselect(){var e,n,i,r;(e=c(this,qt))==null||e.classList.add("hidden"),(n=this.div)==null||n.classList.remove("selectedEditor"),(i=this.div)!=null&&i.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(r=c(this,tn))==null||r.hide()}updateParams(e,n){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return c(this,Vf)}set isEditing(e){_(this,Vf,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,n){_(this,_a,!0);const i=e/n,{style:r}=this.div;r.aspectRatio=i,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,n=!1){if(n){c(this,Wn)||_(this,Wn,new Map);const{action:i}=e;let r=c(this,Wn).get(i);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(e),c(this,Wn).delete(i),c(this,Wn).size===0&&_(this,Wn,null)},Rt._telemetryTimeout),c(this,Wn).set(i,r);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),_(this,Vc,!1)}disable(){this.div&&(this.div.tabIndex=-1),_(this,Vc,!0)}renderAnnotationElement(e){let n=e.container.querySelector(".annotationContent");if(!n)n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),e.container.prepend(n);else if(n.nodeName==="CANVAS"){const i=n;n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),i.before(n)}return n}resetAnnotationElement(e){const{firstChild:n}=e.container;n.nodeName==="DIV"&&n.classList.contains("annotationContent")&&n.remove()}};Mi=new WeakMap,dn=new WeakMap,Vc=new WeakMap,_a=new WeakMap,qt=new WeakMap,sl=new WeakMap,Gc=new WeakMap,qc=new WeakMap,tn=new WeakMap,zg=new WeakMap,ol=new WeakMap,Ki=new WeakMap,Vf=new WeakMap,ba=new WeakMap,vs=new WeakMap,Xi=new WeakMap,Yc=new WeakMap,Kc=new WeakMap,Wn=new WeakMap,Gf=new WeakMap,$y=new WeakMap,qf=new WeakSet,Fy=function([t,e],n,i){[n,i]=this.screenToPageTranslation(n,i),this.x+=n/t,this.y+=i/e,this.fixAndSetPosition()},Ug=new WeakSet,jy=function(t,e,n){switch(n){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}},Yf=new WeakSet,Sv=function(t){switch(t){case 90:{const[e,n]=this.pageDimensions;return[0,-e/n,n/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,n]=this.pageDimensions;return[0,e/n,-n/e,0]}default:return[1,0,0,1]}},Wy=new WeakSet,fP=function(){if(c(this,qt))return;_(this,qt,document.createElement("div")),c(this,qt).classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"];for(const e of t){const n=document.createElement("div");c(this,qt).append(n),n.classList.add("resizer",e),n.setAttribute("data-resizer-name",e),n.addEventListener("pointerdown",k(this,By,hk).bind(this,e)),n.addEventListener("contextmenu",En),n.tabIndex=-1}this.div.prepend(c(this,qt))},By=new WeakSet,hk=function(t,e){var n;e.preventDefault();const{isMac:i}=kn.platform;if(e.button!==0||e.ctrlKey&&i)return;(n=c(this,dn))==null||n.toggle(!1);const r=k(this,Hg,zy).bind(this,t),s=this._isDraggable;this._isDraggable=!1;const o={passive:!0,capture:!0};this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",r,o),window.addEventListener("contextmenu",En);const a=this.x,l=this.y,h=this.width,u=this.height,f=this.parent.div.style.cursor,p=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const m=()=>{var y;this.parent.togglePointerEvents(!0),(y=c(this,dn))==null||y.toggle(!0),this._isDraggable=s,window.removeEventListener("pointerup",m),window.removeEventListener("blur",m),window.removeEventListener("pointermove",r,o),window.removeEventListener("contextmenu",En),this.parent.div.style.cursor=f,this.div.style.cursor=p,k(this,Kf,xv).call(this,a,l,h,u)};window.addEventListener("pointerup",m),window.addEventListener("blur",m)},Kf=new WeakSet,xv=function(t,e,n,i){const r=this.x,s=this.y,o=this.width,a=this.height;r===t&&s===e&&o===n&&a===i||this.addCommands({cmd:()=>{this.width=o,this.height=a,this.x=r,this.y=s;const[l,h]=this.parentDimensions;this.setDims(l*o,h*a),this.fixAndSetPosition()},undo:()=>{this.width=n,this.height=i,this.x=t,this.y=e;const[l,h]=this.parentDimensions;this.setDims(l*n,h*i),this.fixAndSetPosition()},mustExec:!0})},Hg=new WeakSet,zy=function(t,e){const[n,i]=this.parentDimensions,r=this.x,s=this.y,o=this.width,a=this.height,l=Qi.MIN_SIZE/n,h=Qi.MIN_SIZE/i,u=G=>Math.round(G*1e4)/1e4,f=k(this,Yf,Sv).call(this,this.rotation),p=(G,F)=>[f[0]*G+f[2]*F,f[1]*G+f[3]*F],m=k(this,Yf,Sv).call(this,360-this.rotation),y=(G,F)=>[m[0]*G+m[2]*F,m[1]*G+m[3]*F];let A,b,w=!1,S=!1;switch(t){case"topLeft":w=!0,A=(G,F)=>[0,0],b=(G,F)=>[G,F];break;case"topMiddle":A=(G,F)=>[G/2,0],b=(G,F)=>[G/2,F];break;case"topRight":w=!0,A=(G,F)=>[G,0],b=(G,F)=>[0,F];break;case"middleRight":S=!0,A=(G,F)=>[G,F/2],b=(G,F)=>[0,F/2];break;case"bottomRight":w=!0,A=(G,F)=>[G,F],b=(G,F)=>[0,0];break;case"bottomMiddle":A=(G,F)=>[G/2,F],b=(G,F)=>[G/2,0];break;case"bottomLeft":w=!0,A=(G,F)=>[0,F],b=(G,F)=>[G,0];break;case"middleLeft":S=!0,A=(G,F)=>[0,F/2],b=(G,F)=>[G,F/2];break}const E=A(o,a),T=b(o,a);let R=p(...T);const I=u(r+R[0]),M=u(s+R[1]);let C=1,P=1,[N,$]=this.screenToPageTranslation(e.movementX,e.movementY);if([N,$]=y(N/n,$/i),w){const G=Math.hypot(o,a);C=P=Math.max(Math.min(Math.hypot(T[0]-E[0]-N,T[1]-E[1]-$)/G,1/o,1/a),l/o,h/a)}else S?C=Math.max(l,Math.min(1,Math.abs(T[0]-E[0]-N)))/o:P=Math.max(h,Math.min(1,Math.abs(T[1]-E[1]-$)))/a;const z=u(o*C),U=u(a*P);R=p(...b(z,U));const Q=I-R[0],ee=M-R[1];this.width=z,this.height=U,this.x=Q,this.y=ee,this.setDims(n*z,i*U),this.fixAndSetPosition()},Vg=new WeakSet,Uy=function(t){const{isMac:e}=kn.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)},Hy=new WeakSet,pP=function(t){const e=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let n,i;e&&(this.div.classList.add("moving"),n={passive:!0,capture:!0},_(this,Yc,t.clientX),_(this,Kc,t.clientY),i=s=>{const{clientX:o,clientY:a}=s,[l,h]=this.screenToPageTranslation(o-c(this,Yc),a-c(this,Kc));_(this,Yc,o),_(this,Kc,a),this._uiManager.dragSelectedEditors(l,h)},window.addEventListener("pointermove",i,n));const r=()=>{window.removeEventListener("pointerup",r),window.removeEventListener("blur",r),e&&(this.div.classList.remove("moving"),window.removeEventListener("pointermove",i,n)),_(this,ol,!1),this._uiManager.endDragSession()||k(this,Vg,Uy).call(this,t)};window.addEventListener("pointerup",r),window.addEventListener("blur",r)},Vy=new WeakSet,gP=function(t){Qi._resizerKeyboardManager.exec(this,t)},Gy=new WeakSet,mP=function(t){var e;c(this,vs)&&((e=t.relatedTarget)==null?void 0:e.parentNode)!==c(this,qt)&&k(this,al,Hu).call(this)},qy=new WeakSet,vP=function(t){_(this,zg,c(this,vs)?t:"")},Gg=new WeakSet,Yy=function(t){if(c(this,Mi))for(const e of c(this,Mi))e.tabIndex=t},al=new WeakSet,Hu=function(){if(_(this,vs,!1),k(this,Gg,Yy).call(this,-1),c(this,sl)){const{savedX:t,savedY:e,savedWidth:n,savedHeight:i}=c(this,sl);k(this,Kf,xv).call(this,t,e,n,i),_(this,sl,null)}},v(Qi,Ug),ve(Qi,"_borderLineWidth",-1),ve(Qi,"_colorManager",new X5),ve(Qi,"_zIndex",1),ve(Qi,"_telemetryTimeout",1e3);let je=Qi;class Q5 extends je{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}const dk=3285377520,$n=4294901760,yi=65535;class yP{constructor(e){this.h1=e?e&4294967295:dk,this.h2=e?e&4294967295:dk}update(e){let n,i;if(typeof e=="string"){n=new Uint8Array(e.length*2),i=0;for(let A=0,b=e.length;A<b;A++){const w=e.charCodeAt(A);w<=255?n[i++]=w:(n[i++]=w>>>8,n[i++]=w&255)}}else if(ArrayBuffer.isView(e))n=e.slice(),i=n.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=i>>2,s=i-r*4,o=new Uint32Array(n.buffer,0,r);let a=0,l=0,h=this.h1,u=this.h2;const f=3432918353,p=461845907,m=f&yi,y=p&yi;for(let A=0;A<r;A++)A&1?(a=o[A],a=a*f&$n|a*m&yi,a=a<<15|a>>>17,a=a*p&$n|a*y&yi,h^=a,h=h<<13|h>>>19,h=h*5+3864292196):(l=o[A],l=l*f&$n|l*m&yi,l=l<<15|l>>>17,l=l*p&$n|l*y&yi,u^=l,u=u<<13|u>>>19,u=u*5+3864292196);switch(a=0,s){case 3:a^=n[r*4+2]<<16;case 2:a^=n[r*4+1]<<8;case 1:a^=n[r*4],a=a*f&$n|a*m&yi,a=a<<15|a>>>17,a=a*p&$n|a*y&yi,r&1?h^=a:u^=a}this.h1=h,this.h2=u}hexdigest(){let e=this.h1,n=this.h2;return e^=n>>>1,e=e*3981806797&$n|e*36045&yi,n=n*4283543511&$n|((n<<16|e>>>16)*2950163797&$n)>>>16,e^=n>>>1,e=e*444984403&$n|e*60499&yi,n=n*3301882366&$n|((n<<16|e>>>16)*3120437893&$n)>>>16,e^=n>>>1,(e>>>0).toString(16).padStart(8,"0")+(n>>>0).toString(16).padStart(8,"0")}}const Ky=Object.freeze({map:null,hash:"",transfer:void 0});var Cl,jt,Xy,wP;class Qx{constructor(){v(this,Xy),v(this,Cl,!1),v(this,jt,new Map),this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,n){const i=c(this,jt).get(e);return i===void 0?n:Object.assign(n,i)}getRawValue(e){return c(this,jt).get(e)}remove(e){if(c(this,jt).delete(e),c(this,jt).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const n of c(this,jt).values())if(n instanceof je)return;this.onAnnotationEditor(null)}}setValue(e,n){const i=c(this,jt).get(e);let r=!1;if(i!==void 0)for(const[s,o]of Object.entries(n))i[s]!==o&&(r=!0,i[s]=o);else r=!0,c(this,jt).set(e,n);r&&k(this,Xy,wP).call(this),n instanceof je&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(n.constructor._type)}has(e){return c(this,jt).has(e)}getAll(){return c(this,jt).size>0?Hx(c(this,jt)):null}setAll(e){for(const[n,i]of Object.entries(e))this.setValue(n,i)}get size(){return c(this,jt).size}resetModified(){c(this,Cl)&&(_(this,Cl,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new SP(this)}get serializable(){if(c(this,jt).size===0)return Ky;const e=new Map,n=new yP,i=[],r=Object.create(null);let s=!1;for(const[o,a]of c(this,jt)){const l=a instanceof je?a.serialize(!1,r):a;l&&(e.set(o,l),n.update(`${o}:${JSON.stringify(l)}`),s||(s=!!l.bitmap))}if(s)for(const o of e.values())o.bitmap&&i.push(o.bitmap);return e.size>0?{map:e,hash:n.hexdigest(),transfer:i}:Ky}get editorStats(){let e=null;const n=new Map;for(const i of c(this,jt).values()){if(!(i instanceof je))continue;const r=i.telemetryFinalData;if(!r)continue;const{type:s}=r;n.has(s)||n.set(s,Object.getPrototypeOf(i).constructor),e||(e=Object.create(null));const o=e[s]||(e[s]=new Map);for(const[a,l]of Object.entries(r)){if(a==="type")continue;let h=o.get(a);h||(h=new Map,o.set(a,h));const u=h.get(l)??0;h.set(l,u+1)}}for(const[i,r]of n)e[i]=r.computeTelemetryFinalData(e[i]);return e}}Cl=new WeakMap,jt=new WeakMap,Xy=new WeakSet,wP=function(){c(this,Cl)||(_(this,Cl,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Xf;class SP extends Qx{constructor(e){super(),v(this,Xf,void 0);const{map:n,hash:i,transfer:r}=e.serializable,s=structuredClone(n,r?{transfer:r}:null);_(this,Xf,{map:s,hash:i,transfer:r})}get print(){Oe("Should not call PrintAnnotationStorage.print")}get serializable(){return c(this,Xf)}}Xf=new WeakMap;var Xc;class Z5{constructor({ownerDocument:e=globalThis.document,styleElement:n=null}){v(this,Xc,new Set),this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const n=this.styleElement.sheet;n.insertRule(e,n.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),c(this,Xc).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:n}){if(!(!e||c(this,Xc).has(e.loadedName))){if(ft(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:r,style:s}=e,o=new FontFace(i,r,s);this.addNativeFontFace(o);try{await o.load(),c(this,Xc).add(i),n==null||n(e)}catch{Ae(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}Oe("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const i=e.createNativeFontFace();if(i){this.addNativeFontFace(i);try{await i.loaded}catch(r){throw Ae(`Failed to load font '${i.family}': '${r}'.`),e.disableFontFace=!0,r}}return}const n=e.createFontFaceRule();if(n){if(this.insertRule(n),this.isSyncFontLoadingSupported)return;await new Promise(i=>{const r=this._queueLoadingCallback(i);this._prepareFontLoadEvent(e,r)})}}get isFontLoadingAPISupported(){var e;const n=!!((e=this._document)!=null&&e.fonts);return Pe(this,"isFontLoadingAPISupported",n)}get isSyncFontLoadingSupported(){let e=!1;return(Qt||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),Pe(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function n(){for(ft(!r.done,"completeRequest() cannot be called twice."),r.done=!0;i.length>0&&i[0].done;){const s=i.shift();setTimeout(s.callback,0)}}const{loadingRequests:i}=this,r={done:!1,complete:n,callback:e};return i.push(r),r}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Pe(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,n){function i(E,T){return E.charCodeAt(T)<<24|E.charCodeAt(T+1)<<16|E.charCodeAt(T+2)<<8|E.charCodeAt(T+3)&255}function r(E,T,R,I){const M=E.substring(0,T),C=E.substring(T+R);return M+I+C}let s,o;const a=this._document.createElement("canvas");a.width=1,a.height=1;const l=a.getContext("2d");let h=0;function u(E,T){if(++h>30){Ae("Load test font never loaded."),T();return}if(l.font="30px "+E,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){T();return}setTimeout(u.bind(null,E,T))}const f=`lt${Date.now()}${this.loadTestFontId++}`;let p=this._loadTestFont;p=r(p,976,f.length,f);const m=16,y=1482184792;let A=i(p,m);for(s=0,o=f.length-3;s<o;s+=4)A=A-y+i(f,s)|0;s<f.length&&(A=A-y+i(f+"XXX",s)|0),p=r(p,m,4,L5(A));const b=`url(data:font/opentype;base64,${btoa(p)});`,w=`@font-face {font-family:"${f}";src:${b}}`;this.insertRule(w);const S=this._document.createElement("div");S.style.visibility="hidden",S.style.width=S.style.height="10px",S.style.position="absolute",S.style.top=S.style.left="0px";for(const E of[e.loadedName,f]){const T=this._document.createElement("span");T.textContent="Hi",T.style.fontFamily=E,S.append(T)}this._document.body.append(S),u(f,()=>{S.remove(),n.complete()})}}Xc=new WeakMap;class J5{constructor(e,{disableFontFace:n=!1,inspectFont:i=null}){this.compiledGlyphs=Object.create(null);for(const r in e)this[r]=e[r];this.disableFontFace=n===!0,this._inspectFont=i}createNativeFontFace(){var e;if(!this.data||this.disableFontFace)return null;let n;if(!this.cssFontInfo)n=new FontFace(this.loadedName,this.data,{});else{const i={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(i.style=`oblique ${this.cssFontInfo.italicAngle}deg`),n=new FontFace(this.cssFontInfo.fontFamily,this.data,i)}return(e=this._inspectFont)==null||e.call(this,this),n}createFontFaceRule(){var e;if(!this.data||this.disableFontFace)return null;const n=U2(this.data),i=`url(data:${this.mimetype};base64,${btoa(n)});`;let r;if(!this.cssFontInfo)r=`@font-face {font-family:"${this.loadedName}";src:${i}}`;else{let s=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(s+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),r=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${s}src:${i}}`}return(e=this._inspectFont)==null||e.call(this,this,i),r}getPathGenerator(e,n){if(this.compiledGlyphs[n]!==void 0)return this.compiledGlyphs[n];let i;try{i=e.get(this.loadedName+"_path_"+n)}catch(s){Ae(`getPathGenerator - ignoring character: "${s}".`)}if(!Array.isArray(i)||i.length===0)return this.compiledGlyphs[n]=function(s,o){};const r=[];for(let s=0,o=i.length;s<o;)switch(i[s++]){case Ui.BEZIER_CURVE_TO:{const[a,l,h,u,f,p]=i.slice(s,s+6);r.push(m=>m.bezierCurveTo(a,l,h,u,f,p)),s+=6}break;case Ui.MOVE_TO:{const[a,l]=i.slice(s,s+2);r.push(h=>h.moveTo(a,l)),s+=2}break;case Ui.LINE_TO:{const[a,l]=i.slice(s,s+2);r.push(h=>h.lineTo(a,l)),s+=2}break;case Ui.QUADRATIC_CURVE_TO:{const[a,l,h,u]=i.slice(s,s+4);r.push(f=>f.quadraticCurveTo(a,l,h,u)),s+=4}break;case Ui.RESTORE:r.push(a=>a.restore());break;case Ui.SAVE:r.push(a=>a.save());break;case Ui.SCALE:ft(r.length===2,"Scale command is only valid at the third position.");break;case Ui.TRANSFORM:{const[a,l,h,u,f,p]=i.slice(s,s+6);r.push(m=>m.transform(a,l,h,u,f,p)),s+=6}break;case Ui.TRANSLATE:{const[a,l]=i.slice(s,s+2);r.push(h=>h.translate(a,l)),s+=2}break}return this.compiledGlyphs[n]=function(s,o){r[0](s),r[1](s),s.scale(o,-o);for(let a=2,l=r.length;a<l;a++)r[a](s)}}}if(Qt){var Qy=Promise.withResolvers(),qg=null;(async()=>{const t=await dd(()=>import("./empty-GlqisfcO-CRMO4_-l.js"),[]),e=await dd(()=>import("./index-BIqdkLuE-4xHtZHMh.js"),__vite__mapDeps([0,1])).then(o=>o.i),n=await dd(()=>import("./index-DFn6bF3J-BLKcrgfB.js"),__vite__mapDeps([2,0,1])).then(o=>o.i),i=await dd(()=>import("./url-Dkx9cvHv-BqYkizNU.js"),[]).then(o=>o.u);let r,s;return new Map(Object.entries({fs:t,http:e,https:n,url:i,canvas:r,path2d:s}))})().then(t=>{qg=t,Qy.resolve()},t=>{Ae(`loadPackages: ${t}`),qg=new Map,Qy.resolve()})}class Wi{static get promise(){return Qy.promise}static get(e){return qg==null?void 0:qg.get(e)}}const xP=function(t){return Wi.get("fs").promises.readFile(t).then(e=>new Uint8Array(e))};class ej extends o0{}class tj extends a0{_createCanvas(e,n){return Wi.get("canvas").createCanvas(e,n)}}class nj extends l0{_fetchData(e,n){return xP(e).then(i=>({cMapData:i,compressionType:n}))}}class ij extends c0{_fetchData(e){return xP(e)}}const sn={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Zy(t,e){if(!e)return;const n=e[2]-e[0],i=e[3]-e[1],r=new Path2D;r.rect(e[0],e[1],n,i),t.clip(r)}class Uh{constructor(){this.constructor===Uh&&Oe("Cannot initialize BaseShadingPattern.")}getPattern(){Oe("Abstract method `getPattern` called.")}}class rj extends Uh{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let n;this._type==="axial"?n=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(n=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const i of this._colorStops)n.addColorStop(i[0],i[1]);return n}getPattern(e,n,i,r){let s;if(r===sn.STROKE||r===sn.FILL){const o=n.current.getClippedPathBoundingBox(r,Ye(e))||[0,0,0,0],a=Math.ceil(o[2]-o[0])||1,l=Math.ceil(o[3]-o[1])||1,h=n.cachedCanvases.getCanvas("pattern",a,l,!0),u=h.context;u.clearRect(0,0,u.canvas.width,u.canvas.height),u.beginPath(),u.rect(0,0,u.canvas.width,u.canvas.height),u.translate(-o[0],-o[1]),i=ae.transform(i,[1,0,0,1,o[0],o[1]]),u.transform(...n.baseTransform),this.matrix&&u.transform(...this.matrix),Zy(u,this._bbox),u.fillStyle=this._createGradient(u),u.fill(),s=e.createPattern(h.canvas,"no-repeat");const f=new DOMMatrix(i);s.setTransform(f)}else Zy(e,this._bbox),s=this._createGradient(e);return s}}function Av(t,e,n,i,r,s,o,a){const l=e.coords,h=e.colors,u=t.data,f=t.width*4;let p;l[n+1]>l[i+1]&&(p=n,n=i,i=p,p=s,s=o,o=p),l[i+1]>l[r+1]&&(p=i,i=r,r=p,p=o,o=a,a=p),l[n+1]>l[i+1]&&(p=n,n=i,i=p,p=s,s=o,o=p);const m=(l[n]+e.offsetX)*e.scaleX,y=(l[n+1]+e.offsetY)*e.scaleY,A=(l[i]+e.offsetX)*e.scaleX,b=(l[i+1]+e.offsetY)*e.scaleY,w=(l[r]+e.offsetX)*e.scaleX,S=(l[r+1]+e.offsetY)*e.scaleY;if(y>=S)return;const E=h[s],T=h[s+1],R=h[s+2],I=h[o],M=h[o+1],C=h[o+2],P=h[a],N=h[a+1],$=h[a+2],z=Math.round(y),U=Math.round(S);let Q,ee,G,F,H,W,K,ne;for(let B=z;B<=U;B++){if(B<b){const re=B<y?0:(y-B)/(y-b);Q=m-(m-A)*re,ee=E-(E-I)*re,G=T-(T-M)*re,F=R-(R-C)*re}else{let re;B>S?re=1:b===S?re=0:re=(b-B)/(b-S),Q=A-(A-w)*re,ee=I-(I-P)*re,G=M-(M-N)*re,F=C-(C-$)*re}let oe;B<y?oe=0:B>S?oe=1:oe=(y-B)/(y-S),H=m-(m-w)*oe,W=E-(E-P)*oe,K=T-(T-N)*oe,ne=R-(R-$)*oe;const te=Math.round(Math.min(Q,H)),ie=Math.round(Math.max(Q,H));let le=f*B+te*4;for(let re=te;re<=ie;re++)oe=(Q-re)/(Q-H),oe<0?oe=0:oe>1&&(oe=1),u[le++]=ee-(ee-W)*oe|0,u[le++]=G-(G-K)*oe|0,u[le++]=F-(F-ne)*oe|0,u[le++]=255}}function sj(t,e,n){const i=e.coords,r=e.colors;let s,o;switch(e.type){case"lattice":const a=e.verticesPerRow,l=Math.floor(i.length/a)-1,h=a-1;for(s=0;s<l;s++){let u=s*a;for(let f=0;f<h;f++,u++)Av(t,n,i[u],i[u+1],i[u+a],r[u],r[u+1],r[u+a]),Av(t,n,i[u+a+1],i[u+1],i[u+a],r[u+a+1],r[u+1],r[u+a])}break;case"triangles":for(s=0,o=i.length;s<o;s+=3)Av(t,n,i[s],i[s+1],i[s+2],r[s],r[s+1],r[s+2]);break;default:throw new Error("illegal figure")}}class oj extends Uh{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,n,i){const r=Math.floor(this._bounds[0]),s=Math.floor(this._bounds[1]),o=Math.ceil(this._bounds[2])-r,a=Math.ceil(this._bounds[3])-s,l=Math.min(Math.ceil(Math.abs(o*e[0]*1.1)),3e3),h=Math.min(Math.ceil(Math.abs(a*e[1]*1.1)),3e3),u=o/l,f=a/h,p={coords:this._coords,colors:this._colors,offsetX:-r,offsetY:-s,scaleX:1/u,scaleY:1/f},m=l+2*2,y=h+2*2,A=i.getCanvas("mesh",m,y,!1),b=A.context,w=b.createImageData(l,h);if(n){const S=w.data;for(let E=0,T=S.length;E<T;E+=4)S[E]=n[0],S[E+1]=n[1],S[E+2]=n[2],S[E+3]=255}for(const S of this._figures)sj(w,S,p);return b.putImageData(w,2,2),{canvas:A.canvas,offsetX:r-2*u,offsetY:s-2*f,scaleX:u,scaleY:f}}getPattern(e,n,i,r){Zy(e,this._bbox);let s;if(r===sn.SHADING)s=ae.singularValueDecompose2dScale(Ye(e));else if(s=ae.singularValueDecompose2dScale(n.baseTransform),this.matrix){const a=ae.singularValueDecompose2dScale(this.matrix);s=[s[0]*a[0],s[1]*a[1]]}const o=this._createMeshCanvas(s,r===sn.SHADING?null:this._background,n.cachedCanvases);return r!==sn.SHADING&&(e.setTransform(...n.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(o.offsetX,o.offsetY),e.scale(o.scaleX,o.scaleY),e.createPattern(o.canvas,"no-repeat")}}class aj extends Uh{getPattern(){return"hotpink"}}function lj(t){switch(t[0]){case"RadialAxial":return new rj(t);case"Mesh":return new oj(t);case"Dummy":return new aj}throw new Error(`Unknown IR type: ${t[0]}`)}const fk={COLORED:1,UNCOLORED:2},AP=class EP{constructor(e,n,i,r,s){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=n,this.ctx=i,this.canvasGraphicsFactory=r,this.baseTransform=s}createPatternCanvas(e){const n=this.operatorList,i=this.bbox,r=this.xstep,s=this.ystep,o=this.paintType,a=this.tilingType,l=this.color,h=this.canvasGraphicsFactory;i0("TilingType: "+a);const u=i[0],f=i[1],p=i[2],m=i[3],y=ae.singularValueDecompose2dScale(this.matrix),A=ae.singularValueDecompose2dScale(this.baseTransform),b=[y[0]*A[0],y[1]*A[1]],w=this.getSizeAndScale(r,this.ctx.canvas.width,b[0]),S=this.getSizeAndScale(s,this.ctx.canvas.height,b[1]),E=e.cachedCanvases.getCanvas("pattern",w.size,S.size,!0),T=E.context,R=h.createCanvasGraphics(T);R.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(R,o,l);let I=u,M=f,C=p,P=m;return u<0&&(I=0,C+=Math.abs(u)),f<0&&(M=0,P+=Math.abs(f)),T.translate(-(w.scale*I),-(S.scale*M)),R.transform(w.scale,0,0,S.scale,0,0),T.save(),this.clipBbox(R,I,M,C,P),R.baseTransform=Ye(R.ctx),R.executeOperatorList(n),R.endDrawing(),{canvas:E.canvas,scaleX:w.scale,scaleY:S.scale,offsetX:I,offsetY:M}}getSizeAndScale(e,n,i){e=Math.abs(e);const r=Math.max(EP.MAX_PATTERN_SIZE,n);let s=Math.ceil(e*i);return s>=r?s=r:i=s/e,{scale:i,size:s}}clipBbox(e,n,i,r,s){const o=r-n,a=s-i;e.ctx.rect(n,i,o,a),e.current.updateRectMinMax(Ye(e.ctx),[n,i,r,s]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,n,i){const r=e.ctx,s=e.current;switch(n){case fk.COLORED:const o=this.ctx;r.fillStyle=o.fillStyle,r.strokeStyle=o.strokeStyle,s.fillColor=o.fillStyle,s.strokeColor=o.strokeStyle;break;case fk.UNCOLORED:const a=ae.makeHexColor(i[0],i[1],i[2]);r.fillStyle=a,r.strokeStyle=a,s.fillColor=a,s.strokeColor=a;break;default:throw new M5(`Unsupported paint type: ${n}`)}}getPattern(e,n,i,r){let s=i;r!==sn.SHADING&&(s=ae.transform(s,n.baseTransform),this.matrix&&(s=ae.transform(s,this.matrix)));const o=this.createPatternCanvas(n);let a=new DOMMatrix(s);a=a.translate(o.offsetX,o.offsetY),a=a.scale(1/o.scaleX,1/o.scaleY);const l=e.createPattern(o.canvas,"repeat");return l.setTransform(a),l}};ve(AP,"MAX_PATTERN_SIZE",3e3);let cj=AP;function uj({src:t,srcPos:e=0,dest:n,width:i,height:r,nonBlackColor:s=4294967295,inverseDecode:o=!1}){const a=kn.isLittleEndian?4278190080:255,[l,h]=o?[s,a]:[a,s],u=i>>3,f=i&7,p=t.length;n=new Uint32Array(n.buffer);let m=0;for(let y=0;y<r;y++){for(const b=e+u;e<b;e++){const w=e<p?t[e]:255;n[m++]=w&128?h:l,n[m++]=w&64?h:l,n[m++]=w&32?h:l,n[m++]=w&16?h:l,n[m++]=w&8?h:l,n[m++]=w&4?h:l,n[m++]=w&2?h:l,n[m++]=w&1?h:l}if(f===0)continue;const A=e<p?t[e++]:255;for(let b=0;b<f;b++)n[m++]=A&1<<7-b?h:l}return{srcPos:e,destPos:m}}const pk=16,gk=100,hj=15,mk=10,vk=1e3,pn=16;function dj(t,e){if(t._removeMirroring)throw new Error("Context is already forwarding operations.");t.__originalSave=t.save,t.__originalRestore=t.restore,t.__originalRotate=t.rotate,t.__originalScale=t.scale,t.__originalTranslate=t.translate,t.__originalTransform=t.transform,t.__originalSetTransform=t.setTransform,t.__originalResetTransform=t.resetTransform,t.__originalClip=t.clip,t.__originalMoveTo=t.moveTo,t.__originalLineTo=t.lineTo,t.__originalBezierCurveTo=t.bezierCurveTo,t.__originalRect=t.rect,t.__originalClosePath=t.closePath,t.__originalBeginPath=t.beginPath,t._removeMirroring=()=>{t.save=t.__originalSave,t.restore=t.__originalRestore,t.rotate=t.__originalRotate,t.scale=t.__originalScale,t.translate=t.__originalTranslate,t.transform=t.__originalTransform,t.setTransform=t.__originalSetTransform,t.resetTransform=t.__originalResetTransform,t.clip=t.__originalClip,t.moveTo=t.__originalMoveTo,t.lineTo=t.__originalLineTo,t.bezierCurveTo=t.__originalBezierCurveTo,t.rect=t.__originalRect,t.closePath=t.__originalClosePath,t.beginPath=t.__originalBeginPath,delete t._removeMirroring},t.save=function(){e.save(),this.__originalSave()},t.restore=function(){e.restore(),this.__originalRestore()},t.translate=function(n,i){e.translate(n,i),this.__originalTranslate(n,i)},t.scale=function(n,i){e.scale(n,i),this.__originalScale(n,i)},t.transform=function(n,i,r,s,o,a){e.transform(n,i,r,s,o,a),this.__originalTransform(n,i,r,s,o,a)},t.setTransform=function(n,i,r,s,o,a){e.setTransform(n,i,r,s,o,a),this.__originalSetTransform(n,i,r,s,o,a)},t.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},t.rotate=function(n){e.rotate(n),this.__originalRotate(n)},t.clip=function(n){e.clip(n),this.__originalClip(n)},t.moveTo=function(n,i){e.moveTo(n,i),this.__originalMoveTo(n,i)},t.lineTo=function(n,i){e.lineTo(n,i),this.__originalLineTo(n,i)},t.bezierCurveTo=function(n,i,r,s,o,a){e.bezierCurveTo(n,i,r,s,o,a),this.__originalBezierCurveTo(n,i,r,s,o,a)},t.rect=function(n,i,r,s){e.rect(n,i,r,s),this.__originalRect(n,i,r,s)},t.closePath=function(){e.closePath(),this.__originalClosePath()},t.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class fj{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,n,i){let r;return this.cache[e]!==void 0?(r=this.cache[e],this.canvasFactory.reset(r,n,i)):(r=this.canvasFactory.create(n,i),this.cache[e]=r),r}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const n=this.cache[e];this.canvasFactory.destroy(n),delete this.cache[e]}}}function Ad(t,e,n,i,r,s,o,a,l,h){const[u,f,p,m,y,A]=Ye(t);if(f===0&&p===0){const S=o*u+y,E=Math.round(S),T=a*m+A,R=Math.round(T),I=(o+l)*u+y,M=Math.abs(Math.round(I)-E)||1,C=(a+h)*m+A,P=Math.abs(Math.round(C)-R)||1;return t.setTransform(Math.sign(u),0,0,Math.sign(m),E,R),t.drawImage(e,n,i,r,s,0,0,M,P),t.setTransform(u,f,p,m,y,A),[M,P]}if(u===0&&m===0){const S=a*p+y,E=Math.round(S),T=o*f+A,R=Math.round(T),I=(a+h)*p+y,M=Math.abs(Math.round(I)-E)||1,C=(o+l)*f+A,P=Math.abs(Math.round(C)-R)||1;return t.setTransform(0,Math.sign(f),Math.sign(p),0,E,R),t.drawImage(e,n,i,r,s,0,0,P,M),t.setTransform(u,f,p,m,y,A),[P,M]}t.drawImage(e,n,i,r,s,o,a,l,h);const b=Math.hypot(u,f),w=Math.hypot(p,m);return[b*l,w*h]}function pj(t){const{width:e,height:n}=t;if(e>vk||n>vk)return null;const i=1e3,r=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),s=e+1;let o=new Uint8Array(s*(n+1)),a,l,h;const u=e+7&-8;let f=new Uint8Array(u*n),p=0;for(const b of t.data){let w=128;for(;w>0;)f[p++]=b&w?0:255,w>>=1}let m=0;for(p=0,f[p]!==0&&(o[0]=1,++m),l=1;l<e;l++)f[p]!==f[p+1]&&(o[l]=f[p]?2:1,++m),p++;for(f[p]!==0&&(o[l]=2,++m),a=1;a<n;a++){p=a*u,h=a*s,f[p-u]!==f[p]&&(o[h]=f[p]?1:8,++m);let b=(f[p]?4:0)+(f[p-u]?8:0);for(l=1;l<e;l++)b=(b>>2)+(f[p+1]?4:0)+(f[p-u+1]?8:0),r[b]&&(o[h+l]=r[b],++m),p++;if(f[p-u]!==f[p]&&(o[h+l]=f[p]?2:4,++m),m>i)return null}for(p=u*(n-1),h=a*s,f[p]!==0&&(o[h]=8,++m),l=1;l<e;l++)f[p]!==f[p+1]&&(o[h+l]=f[p]?4:8,++m),p++;if(f[p]!==0&&(o[h+l]=4,++m),m>i)return null;const y=new Int32Array([0,s,-1,0,-s,0,0,0,1]),A=new Path2D;for(a=0;m&&a<=n;a++){let b=a*s;const w=b+e;for(;b<w&&!o[b];)b++;if(b===w)continue;A.moveTo(b%s,a);const S=b;let E=o[b];do{const T=y[E];do b+=T;while(!o[b]);const R=o[b];R!==5&&R!==10?(E=R,o[b]=0):(E=R&51*E>>4,o[b]&=E>>2|E<<2),A.lineTo(b%s,b/s|0),o[b]||--m}while(S!==b);--a}return f=null,o=null,function(b){b.save(),b.scale(1/e,-1/n),b.translate(0,-n),b.fill(A),b.beginPath(),b.restore()}}class yk{constructor(e,n){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=B2,this.textMatrixScale=1,this.fontMatrix=Z1,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=$t.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,n])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,n){this.x=e,this.y=n}updatePathMinMax(e,n,i){[n,i]=ae.applyTransform([n,i],e),this.minX=Math.min(this.minX,n),this.minY=Math.min(this.minY,i),this.maxX=Math.max(this.maxX,n),this.maxY=Math.max(this.maxY,i)}updateRectMinMax(e,n){const i=ae.applyTransform(n,e),r=ae.applyTransform(n.slice(2),e),s=ae.applyTransform([n[0],n[3]],e),o=ae.applyTransform([n[2],n[1]],e);this.minX=Math.min(this.minX,i[0],r[0],s[0],o[0]),this.minY=Math.min(this.minY,i[1],r[1],s[1],o[1]),this.maxX=Math.max(this.maxX,i[0],r[0],s[0],o[0]),this.maxY=Math.max(this.maxY,i[1],r[1],s[1],o[1])}updateScalingPathMinMax(e,n){ae.scaleMinMax(e,n),this.minX=Math.min(this.minX,n[0]),this.minY=Math.min(this.minY,n[1]),this.maxX=Math.max(this.maxX,n[2]),this.maxY=Math.max(this.maxY,n[3])}updateCurvePathMinMax(e,n,i,r,s,o,a,l,h,u){const f=ae.bezierBoundingBox(n,i,r,s,o,a,l,h,u);u||this.updateRectMinMax(e,f)}getPathBoundingBox(e=sn.FILL,n=null){const i=[this.minX,this.minY,this.maxX,this.maxY];if(e===sn.STROKE){n||Oe("Stroke bounding box must include transform.");const r=ae.singularValueDecompose2dScale(n),s=r[0]*this.lineWidth/2,o=r[1]*this.lineWidth/2;i[0]-=s,i[1]-=o,i[2]+=s,i[3]+=o}return i}updateClipFromPath(){const e=ae.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=sn.FILL,n=null){return ae.intersect(this.clipBox,this.getPathBoundingBox(e,n))}}function wk(t,e){if(typeof ImageData<"u"&&e instanceof ImageData){t.putImageData(e,0,0);return}const n=e.height,i=e.width,r=n%pn,s=(n-r)/pn,o=r===0?s:s+1,a=t.createImageData(i,pn);let l=0,h;const u=e.data,f=a.data;let p,m,y,A;if(e.kind===lf.GRAYSCALE_1BPP){const b=u.byteLength,w=new Uint32Array(f.buffer,0,f.byteLength>>2),S=w.length,E=i+7>>3,T=4294967295,R=kn.isLittleEndian?4278190080:255;for(p=0;p<o;p++){for(y=p<s?pn:r,h=0,m=0;m<y;m++){const I=b-l;let M=0;const C=I>E?i:I*8-7,P=C&-8;let N=0,$=0;for(;M<P;M+=8)$=u[l++],w[h++]=$&128?T:R,w[h++]=$&64?T:R,w[h++]=$&32?T:R,w[h++]=$&16?T:R,w[h++]=$&8?T:R,w[h++]=$&4?T:R,w[h++]=$&2?T:R,w[h++]=$&1?T:R;for(;M<C;M++)N===0&&($=u[l++],N=128),w[h++]=$&N?T:R,N>>=1}for(;h<S;)w[h++]=0;t.putImageData(a,0,p*pn)}}else if(e.kind===lf.RGBA_32BPP){for(m=0,A=i*pn*4,p=0;p<s;p++)f.set(u.subarray(l,l+A)),l+=A,t.putImageData(a,0,m),m+=pn;p<o&&(A=i*r*4,f.set(u.subarray(l,l+A)),t.putImageData(a,0,m))}else if(e.kind===lf.RGB_24BPP)for(y=pn,A=i*y,p=0;p<o;p++){for(p>=s&&(y=r,A=i*y),h=0,m=A;m--;)f[h++]=u[l++],f[h++]=u[l++],f[h++]=u[l++],f[h++]=255;t.putImageData(a,0,p*pn)}else throw new Error(`bad image kind: ${e.kind}`)}function Sk(t,e){if(e.bitmap){t.drawImage(e.bitmap,0,0);return}const n=e.height,i=e.width,r=n%pn,s=(n-r)/pn,o=r===0?s:s+1,a=t.createImageData(i,pn);let l=0;const h=e.data,u=a.data;for(let f=0;f<o;f++){const p=f<s?pn:r;({srcPos:l}=uj({src:h,srcPos:l,dest:u,width:i,height:p,nonBlackColor:0})),t.putImageData(a,0,f*pn)}}function vc(t,e){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of n)t[i]!==void 0&&(e[i]=t[i]);t.setLineDash!==void 0&&(e.setLineDash(t.getLineDash()),e.lineDashOffset=t.lineDashOffset)}function Ed(t){if(t.strokeStyle=t.fillStyle="#000000",t.fillRule="nonzero",t.globalAlpha=1,t.lineWidth=1,t.lineCap="butt",t.lineJoin="miter",t.miterLimit=10,t.globalCompositeOperation="source-over",t.font="10px sans-serif",t.setLineDash!==void 0&&(t.setLineDash([]),t.lineDashOffset=0),!Qt){const{filter:e}=t;e!=="none"&&e!==""&&(t.filter="none")}}function xk(t,e){if(e)return!0;const n=ae.singularValueDecompose2dScale(t);n[0]=Math.fround(n[0]),n[1]=Math.fround(n[1]);const i=Math.fround((globalThis.devicePixelRatio||1)*Ql.PDF_TO_CSS_UNITS);return n[0]<=i&&n[1]<=i}const gj=["butt","round","square"],mj=["miter","round","bevel"],vj={},Ak={};var Qf,Jy,Zf,ew;const yj=class kP{constructor(e,n,i,r,s,{optionalContentConfig:o,markedContentStack:a=null},l,h){v(this,Qf),v(this,Zf),this.ctx=e,this.current=new yk(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=n,this.objs=i,this.canvasFactory=r,this.filterFactory=s,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=a||[],this.optionalContentConfig=o,this.cachedCanvases=new fj(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=h,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,n=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):n}beginDrawing({transform:e,viewport:n,transparency:i=!1,background:r=null}){const s=this.ctx.canvas.width,o=this.ctx.canvas.height,a=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,s,o),this.ctx.fillStyle=a,i){const l=this.cachedCanvases.getCanvas("transparent",s,o);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...Ye(this.compositeCtx))}this.ctx.save(),Ed(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...n.transform),this.viewportScale=n.scale,this.baseTransform=Ye(this.ctx)}executeOperatorList(e,n,i,r){const s=e.argsArray,o=e.fnArray;let a=n||0;const l=s.length;if(l===a)return a;const h=l-a>mk&&typeof i=="function",u=h?Date.now()+hj:0;let f=0;const p=this.commonObjs,m=this.objs;let y;for(;;){if(r!==void 0&&a===r.nextBreakPoint)return r.breakIt(a,i),a;if(y=o[a],y!==ai.dependency)this[y].apply(this,s[a]);else for(const A of s[a]){const b=A.startsWith("g_")?p:m;if(!b.has(A))return b.get(A,i),a}if(a++,a===l)return a;if(h&&++f>mk){if(Date.now()>u)return i(),a;f=0}}}endDrawing(){k(this,Qf,Jy).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const n of e.values())typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&(n.width=n.height=0);e.clear()}this._cachedBitmapsMap.clear(),k(this,Zf,ew).call(this)}_scaleImage(e,n){const i=e.width,r=e.height;let s=Math.max(Math.hypot(n[0],n[1]),1),o=Math.max(Math.hypot(n[2],n[3]),1),a=i,l=r,h="prescale1",u,f;for(;s>2&&a>1||o>2&&l>1;){let p=a,m=l;s>2&&a>1&&(p=a>=16384?Math.floor(a/2)-1||1:Math.ceil(a/2),s/=a/p),o>2&&l>1&&(m=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,o/=l/m),u=this.cachedCanvases.getCanvas(h,p,m),f=u.context,f.clearRect(0,0,p,m),f.drawImage(e,0,0,a,l,0,0,p,m),e=u.canvas,a=p,l=m,h=h==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:a,paintHeight:l}}_createMaskCanvas(e){const n=this.ctx,{width:i,height:r}=e,s=this.current.fillColor,o=this.current.patternFill,a=Ye(n);let l,h,u,f;if((e.bitmap||e.data)&&e.count>1){const C=e.bitmap||e.data.buffer;h=JSON.stringify(o?a:[a.slice(0,4),s]),l=this._cachedBitmapsMap.get(C),l||(l=new Map,this._cachedBitmapsMap.set(C,l));const P=l.get(h);if(P&&!o){const N=Math.round(Math.min(a[0],a[2])+a[4]),$=Math.round(Math.min(a[1],a[3])+a[5]);return{canvas:P,offsetX:N,offsetY:$}}u=P}u||(f=this.cachedCanvases.getCanvas("maskCanvas",i,r),Sk(f.context,e));let p=ae.transform(a,[1/i,0,0,-1/r,0,0]);p=ae.transform(p,[1,0,0,1,0,-r]);const[m,y,A,b]=ae.getAxialAlignedBoundingBox([0,0,i,r],p),w=Math.round(A-m)||1,S=Math.round(b-y)||1,E=this.cachedCanvases.getCanvas("fillCanvas",w,S),T=E.context,R=m,I=y;T.translate(-R,-I),T.transform(...p),u||(u=this._scaleImage(f.canvas,Hi(T)),u=u.img,l&&o&&l.set(h,u)),T.imageSmoothingEnabled=xk(Ye(T),e.interpolate),Ad(T,u,0,0,u.width,u.height,0,0,i,r),T.globalCompositeOperation="source-in";const M=ae.transform(Hi(T),[1,0,0,1,-R,-I]);return T.fillStyle=o?s.getPattern(n,this,M,sn.FILL):s,T.fillRect(0,0,i,r),l&&!o&&(this.cachedCanvases.delete("fillCanvas"),l.set(h,E.canvas)),{canvas:E.canvas,offsetX:Math.round(R),offsetY:Math.round(I)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=gj[e]}setLineJoin(e){this.ctx.lineJoin=mj[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,n){const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(e),i.lineDashOffset=n)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[n,i]of e)switch(n){case"LW":this.setLineWidth(i);break;case"LC":this.setLineCap(i);break;case"LJ":this.setLineJoin(i);break;case"ML":this.setMiterLimit(i);break;case"D":this.setDash(i[0],i[1]);break;case"RI":this.setRenderingIntent(i);break;case"FL":this.setFlatness(i);break;case"Font":this.setFont(i[0],i[1]);break;case"CA":this.current.strokeAlpha=i;break;case"ca":this.current.fillAlpha=i,this.ctx.globalAlpha=i;break;case"BM":this.ctx.globalCompositeOperation=i;break;case"SMask":this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(i);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,n=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(i,e,n);this.suspendedCtx=this.ctx,this.ctx=r.context;const s=this.ctx;s.setTransform(...Ye(this.suspendedCtx)),vc(this.suspendedCtx,s),dj(s,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),vc(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const n=this.current.activeSMask,i=this.suspendedCtx;this.composeSMask(i,n,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,n,i,r){const s=r[0],o=r[1],a=r[2]-s,l=r[3]-o;a===0||l===0||(this.genericComposeSMask(n.context,i,a,l,n.subtype,n.backdrop,n.transferMap,s,o,n.offsetX,n.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(i.canvas,0,0),e.restore())}genericComposeSMask(e,n,i,r,s,o,a,l,h,u,f){let p=e.canvas,m=l-u,y=h-f;if(o){if(m<0||y<0||m+i>p.width||y+r>p.height){const b=this.cachedCanvases.getCanvas("maskExtension",i,r),w=b.context;w.drawImage(p,-m,-y),o.some(S=>S!==0)&&(w.globalCompositeOperation="destination-atop",w.fillStyle=ae.makeHexColor(...o),w.fillRect(0,0,i,r),w.globalCompositeOperation="source-over"),p=b.canvas,m=y=0}else if(o.some(b=>b!==0)){e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const b=new Path2D;b.rect(m,y,i,r),e.clip(b),e.globalCompositeOperation="destination-atop",e.fillStyle=ae.makeHexColor(...o),e.fillRect(m,y,i,r),e.restore()}}n.save(),n.globalAlpha=1,n.setTransform(1,0,0,1,0,0),s==="Alpha"&&a?n.filter=this.filterFactory.addAlphaFilter(a):s==="Luminosity"&&(n.filter=this.filterFactory.addLuminosityFilter(a));const A=new Path2D;A.rect(l,h,i,r),n.clip(A),n.globalCompositeOperation="destination-in",n.drawImage(p,m,y,i,r,l,h,i,r),n.restore()}save(){this.inSMaskMode?(vc(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),vc(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,n,i,r,s,o){this.ctx.transform(e,n,i,r,s,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,n,i){const r=this.ctx,s=this.current;let o=s.x,a=s.y,l,h;const u=Ye(r),f=u[0]===0&&u[3]===0||u[1]===0&&u[2]===0,p=f?i.slice(0):null;for(let m=0,y=0,A=e.length;m<A;m++)switch(e[m]|0){case ai.rectangle:o=n[y++],a=n[y++];const b=n[y++],w=n[y++],S=o+b,E=a+w;r.moveTo(o,a),b===0||w===0?r.lineTo(S,E):(r.lineTo(S,a),r.lineTo(S,E),r.lineTo(o,E)),f||s.updateRectMinMax(u,[o,a,S,E]),r.closePath();break;case ai.moveTo:o=n[y++],a=n[y++],r.moveTo(o,a),f||s.updatePathMinMax(u,o,a);break;case ai.lineTo:o=n[y++],a=n[y++],r.lineTo(o,a),f||s.updatePathMinMax(u,o,a);break;case ai.curveTo:l=o,h=a,o=n[y+4],a=n[y+5],r.bezierCurveTo(n[y],n[y+1],n[y+2],n[y+3],o,a),s.updateCurvePathMinMax(u,l,h,n[y],n[y+1],n[y+2],n[y+3],o,a,p),y+=6;break;case ai.curveTo2:l=o,h=a,r.bezierCurveTo(o,a,n[y],n[y+1],n[y+2],n[y+3]),s.updateCurvePathMinMax(u,l,h,o,a,n[y],n[y+1],n[y+2],n[y+3],p),o=n[y+2],a=n[y+3],y+=4;break;case ai.curveTo3:l=o,h=a,o=n[y+2],a=n[y+3],r.bezierCurveTo(n[y],n[y+1],o,a,o,a),s.updateCurvePathMinMax(u,l,h,n[y],n[y+1],o,a,o,a,p),y+=4;break;case ai.closePath:r.closePath();break}f&&s.updateScalingPathMinMax(u,p),s.setCurrentPoint(o,a)}closePath(){this.ctx.closePath()}stroke(e=!0){const n=this.ctx,i=this.current.strokeColor;n.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof i=="object"&&i!=null&&i.getPattern?(n.save(),n.strokeStyle=i.getPattern(n,this,Hi(n),sn.STROKE),this.rescaleAndStroke(!1),n.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),n.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const n=this.ctx,i=this.current.fillColor,r=this.current.patternFill;let s=!1;r&&(n.save(),n.fillStyle=i.getPattern(n,this,Hi(n),sn.FILL),s=!0);const o=this.current.getClippedPathBoundingBox();this.contentVisible&&o!==null&&(this.pendingEOFill?(n.fill("evenodd"),this.pendingEOFill=!1):n.fill()),s&&n.restore(),e&&this.consumePath(o)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=vj}eoClip(){this.pendingClip=Ak}beginText(){this.current.textMatrix=B2,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,n=this.ctx;if(e===void 0){n.beginPath();return}n.save(),n.beginPath();for(const i of e)n.setTransform(...i.transform),n.translate(i.x,i.y),i.addToPath(n,i.fontSize);n.restore(),n.clip(),n.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,n){var i;const r=this.commonObjs.get(e),s=this.current;if(!r)throw new Error(`Can't find font for ${e}`);if(s.fontMatrix=r.fontMatrix||Z1,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&Ae("Invalid font matrix for font "+e),n<0?(n=-n,s.fontDirection=-1):s.fontDirection=1,this.current.font=r,this.current.fontSize=n,r.isType3Font)return;const o=r.loadedName||"sans-serif",a=((i=r.systemFontInfo)==null?void 0:i.css)||`"${o}", ${r.fallbackName}`;let l="normal";r.black?l="900":r.bold&&(l="bold");const h=r.italic?"italic":"normal";let u=n;n<pk?u=pk:n>gk&&(u=gk),this.current.fontSizeScale=n/u,this.ctx.font=`${h} ${l} ${u}px ${a}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,n){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=n}setLeadingMoveText(e,n){this.setLeading(-n),this.moveText(e,n)}setTextMatrix(e,n,i,r,s,o){this.current.textMatrix=[e,n,i,r,s,o],this.current.textMatrixScale=Math.hypot(e,n),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,n,i,r){const s=this.ctx,o=this.current,a=o.font,l=o.textRenderingMode,h=o.fontSize/o.fontSizeScale,u=l&$t.FILL_STROKE_MASK,f=!!(l&$t.ADD_TO_PATH_FLAG),p=o.patternFill&&!a.missingFile;let m;(a.disableFontFace||f||p)&&(m=a.getPathGenerator(this.commonObjs,e)),a.disableFontFace||p?(s.save(),s.translate(n,i),s.beginPath(),m(s,h),r&&s.setTransform(...r),(u===$t.FILL||u===$t.FILL_STROKE)&&s.fill(),(u===$t.STROKE||u===$t.FILL_STROKE)&&s.stroke(),s.restore()):((u===$t.FILL||u===$t.FILL_STROKE)&&s.fillText(e,n,i),(u===$t.STROKE||u===$t.FILL_STROKE)&&s.strokeText(e,n,i)),f&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Ye(s),x:n,y:i,fontSize:h,addToPath:m})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const n=e.getImageData(0,0,10,10).data;let i=!1;for(let r=3;r<n.length;r+=4)if(n[r]>0&&n[r]<255){i=!0;break}return Pe(this,"isFontSubpixelAAEnabled",i)}showText(e){const n=this.current,i=n.font;if(i.isType3Font)return this.showType3Text(e);const r=n.fontSize;if(r===0)return;const s=this.ctx,o=n.fontSizeScale,a=n.charSpacing,l=n.wordSpacing,h=n.fontDirection,u=n.textHScale*h,f=e.length,p=i.vertical,m=p?1:-1,y=i.defaultVMetrics,A=r*n.fontMatrix[0],b=n.textRenderingMode===$t.FILL&&!i.disableFontFace&&!n.patternFill;s.save(),s.transform(...n.textMatrix),s.translate(n.x,n.y+n.textRise),h>0?s.scale(u,-1):s.scale(u,1);let w;if(n.patternFill){s.save();const I=n.fillColor.getPattern(s,this,Hi(s),sn.FILL);w=Ye(s),s.restore(),s.fillStyle=I}let S=n.lineWidth;const E=n.textMatrixScale;if(E===0||S===0){const I=n.textRenderingMode&$t.FILL_STROKE_MASK;(I===$t.STROKE||I===$t.FILL_STROKE)&&(S=this.getSinglePixelWidth())}else S/=E;if(o!==1&&(s.scale(o,o),S/=o),s.lineWidth=S,i.isInvalidPDFjsFont){const I=[];let M=0;for(const C of e)I.push(C.unicode),M+=C.width;s.fillText(I.join(""),0,0),n.x+=M*A*u,s.restore(),this.compose();return}let T=0,R;for(R=0;R<f;++R){const I=e[R];if(typeof I=="number"){T+=m*I*r/1e3;continue}let M=!1;const C=(I.isSpace?l:0)+a,P=I.fontChar,N=I.accent;let $,z,U=I.width;if(p){const ee=I.vmetric||y,G=-(I.vmetric?ee[1]:U*.5)*A,F=ee[2]*A;U=ee?-ee[0]:U,$=G/o,z=(T+F)/o}else $=T/o,z=0;if(i.remeasure&&U>0){const ee=s.measureText(P).width*1e3/r*o;if(U<ee&&this.isFontSubpixelAAEnabled){const G=U/ee;M=!0,s.save(),s.scale(G,1),$/=G}else U!==ee&&($+=(U-ee)/2e3*r/o)}if(this.contentVisible&&(I.isInFont||i.missingFile)){if(b&&!N)s.fillText(P,$,z);else if(this.paintChar(P,$,z,w),N){const ee=$+r*N.offset.x/o,G=z-r*N.offset.y/o;this.paintChar(N.fontChar,ee,G,w)}}const Q=p?U*A-C*h:U*A+C*h;T+=Q,M&&s.restore()}p?n.y-=T:n.x+=T*u,s.restore(),this.compose()}showType3Text(e){const n=this.ctx,i=this.current,r=i.font,s=i.fontSize,o=i.fontDirection,a=r.vertical?1:-1,l=i.charSpacing,h=i.wordSpacing,u=i.textHScale*o,f=i.fontMatrix||Z1,p=e.length,m=i.textRenderingMode===$t.INVISIBLE;let y,A,b,w;if(!(m||s===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,n.save(),n.transform(...i.textMatrix),n.translate(i.x,i.y),n.scale(u,o),y=0;y<p;++y){if(A=e[y],typeof A=="number"){w=a*A*s/1e3,this.ctx.translate(w,0),i.x+=w*u;continue}const S=(A.isSpace?h:0)+l,E=r.charProcOperatorList[A.operatorListId];if(!E){Ae(`Type3 character "${A.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=A,this.save(),n.scale(s,s),n.transform(...f),this.executeOperatorList(E),this.restore()),b=ae.applyTransform([A.width,0],f)[0]*s+S,n.translate(b,0),i.x+=b*u}n.restore(),this.processingType3=null}}setCharWidth(e,n){}setCharWidthAndBounds(e,n,i,r,s,o){this.ctx.rect(i,r,s-i,o-r),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let n;if(e[0]==="TilingPattern"){const i=e[1],r=this.baseTransform||Ye(this.ctx),s={createCanvasGraphics:o=>new kP(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};n=new cj(e,i,this.ctx,s,r)}else n=this._getPattern(e[1],e[2]);return n}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,n,i){const r=ae.makeHexColor(e,n,i);this.ctx.strokeStyle=r,this.current.strokeColor=r}setFillRGBColor(e,n,i){const r=ae.makeHexColor(e,n,i);this.ctx.fillStyle=r,this.current.fillColor=r,this.current.patternFill=!1}_getPattern(e,n=null){let i;return this.cachedPatterns.has(e)?i=this.cachedPatterns.get(e):(i=lj(this.getObject(e)),this.cachedPatterns.set(e,i)),n&&(i.matrix=n),i}shadingFill(e){if(!this.contentVisible)return;const n=this.ctx;this.save();const i=this._getPattern(e);n.fillStyle=i.getPattern(n,this,Hi(n),sn.SHADING);const r=Hi(n);if(r){const{width:s,height:o}=n.canvas,[a,l,h,u]=ae.getAxialAlignedBoundingBox([0,0,s,o],r);this.ctx.fillRect(a,l,h-a,u-l)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Oe("Should not call beginInlineImage")}beginImageData(){Oe("Should not call beginImageData")}paintFormXObjectBegin(e,n){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=Ye(this.ctx),n)){const i=n[2]-n[0],r=n[3]-n[1];this.ctx.rect(n[0],n[1],i,r),this.current.updateRectMinMax(Ye(this.ctx),n),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const n=this.ctx;e.isolated||i0("TODO: Support non-isolated groups."),e.knockout&&Ae("Knockout groups not supported.");const i=Ye(n);if(e.matrix&&n.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let r=ae.getAxialAlignedBoundingBox(e.bbox,Ye(n));const s=[0,0,n.canvas.width,n.canvas.height];r=ae.intersect(r,s)||[0,0,0,0];const o=Math.floor(r[0]),a=Math.floor(r[1]),l=Math.max(Math.ceil(r[2])-o,1),h=Math.max(Math.ceil(r[3])-a,1);this.current.startNewPathAndClipBox([0,0,l,h]);let u="groupAt"+this.groupLevel;e.smask&&(u+="_smask_"+this.smaskCounter++%2);const f=this.cachedCanvases.getCanvas(u,l,h),p=f.context;p.translate(-o,-a),p.transform(...i),e.smask?this.smaskStack.push({canvas:f.canvas,context:p,offsetX:o,offsetY:a,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(n.setTransform(1,0,0,1,0,0),n.translate(o,a),n.save()),vc(n,p),this.ctx=p,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(n),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const n=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const r=Ye(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...r);const s=ae.getAxialAlignedBoundingBox([0,0,n.canvas.width,n.canvas.height],r);this.ctx.drawImage(n.canvas,0,0),this.ctx.restore(),this.compose(s)}}beginAnnotation(e,n,i,r,s){if(k(this,Qf,Jy).call(this),Ed(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),n){const o=n[2]-n[0],a=n[3]-n[1];if(s&&this.annotationCanvasMap){i=i.slice(),i[4]-=n[0],i[5]-=n[1],n=n.slice(),n[0]=n[1]=0,n[2]=o,n[3]=a;const[l,h]=ae.singularValueDecompose2dScale(Ye(this.ctx)),{viewportScale:u}=this,f=Math.ceil(o*this.outputScaleX*u),p=Math.ceil(a*this.outputScaleY*u);this.annotationCanvas=this.canvasFactory.create(f,p);const{canvas:m,context:y}=this.annotationCanvas;this.annotationCanvasMap.set(e,m),this.annotationCanvas.savedCtx=this.ctx,this.ctx=y,this.ctx.save(),this.ctx.setTransform(l,0,0,-h,0,a*h),Ed(this.ctx)}else Ed(this.ctx),this.ctx.rect(n[0],n[1],o,a),this.ctx.clip(),this.endPath()}this.current=new yk(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...i),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),k(this,Zf,ew).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const n=e.count;e=this.getObject(e.data,e),e.count=n;const i=this.ctx,r=this.processingType3;if(r&&(r.compiled===void 0&&(r.compiled=pj(e)),r.compiled)){r.compiled(i);return}const s=this._createMaskCanvas(e),o=s.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(o,s.offsetX,s.offsetY),i.restore(),this.compose()}paintImageMaskXObjectRepeat(e,n,i=0,r=0,s,o){if(!this.contentVisible)return;e=this.getObject(e.data,e);const a=this.ctx;a.save();const l=Ye(a);a.transform(n,i,r,s,0,0);const h=this._createMaskCanvas(e);a.setTransform(1,0,0,1,h.offsetX-l[4],h.offsetY-l[5]);for(let u=0,f=o.length;u<f;u+=2){const p=ae.transform(l,[n,i,r,s,o[u],o[u+1]]),[m,y]=ae.applyTransform([0,0],p);a.drawImage(h.canvas,m,y)}a.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const n=this.ctx,i=this.current.fillColor,r=this.current.patternFill;for(const s of e){const{data:o,width:a,height:l,transform:h}=s,u=this.cachedCanvases.getCanvas("maskCanvas",a,l),f=u.context;f.save();const p=this.getObject(o,s);Sk(f,p),f.globalCompositeOperation="source-in",f.fillStyle=r?i.getPattern(f,this,Hi(n),sn.FILL):i,f.fillRect(0,0,a,l),f.restore(),n.save(),n.transform(...h),n.scale(1,-1),Ad(n,u.canvas,0,0,a,l,0,-1,1,1),n.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const n=this.getObject(e);if(!n){Ae("Dependent image isn't ready yet");return}this.paintInlineImageXObject(n)}paintImageXObjectRepeat(e,n,i,r){if(!this.contentVisible)return;const s=this.getObject(e);if(!s){Ae("Dependent image isn't ready yet");return}const o=s.width,a=s.height,l=[];for(let h=0,u=r.length;h<u;h+=2)l.push({transform:[n,0,0,i,r[h],r[h+1]],x:0,y:0,w:o,h:a});this.paintInlineImageXObjectGroup(s,l)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:n,width:i,height:r}=e,s=this.cachedCanvases.getCanvas("inlineImage",i,r),o=s.context;return o.filter=this.current.transferMaps,o.drawImage(n,0,0),o.filter="none",s.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const n=e.width,i=e.height,r=this.ctx;if(this.save(),!Qt){const{filter:a}=r;a!=="none"&&a!==""&&(r.filter="none")}r.scale(1/n,-1/i);let s;if(e.bitmap)s=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)s=e;else{const a=this.cachedCanvases.getCanvas("inlineImage",n,i).context;wk(a,e),s=this.applyTransferMapsToCanvas(a)}const o=this._scaleImage(s,Hi(r));r.imageSmoothingEnabled=xk(Ye(r),e.interpolate),Ad(r,o.img,0,0,o.paintWidth,o.paintHeight,0,-i,n,i),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,n){if(!this.contentVisible)return;const i=this.ctx;let r;if(e.bitmap)r=e.bitmap;else{const s=e.width,o=e.height,a=this.cachedCanvases.getCanvas("inlineImage",s,o).context;wk(a,e),r=this.applyTransferMapsToCanvas(a)}for(const s of n)i.save(),i.transform(...s.transform),i.scale(1,-1),Ad(i,r,s.x,s.y,s.w,s.h,0,-1,1,1),i.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,n){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,n){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(n)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const n=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const i=this.ctx;this.pendingClip&&(n||(this.pendingClip===Ak?i.clip("evenodd"):i.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),i.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Ye(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const n=Math.abs(e[0]*e[3]-e[2]*e[1]),i=Math.hypot(e[0],e[2]),r=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(i,r)/n}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:n,b:i,c:r,d:s}=this.ctx.getTransform();let o,a;if(i===0&&r===0){const l=Math.abs(n),h=Math.abs(s);if(l===h)if(e===0)o=a=1/l;else{const u=l*e;o=a=u<1?1/u:1}else if(e===0)o=1/l,a=1/h;else{const u=l*e,f=h*e;o=u<1?1/u:1,a=f<1?1/f:1}}else{const l=Math.abs(n*s-i*r),h=Math.hypot(n,i),u=Math.hypot(r,s);if(e===0)o=u/l,a=h/l;else{const f=e*l;o=u>f?u/f:1,a=h>f?h/f:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:n}=this,{lineWidth:i}=this.current,[r,s]=this.getScaleForStroking();if(n.lineWidth=i||1,r===1&&s===1){n.stroke();return}const o=n.getLineDash();if(e&&n.save(),n.scale(r,s),o.length>0){const a=Math.max(r,s);n.setLineDash(o.map(l=>l/a)),n.lineDashOffset/=a}n.stroke(),e&&n.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};Qf=new WeakSet,Jy=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Zf=new WeakSet,ew=function(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}};let Jf=yj;for(const t in ai)Jf.prototype[t]!==void 0&&(Jf.prototype[ai[t]]=Jf.prototype[t]);var Yg,Kg;class Rs{static get workerPort(){return c(this,Yg)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");_(this,Yg,e)}static get workerSrc(){return c(this,Kg)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");_(this,Kg,e)}}Yg=new WeakMap,Kg=new WeakMap,v(Rs,Yg,null),v(Rs,Kg,"");const kd={UNKNOWN:0,DATA:1,ERROR:2},ot={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Cn(t){switch(t instanceof Error||typeof t=="object"&&t!==null||Oe('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),t.name){case"AbortException":return new Jo(t.message);case"MissingPDFException":return new Zo(t.message);case"PasswordException":return new ey(t.message,t.code);case"UnexpectedResponseException":return new r0(t.message,t.status);case"UnknownErrorException":return new ty(t.message,t.details);default:return new ty(t.message,t.toString())}}var tw,_P,nw,bP,Qc,_d;class Zc{constructor(e,n,i){v(this,tw),v(this,nw),v(this,Qc),this.sourceName=e,this.targetName=n,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=r=>{const s=r.data;if(s.targetName!==this.sourceName)return;if(s.stream){k(this,nw,bP).call(this,s);return}if(s.callback){const a=s.callbackId,l=this.callbackCapabilities[a];if(!l)throw new Error(`Cannot resolve callback ${a}`);if(delete this.callbackCapabilities[a],s.callback===kd.DATA)l.resolve(s.data);else if(s.callback===kd.ERROR)l.reject(Cn(s.reason));else throw new Error("Unexpected callback case");return}const o=this.actionHandler[s.action];if(!o)throw new Error(`Unknown action from worker: ${s.action}`);if(s.callbackId){const a=this.sourceName,l=s.sourceName;new Promise(function(h){h(o(s.data))}).then(function(h){i.postMessage({sourceName:a,targetName:l,callback:kd.DATA,callbackId:s.callbackId,data:h})},function(h){i.postMessage({sourceName:a,targetName:l,callback:kd.ERROR,callbackId:s.callbackId,reason:Cn(h)})});return}if(s.streamId){k(this,tw,_P).call(this,s);return}o(s.data)},i.addEventListener("message",this._onComObjOnMessage)}on(e,n){const i=this.actionHandler;if(i[e])throw new Error(`There is already an actionName called "${e}"`);i[e]=n}send(e,n,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:n},i)}sendWithPromise(e,n,i){const r=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[r]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:r,data:n},i)}catch(o){s.reject(o)}return s.promise}sendWithStream(e,n,i,r){const s=this.streamId++,o=this.sourceName,a=this.targetName,l=this.comObj;return new ReadableStream({start:h=>{const u=Promise.withResolvers();return this.streamControllers[s]={controller:h,startCall:u,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:o,targetName:a,action:e,streamId:s,data:n,desiredSize:h.desiredSize},r),u.promise},pull:h=>{const u=Promise.withResolvers();return this.streamControllers[s].pullCall=u,l.postMessage({sourceName:o,targetName:a,stream:ot.PULL,streamId:s,desiredSize:h.desiredSize}),u.promise},cancel:h=>{ft(h instanceof Error,"cancel must have a valid reason");const u=Promise.withResolvers();return this.streamControllers[s].cancelCall=u,this.streamControllers[s].isClosed=!0,l.postMessage({sourceName:o,targetName:a,stream:ot.CANCEL,streamId:s,reason:Cn(h)}),u.promise}},i)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}tw=new WeakSet,_P=function(t){const e=t.streamId,n=this.sourceName,i=t.sourceName,r=this.comObj,s=this,o=this.actionHandler[t.action],a={enqueue(l,h=1,u){if(this.isCancelled)return;const f=this.desiredSize;this.desiredSize-=h,f>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),r.postMessage({sourceName:n,targetName:i,stream:ot.ENQUEUE,streamId:e,chunk:l},u)},close(){this.isCancelled||(this.isCancelled=!0,r.postMessage({sourceName:n,targetName:i,stream:ot.CLOSE,streamId:e}),delete s.streamSinks[e])},error(l){ft(l instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,r.postMessage({sourceName:n,targetName:i,stream:ot.ERROR,streamId:e,reason:Cn(l)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};a.sinkCapability.resolve(),a.ready=a.sinkCapability.promise,this.streamSinks[e]=a,new Promise(function(l){l(o(t.data,a))}).then(function(){r.postMessage({sourceName:n,targetName:i,stream:ot.START_COMPLETE,streamId:e,success:!0})},function(l){r.postMessage({sourceName:n,targetName:i,stream:ot.START_COMPLETE,streamId:e,reason:Cn(l)})})},nw=new WeakSet,bP=function(t){const e=t.streamId,n=this.sourceName,i=t.sourceName,r=this.comObj,s=this.streamControllers[e],o=this.streamSinks[e];switch(t.stream){case ot.START_COMPLETE:t.success?s.startCall.resolve():s.startCall.reject(Cn(t.reason));break;case ot.PULL_COMPLETE:t.success?s.pullCall.resolve():s.pullCall.reject(Cn(t.reason));break;case ot.PULL:if(!o){r.postMessage({sourceName:n,targetName:i,stream:ot.PULL_COMPLETE,streamId:e,success:!0});break}o.desiredSize<=0&&t.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=t.desiredSize,new Promise(function(a){var l;a((l=o.onPull)==null?void 0:l.call(o))}).then(function(){r.postMessage({sourceName:n,targetName:i,stream:ot.PULL_COMPLETE,streamId:e,success:!0})},function(a){r.postMessage({sourceName:n,targetName:i,stream:ot.PULL_COMPLETE,streamId:e,reason:Cn(a)})});break;case ot.ENQUEUE:if(ft(s,"enqueue should have stream controller"),s.isClosed)break;s.controller.enqueue(t.chunk);break;case ot.CLOSE:if(ft(s,"close should have stream controller"),s.isClosed)break;s.isClosed=!0,s.controller.close(),k(this,Qc,_d).call(this,s,e);break;case ot.ERROR:ft(s,"error should have stream controller"),s.controller.error(Cn(t.reason)),k(this,Qc,_d).call(this,s,e);break;case ot.CANCEL_COMPLETE:t.success?s.cancelCall.resolve():s.cancelCall.reject(Cn(t.reason)),k(this,Qc,_d).call(this,s,e);break;case ot.CANCEL:if(!o)break;new Promise(function(a){var l;a((l=o.onCancel)==null?void 0:l.call(o,Cn(t.reason)))}).then(function(){r.postMessage({sourceName:n,targetName:i,stream:ot.CANCEL_COMPLETE,streamId:e,success:!0})},function(a){r.postMessage({sourceName:n,targetName:i,stream:ot.CANCEL_COMPLETE,streamId:e,reason:Cn(a)})}),o.sinkCapability.reject(Cn(t.reason)),o.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}},Qc=new WeakSet,_d=async function(t,e){var n,i,r;await Promise.allSettled([(n=t.startCall)==null?void 0:n.promise,(i=t.pullCall)==null?void 0:i.promise,(r=t.cancelCall)==null?void 0:r.promise]),delete this.streamControllers[e]};var Ca,ep;class wj{constructor({parsedData:e,rawData:n}){v(this,Ca,void 0),v(this,ep,void 0),_(this,Ca,e),_(this,ep,n)}getRaw(){return c(this,ep)}get(e){return c(this,Ca).get(e)??null}getAll(){return Hx(c(this,Ca))}has(e){return c(this,Ca).has(e)}}Ca=new WeakMap,ep=new WeakMap;const Br=Symbol("INTERNAL");var tp,np,ip,Jc;class Sj{constructor(e,{name:n,intent:i,usage:r}){v(this,tp,!1),v(this,np,!1),v(this,ip,!1),v(this,Jc,!0),_(this,tp,!!(e&Hn.DISPLAY)),_(this,np,!!(e&Hn.PRINT)),this.name=n,this.intent=i,this.usage=r}get visible(){if(c(this,ip))return c(this,Jc);if(!c(this,Jc))return!1;const{print:e,view:n}=this.usage;return c(this,tp)?(n==null?void 0:n.viewState)!=="OFF":c(this,np)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,n,i=!1){e!==Br&&Oe("Internal method `_setVisible` called."),_(this,ip,i),_(this,Jc,n)}}tp=new WeakMap,np=new WeakMap,ip=new WeakMap,Jc=new WeakMap;var Xs,$e,eu,tu,Xg,iw;class xj{constructor(e,n=Hn.DISPLAY){if(v(this,Xg),v(this,Xs,null),v(this,$e,new Map),v(this,eu,null),v(this,tu,null),this.renderingIntent=n,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,_(this,tu,e.order);for(const i of e.groups)c(this,$e).set(i.id,new Sj(n,i));if(e.baseState==="OFF")for(const i of c(this,$e).values())i._setVisible(Br,!1);for(const i of e.on)c(this,$e).get(i)._setVisible(Br,!0);for(const i of e.off)c(this,$e).get(i)._setVisible(Br,!1);_(this,eu,this.getHash())}}isVisible(e){if(c(this,$e).size===0)return!0;if(!e)return i0("Optional content group not defined."),!0;if(e.type==="OCG")return c(this,$e).has(e.id)?c(this,$e).get(e.id).visible:(Ae(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return k(this,Xg,iw).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const n of e.ids){if(!c(this,$e).has(n))return Ae(`Optional content group not found: ${n}`),!0;if(c(this,$e).get(n).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const n of e.ids){if(!c(this,$e).has(n))return Ae(`Optional content group not found: ${n}`),!0;if(!c(this,$e).get(n).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const n of e.ids){if(!c(this,$e).has(n))return Ae(`Optional content group not found: ${n}`),!0;if(!c(this,$e).get(n).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const n of e.ids){if(!c(this,$e).has(n))return Ae(`Optional content group not found: ${n}`),!0;if(c(this,$e).get(n).visible)return!1}return!0}return Ae(`Unknown optional content policy ${e.policy}.`),!0}return Ae(`Unknown group type ${e.type}.`),!0}setVisibility(e,n=!0){const i=c(this,$e).get(e);if(!i){Ae(`Optional content group not found: ${e}`);return}i._setVisible(Br,!!n,!0),_(this,Xs,null)}setOCGState({state:e,preserveRB:n}){let i;for(const r of e){switch(r){case"ON":case"OFF":case"Toggle":i=r;continue}const s=c(this,$e).get(r);if(s)switch(i){case"ON":s._setVisible(Br,!0);break;case"OFF":s._setVisible(Br,!1);break;case"Toggle":s._setVisible(Br,!s.visible);break}}_(this,Xs,null)}get hasInitialVisibility(){return c(this,eu)===null||this.getHash()===c(this,eu)}getOrder(){return c(this,$e).size?c(this,tu)?c(this,tu).slice():[...c(this,$e).keys()]:null}getGroups(){return c(this,$e).size>0?Hx(c(this,$e)):null}getGroup(e){return c(this,$e).get(e)||null}getHash(){if(c(this,Xs)!==null)return c(this,Xs);const e=new yP;for(const[n,i]of c(this,$e))e.update(`${n}:${i.visible}`);return _(this,Xs,e.hexdigest())}}Xs=new WeakMap,$e=new WeakMap,eu=new WeakMap,tu=new WeakMap,Xg=new WeakSet,iw=function(t){const e=t.length;if(e<2)return!0;const n=t[0];for(let i=1;i<e;i++){const r=t[i];let s;if(Array.isArray(r))s=k(this,Xg,iw).call(this,r);else if(c(this,$e).has(r))s=c(this,$e).get(r).visible;else return Ae(`Optional content group not found: ${r}`),!0;switch(n){case"And":if(!s)return!1;break;case"Or":if(s)return!0;break;case"Not":return!s;default:return!0}}return n==="And"};class Aj{constructor(e,{disableRange:n=!1,disableStream:i=!1}){ft(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:s,progressiveDone:o,contentDispositionFilename:a}=e;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=a,(s==null?void 0:s.length)>0){const l=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!i,this._isRangeSupported=!n,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,h)=>{this._onReceiveData({begin:l,chunk:h})}),e.addProgressListener((l,h)=>{this._onProgress({loaded:l,total:h})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:n}){const i=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{const r=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(i),!0)});ft(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var n,i,r,s;e.total===void 0?(i=(n=this._rangeReaders[0])==null?void 0:n.onProgress)==null||i.call(n,{loaded:e.loaded}):(s=(r=this._fullRequestReader)==null?void 0:r.onProgress)==null||s.call(r,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const n=this._rangeReaders.indexOf(e);n>=0&&this._rangeReaders.splice(n,1)}getFullReader(){ft(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new Ej(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const i=new kj(this,e,n);return this._pdfDataRangeTransport.requestDataRange(e,n),this._rangeReaders.push(i),i}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const i of this._rangeReaders.slice(0))i.cancel(e);this._pdfDataRangeTransport.abort()}}class Ej{constructor(e,n,i=!1,r=null){this._stream=e,this._done=i||!1,this._filename=Kx(r)?r:null,this._queuedChunks=n||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class kj{constructor(e,n,i){this._stream=e,this._begin=n,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function _j(t){let e=!0,n=i("filename\\*","i").exec(t);if(n){n=n[1];let u=a(n);return u=unescape(u),u=l(u),u=h(u),s(u)}if(n=o(t),n){const u=h(n);return s(u)}if(n=i("filename","i").exec(t),n){n=n[1];let u=a(n);return u=h(u),s(u)}function i(u,f){return new RegExp("(?:^|;)\\s*"+u+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',f)}function r(u,f){if(u){if(!/^[\x00-\xFF]+$/.test(f))return f;try{const p=new TextDecoder(u,{fatal:!0}),m=s0(f);f=p.decode(m),e=!1}catch{}}return f}function s(u){return e&&/[\x80-\xff]/.test(u)&&(u=r("utf-8",u),e&&(u=r("iso-8859-1",u))),u}function o(u){const f=[];let p;const m=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(p=m.exec(u))!==null;){let[,A,b,w]=p;if(A=parseInt(A,10),A in f){if(A===0)break;continue}f[A]=[b,w]}const y=[];for(let A=0;A<f.length&&A in f;++A){let[b,w]=f[A];w=a(w),b&&(w=unescape(w),A===0&&(w=l(w))),y.push(w)}return y.join("")}function a(u){if(u.startsWith('"')){const f=u.slice(1).split('\\"');for(let p=0;p<f.length;++p){const m=f[p].indexOf('"');m!==-1&&(f[p]=f[p].slice(0,m),f.length=p+1),f[p]=f[p].replaceAll(/\\(.)/g,"$1")}u=f.join('"')}return u}function l(u){const f=u.indexOf("'");if(f===-1)return u;const p=u.slice(0,f),m=u.slice(f+1).replace(/^[^']*'/,"");return r(p,m)}function h(u){return!u.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(u)?u:u.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(f,p,m,y){if(m==="q"||m==="Q")return y=y.replaceAll("_"," "),y=y.replaceAll(/=([0-9a-fA-F]{2})/g,function(A,b){return String.fromCharCode(parseInt(b,16))}),r(p,y);try{y=atob(y)}catch{}return r(p,y)})}return""}function Zx({getResponseHeader:t,isHttp:e,rangeChunkSize:n,disableRange:i}){const r={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(t("Content-Length"),10);return!Number.isInteger(s)||(r.suggestedLength=s,s<=2*n)||i||!e||t("Accept-Ranges")!=="bytes"||(t("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function Jx(t){const e=t("Content-Disposition");if(e){let n=_j(e);if(n.includes("%"))try{n=decodeURIComponent(n)}catch{}if(Kx(n))return n}return null}function h0(t,e){return t===404||t===0&&e.startsWith("file:")?new Zo('Missing PDF "'+e+'".'):new r0(`Unexpected server response (${t}) while retrieving PDF "${e}".`,t)}function CP(t){return t===200||t===206}function PP(t,e,n){return{method:"GET",headers:t,signal:n.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function TP(t){const e=new Headers;for(const n in t){const i=t[n];i!==void 0&&e.append(n,i)}return e}function RP(t){return t instanceof Uint8Array?t.buffer:t instanceof ArrayBuffer?t:(Ae(`getArrayBuffer - unexpected data format: ${t}`),new Uint8Array(t).buffer)}class Ek{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return ft(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new bj(this),this._fullRequestReader}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const i=new Cj(this,e,n);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class bj{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const n=e.source;this._withCredentials=n.withCredentials||!1,this._contentLength=n.length,this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._headers=TP(this._stream.httpHeaders);const i=n.url;fetch(i,PP(this._headers,this._withCredentials,this._abortController)).then(r=>{if(!CP(r.status))throw h0(r.status,i);this._reader=r.body.getReader(),this._headersCapability.resolve();const s=l=>r.headers.get(l),{allowRangeRequests:o,suggestedLength:a}=Zx({getResponseHeader:s,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=a||this._contentLength,this._filename=Jx(s),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Jo("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var e;await this._headersCapability.promise;const{value:n,done:i}=await this._reader.read();return i?{value:n,done:i}:(this._loaded+=n.byteLength,(e=this.onProgress)==null||e.call(this,{loaded:this._loaded,total:this._contentLength}),{value:RP(n),done:!1})}cancel(e){var n;(n=this._reader)==null||n.cancel(e),this._abortController.abort()}}class Cj{constructor(e,n,i){this._stream=e,this._reader=null,this._loaded=0;const r=e.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController,this._headers=TP(this._stream.httpHeaders),this._headers.append("Range",`bytes=${n}-${i-1}`);const s=r.url;fetch(s,PP(this._headers,this._withCredentials,this._abortController)).then(o=>{if(!CP(o.status))throw h0(o.status,s);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var e;await this._readCapability.promise;const{value:n,done:i}=await this._reader.read();return i?{value:n,done:i}:(this._loaded+=n.byteLength,(e=this.onProgress)==null||e.call(this,{loaded:this._loaded}),{value:RP(n),done:!1})}cancel(e){var n;(n=this._reader)==null||n.cancel(e),this._abortController.abort()}}const Ev=200,kv=206;function Pj(t){const e=t.response;return typeof e!="string"?e:s0(e).buffer}class Tj{constructor(e,n={}){this.url=e,this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&n.httpHeaders||Object.create(null),this.withCredentials=n.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,n,i){const r={begin:e,end:n};for(const s in i)r[s]=i[s];return this.request(r)}requestFull(e){return this.request(e)}request(e){const n=new XMLHttpRequest,i=this.currXhrId++,r=this.pendingRequests[i]={xhr:n};n.open("GET",this.url),n.withCredentials=this.withCredentials;for(const s in this.httpHeaders){const o=this.httpHeaders[s];o!==void 0&&n.setRequestHeader(s,o)}return this.isHttp&&"begin"in e&&"end"in e?(n.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),r.expectedStatus=kv):r.expectedStatus=Ev,n.responseType="arraybuffer",e.onError&&(n.onerror=function(s){e.onError(n.status)}),n.onreadystatechange=this.onStateChange.bind(this,i),n.onprogress=this.onProgress.bind(this,i),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,n.send(null),i}onProgress(e,n){var i;const r=this.pendingRequests[e];r&&((i=r.onProgress)==null||i.call(r,n))}onStateChange(e,n){var i,r,s;const o=this.pendingRequests[e];if(!o)return;const a=o.xhr;if(a.readyState>=2&&o.onHeadersReceived&&(o.onHeadersReceived(),delete o.onHeadersReceived),a.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],a.status===0&&this.isHttp){(i=o.onError)==null||i.call(o,a.status);return}const l=a.status||Ev;if(!(l===Ev&&o.expectedStatus===kv)&&l!==o.expectedStatus){(r=o.onError)==null||r.call(o,a.status);return}const h=Pj(a);if(l===kv){const u=a.getResponseHeader("Content-Range"),f=/bytes (\d+)-(\d+)\/(\d+)/.exec(u);o.onDone({begin:parseInt(f[1],10),chunk:h})}else h?o.onDone({begin:0,chunk:h}):(s=o.onError)==null||s.call(o,a.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const n=this.pendingRequests[e].xhr;delete this.pendingRequests[e],n.abort()}}class Rj{constructor(e){this._source=e,this._manager=new Tj(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const n=this._rangeRequestReaders.indexOf(e);n>=0&&this._rangeRequestReaders.splice(n,1)}getFullReader(){return ft(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new Mj(this._manager,this._source),this._fullRequestReader}getRangeReader(e,n){const i=new Lj(this._manager,e,n);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class Mj{constructor(e,n){this._manager=e;const i={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=n.url,this._fullRequestId=e.requestFull(i),this._headersReceivedCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._contentLength=n.length,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,n=this._manager.getRequestXhr(e),i=o=>n.getResponseHeader(o),{allowRangeRequests:r,suggestedLength:s}=Zx({getResponseHeader:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=Jx(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=h0(e,this._url),this._headersReceivedCapability.reject(this._storedError);for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var n;(n=this.onProgress)==null||n.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersReceivedCapability.reject(e);for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class Lj{constructor(e,n,i){this._manager=e;const r={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(n,i,r),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const n=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:n,done:!1}):this._queuedChunk=n,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=h0(e,this._url);for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var n;this.isStreamingSupported||(n=this.onProgress)==null||n.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const MP=/^file:\/\/\/[a-zA-Z]:\//;function Ij(t){const e=Wi.get("url"),n=e.parse(t);return n.protocol==="file:"||n.host?n:/^[a-z]:[/\\]/i.test(t)?e.parse(`file:///${t}`):(n.host||(n.protocol="file:"),n)}class Nj{constructor(e){this.source=e,this.url=Ij(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return ft(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new $j(this):new Dj(this),this._fullRequestReader}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const i=this.isFsUrl?new Fj(this,e,n):new Oj(this,e,n);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class LP{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const n=e.source;this._contentLength=n.length,this._loaded=0,this._filename=null,this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var e;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const n=this._readableStream.read();return n===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=n.length,(e=this.onProgress)==null||e.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(n).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",n=>{this._error(n)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Jo("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class IP{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const n=e.source;this._isStreamingSupported=!n.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var e;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const n=this._readableStream.read();return n===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=n.length,(e=this.onProgress)==null||e.call(this,{loaded:this._loaded}),{value:new Uint8Array(n).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",n=>{this._error(n)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function Qg(t,e){return{protocol:t.protocol,auth:t.auth,host:t.hostname,port:t.port,path:t.path,method:"GET",headers:e}}class Dj extends LP{constructor(e){super(e);const n=i=>{if(i.statusCode===404){const a=new Zo(`Missing PDF "${this._url}".`);this._storedError=a,this._headersCapability.reject(a);return}this._headersCapability.resolve(),this._setReadableStream(i);const r=a=>this._readableStream.headers[a.toLowerCase()],{allowRangeRequests:s,suggestedLength:o}=Zx({getResponseHeader:r,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=s,this._contentLength=o||this._contentLength,this._filename=Jx(r)};if(this._request=null,this._url.protocol==="http:"){const i=Wi.get("http");this._request=i.request(Qg(this._url,e.httpHeaders),n)}else{const i=Wi.get("https");this._request=i.request(Qg(this._url,e.httpHeaders),n)}this._request.on("error",i=>{this._storedError=i,this._headersCapability.reject(i)}),this._request.end()}}class Oj extends IP{constructor(e,n,i){super(e),this._httpHeaders={};for(const s in e.httpHeaders){const o=e.httpHeaders[s];o!==void 0&&(this._httpHeaders[s]=o)}this._httpHeaders.Range=`bytes=${n}-${i-1}`;const r=s=>{if(s.statusCode===404){const o=new Zo(`Missing PDF "${this._url}".`);this._storedError=o;return}this._setReadableStream(s)};if(this._request=null,this._url.protocol==="http:"){const s=Wi.get("http");this._request=s.request(Qg(this._url,this._httpHeaders),r)}else{const s=Wi.get("https");this._request=s.request(Qg(this._url,this._httpHeaders),r)}this._request.on("error",s=>{this._storedError=s}),this._request.end()}}class $j extends LP{constructor(e){super(e);let n=decodeURIComponent(this._url.path);MP.test(this._url.href)&&(n=n.replace(/^\//,""));const i=Wi.get("fs");i.promises.lstat(n).then(r=>{this._contentLength=r.size,this._setReadableStream(i.createReadStream(n)),this._headersCapability.resolve()},r=>{r.code==="ENOENT"&&(r=new Zo(`Missing PDF "${n}".`)),this._storedError=r,this._headersCapability.reject(r)})}}class Fj extends IP{constructor(e,n,i){super(e);let r=decodeURIComponent(this._url.path);MP.test(this._url.href)&&(r=r.replace(/^\//,""));const s=Wi.get("fs");this._setReadableStream(s.createReadStream(r,{start:n,end:i-1}))}}const jj=1e5,un=30,Wj=.8;var kk,js,_n,bd,Cd,Ws,Nr,Pd,Td,sa,yc,wc,Bs,Sc,Rd,xc,oa,Md,Ld,Fn,aa,la,Ac,_v,_k,bv,bk,Id,Cv,Ec,Nd,Pv,Ck;let Zg=(Fn=class{constructor({textContentSource:t,container:e,viewport:n}){if(v(this,_v),v(this,bv),v(this,Id),v(this,js,Promise.withResolvers()),v(this,_n,null),v(this,bd,!1),v(this,Cd,!!((kk=globalThis.FontInspector)!=null&&kk.enabled)),v(this,Ws,null),v(this,Nr,null),v(this,Pd,0),v(this,Td,0),v(this,sa,null),v(this,yc,null),v(this,wc,0),v(this,Bs,0),v(this,Sc,Object.create(null)),v(this,Rd,[]),v(this,xc,null),v(this,oa,[]),v(this,Md,new WeakMap),v(this,Ld,null),t instanceof ReadableStream)_(this,xc,t);else if(typeof t=="object")_(this,xc,new ReadableStream({start(a){a.enqueue(t),a.close()}}));else throw new Error('No "textContentSource" parameter specified.');_(this,_n,_(this,yc,e)),_(this,Bs,n.scale*(globalThis.devicePixelRatio||1)),_(this,wc,n.rotation),_(this,Nr,{prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:r,pageX:s,pageY:o}=n.rawDims;_(this,Ld,[1,0,0,-1,-s,o+r]),_(this,Td,i),_(this,Pd,r),Ho(e,n),c(this,js).promise.catch(()=>{}).then(()=>{c(Fn,Ac).delete(this),_(this,Nr,null),_(this,Sc,null)})}render(){const t=()=>{c(this,sa).read().then(({value:e,done:n})=>{if(n){c(this,js).resolve();return}c(this,Ws)??_(this,Ws,e.lang),Object.assign(c(this,Sc),e.styles),k(this,_v,_k).call(this,e.items),t()},c(this,js).reject)};return _(this,sa,c(this,xc).getReader()),c(Fn,Ac).add(this),t(),c(this,js).promise}update({viewport:t,onBefore:e=null}){var n;const i=t.scale*(globalThis.devicePixelRatio||1),r=t.rotation;if(r!==c(this,wc)&&(e==null||e(),_(this,wc,r),Ho(c(this,yc),{rotation:r})),i!==c(this,Bs)){e==null||e(),_(this,Bs,i);const s={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:k(n=Fn,Ec,Nd).call(n,c(this,Ws))};for(const o of c(this,oa))s.properties=c(this,Md).get(o),s.div=o,k(this,Id,Cv).call(this,s)}}cancel(){var t;const e=new Jo("TextLayer task cancelled.");(t=c(this,sa))==null||t.cancel(e).catch(()=>{}),_(this,sa,null),c(this,js).reject(e)}get textDivs(){return c(this,oa)}get textContentItemsStr(){return c(this,Rd)}static cleanup(){if(!(c(this,Ac).size>0)){c(this,aa).clear();for(const{canvas:t}of c(this,la).values())t.remove();c(this,la).clear()}}},js=new WeakMap,_n=new WeakMap,bd=new WeakMap,Cd=new WeakMap,Ws=new WeakMap,Nr=new WeakMap,Pd=new WeakMap,Td=new WeakMap,sa=new WeakMap,yc=new WeakMap,wc=new WeakMap,Bs=new WeakMap,Sc=new WeakMap,Rd=new WeakMap,xc=new WeakMap,oa=new WeakMap,Md=new WeakMap,Ld=new WeakMap,aa=new WeakMap,la=new WeakMap,Ac=new WeakMap,_v=new WeakSet,_k=function(t){var e,n;if(c(this,bd))return;(n=c(this,Nr)).ctx||(n.ctx=k(e=Fn,Ec,Nd).call(e,c(this,Ws)));const i=c(this,oa),r=c(this,Rd);for(const s of t){if(i.length>jj){Ae("Ignoring additional textDivs for performance reasons."),_(this,bd,!0);return}if(s.str===void 0){if(s.type==="beginMarkedContentProps"||s.type==="beginMarkedContent"){const o=c(this,_n);_(this,_n,document.createElement("span")),c(this,_n).classList.add("markedContent"),s.id!==null&&c(this,_n).setAttribute("id",`${s.id}`),o.append(c(this,_n))}else s.type==="endMarkedContent"&&_(this,_n,c(this,_n).parentNode);continue}r.push(s.str),k(this,bv,bk).call(this,s)}},bv=new WeakSet,bk=function(t){var e;const n=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};c(this,oa).push(n);const r=ae.transform(c(this,Ld),t.transform);let s=Math.atan2(r[1],r[0]);const o=c(this,Sc)[t.fontName];o.vertical&&(s+=Math.PI/2);const a=c(this,Cd)&&o.fontSubstitution||o.fontFamily,l=Math.hypot(r[2],r[3]),h=l*k(e=Fn,Pv,Ck).call(e,a,c(this,Ws));let u,f;s===0?(u=r[4],f=r[5]-h):(u=r[4]+h*Math.sin(s),f=r[5]-h*Math.cos(s));const p="calc(var(--scale-factor)*",m=n.style;c(this,_n)===c(this,yc)?(m.left=`${(100*u/c(this,Td)).toFixed(2)}%`,m.top=`${(100*f/c(this,Pd)).toFixed(2)}%`):(m.left=`${p}${u.toFixed(2)}px)`,m.top=`${p}${f.toFixed(2)}px)`),m.fontSize=`${p}${l.toFixed(2)}px)`,m.fontFamily=a,i.fontSize=l,n.setAttribute("role","presentation"),n.textContent=t.str,n.dir=t.dir,c(this,Cd)&&(n.dataset.fontName=o.fontSubstitutionLoadedName||t.fontName),s!==0&&(i.angle=s*(180/Math.PI));let y=!1;if(t.str.length>1)y=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const A=Math.abs(t.transform[0]),b=Math.abs(t.transform[3]);A!==b&&Math.max(A,b)/Math.min(A,b)>1.5&&(y=!0)}if(y&&(i.canvasWidth=o.vertical?t.height:t.width),c(this,Md).set(n,i),c(this,Nr).div=n,c(this,Nr).properties=i,k(this,Id,Cv).call(this,c(this,Nr)),i.hasText&&c(this,_n).append(n),i.hasEOL){const A=document.createElement("br");A.setAttribute("role","presentation"),c(this,_n).append(A)}},Id=new WeakSet,Cv=function(t){const{div:e,properties:n,ctx:i,prevFontSize:r,prevFontFamily:s}=t,{style:o}=e;let a="";if(n.canvasWidth!==0&&n.hasText){const{fontFamily:l}=o,{canvasWidth:h,fontSize:u}=n;(r!==u||s!==l)&&(i.font=`${u*c(this,Bs)}px ${l}`,t.prevFontSize=u,t.prevFontFamily=l);const{width:f}=i.measureText(e.textContent);f>0&&(a=`scaleX(${h*c(this,Bs)/f})`)}n.angle!==0&&(a=`rotate(${n.angle}deg) ${a}`),a.length>0&&(o.transform=a)},Ec=new WeakSet,Nd=function(t=null){let e=c(this,la).get(t||(t=""));if(!e){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=t,document.body.append(n),e=n.getContext("2d",{alpha:!1}),c(this,la).set(t,e)}return e},Pv=new WeakSet,Ck=function(t,e){const n=c(this,aa).get(t);if(n)return n;const i=k(this,Ec,Nd).call(this,e),r=i.font;i.canvas.width=i.canvas.height=un,i.font=`${un}px ${t}`;const s=i.measureText("");let o=s.fontBoundingBoxAscent,a=Math.abs(s.fontBoundingBoxDescent);if(o){const u=o/(o+a);return c(this,aa).set(t,u),i.canvas.width=i.canvas.height=0,i.font=r,u}i.strokeStyle="red",i.clearRect(0,0,un,un),i.strokeText("g",0,0);let l=i.getImageData(0,0,un,un).data;a=0;for(let u=l.length-1-3;u>=0;u-=4)if(l[u]>0){a=Math.ceil(u/4/un);break}i.clearRect(0,0,un,un),i.strokeText("A",0,un),l=i.getImageData(0,0,un,un).data,o=0;for(let u=0,f=l.length;u<f;u+=4)if(l[u]>0){o=un-Math.floor(u/4/un);break}i.canvas.width=i.canvas.height=0,i.font=r;const h=o?o/(o+a):Wj;return c(this,aa).set(t,h),h},v(Fn,Ec),v(Fn,Pv),v(Fn,aa,new Map),v(Fn,la,new Map),v(Fn,Ac,new Set),Fn);function Bj(){Y2("`renderTextLayer`, please use `TextLayer` instead.");const{textContentSource:t,container:e,viewport:n,...i}=arguments[0],r=Object.keys(i);r.length>0&&Ae("Ignoring `renderTextLayer` parameters: "+r.join(", "));const s=new Zg({textContentSource:t,container:e,viewport:n}),{textDivs:o,textContentItemsStr:a}=s;return{promise:s.render(),textDivs:o,textContentItemsStr:a}}function zj(){Y2("`updateTextLayer`, please use `TextLayer` instead.")}class Lh{static textContent(e){const n=[],i={items:n,styles:Object.create(null)};function r(s){var o;if(!s)return;let a=null;const l=s.name;if(l==="#text")a=s.value;else if(Lh.shouldBuildText(l))(o=s==null?void 0:s.attributes)!=null&&o.textContent?a=s.attributes.textContent:s.value&&(a=s.value);else return;if(a!==null&&n.push({str:a}),!!s.children)for(const h of s.children)r(h)}return r(e),i}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const Uj=65536,Hj=100,Vj=5e3,Gj=Qt?tj:j5,qj=Qt?nj:G2,Yj=Qt?ej:F5,Kj=Qt?ij:q2;function Xj(t){if(typeof t=="string"||t instanceof URL?t={url:t}:(t instanceof ArrayBuffer||ArrayBuffer.isView(t))&&(t={data:t}),typeof t!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!t.url&&!t.data&&!t.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const e=new Jj,{docId:n}=e,i=t.url?Qj(t.url):null,r=t.data?Zj(t.data):null,s=t.httpHeaders||null,o=t.withCredentials===!0,a=t.password??null,l=t.range instanceof OP?t.range:null,h=Number.isInteger(t.rangeChunkSize)&&t.rangeChunkSize>0?t.rangeChunkSize:Uj;let u=t.worker instanceof sp?t.worker:null;const f=t.verbosity,p=typeof t.docBaseUrl=="string"&&!Yx(t.docBaseUrl)?t.docBaseUrl:null,m=typeof t.cMapUrl=="string"?t.cMapUrl:null,y=t.cMapPacked!==!1,A=t.CMapReaderFactory||qj,b=typeof t.standardFontDataUrl=="string"?t.standardFontDataUrl:null,w=t.StandardFontDataFactory||Kj,S=t.stopAtErrors!==!0,E=Number.isInteger(t.maxImageSize)&&t.maxImageSize>-1?t.maxImageSize:-1,T=t.isEvalSupported!==!1,R=typeof t.isOffscreenCanvasSupported=="boolean"?t.isOffscreenCanvasSupported:!Qt,I=Number.isInteger(t.canvasMaxAreaInBytes)?t.canvasMaxAreaInBytes:-1,M=typeof t.disableFontFace=="boolean"?t.disableFontFace:Qt,C=t.fontExtraProperties===!0,P=t.enableXfa===!0,N=t.ownerDocument||globalThis.document,$=t.disableRange===!0,z=t.disableStream===!0,U=t.disableAutoFetch===!0,Q=t.pdfBug===!0,ee=l?l.length:t.length??NaN,G=typeof t.useSystemFonts=="boolean"?t.useSystemFonts:!Qt&&!M,F=typeof t.useWorkerFetch=="boolean"?t.useWorkerFetch:A===G2&&w===q2&&m&&b&&$c(m,document.baseURI)&&$c(b,document.baseURI),H=t.canvasFactory||new Gj({ownerDocument:N}),W=t.filterFactory||new Yj({docId:n,ownerDocument:N}),K=null;C5(f);const ne={canvasFactory:H,filterFactory:W};if(F||(ne.cMapReaderFactory=new A({baseUrl:m,isCompressed:y}),ne.standardFontDataFactory=new w({baseUrl:b})),!u){const te={verbosity:f,port:Rs.workerPort};u=te.port?sp.fromPort(te):new sp(te),e._worker=u}const B={docId:n,apiVersion:"4.3.136",data:r,password:a,disableAutoFetch:U,rangeChunkSize:h,length:ee,docBaseUrl:p,enableXfa:P,evaluatorOptions:{maxImageSize:E,disableFontFace:M,ignoreErrors:S,isEvalSupported:T,isOffscreenCanvasSupported:R,canvasMaxAreaInBytes:I,fontExtraProperties:C,useSystemFonts:G,cMapUrl:F?m:null,standardFontDataUrl:F?b:null}},oe={disableFontFace:M,fontExtraProperties:C,ownerDocument:N,pdfBug:Q,styleElement:K,loadingParams:{disableAutoFetch:U,enableXfa:P}};return u.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const te=u.messageHandler.sendWithPromise("GetDocRequest",B,r?[r.buffer]:null);let ie;return l?ie=new Aj(l,{disableRange:$,disableStream:z}):r||(ie=(le=>Qt?function(){return typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype}()&&$c(le.url)?new Ek(le):new Nj(le):$c(le.url)?new Ek(le):new Rj(le))({url:i,length:ee,httpHeaders:s,withCredentials:o,rangeChunkSize:h,disableRange:$,disableStream:z})),te.then(le=>{if(e.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const re=new Zc(n,le,u.port),xe=new i6(re,e,ie,oe,ne);e._transport=xe,re.send("Ready",null)})}).catch(e._capability.reject),e}function Qj(t){if(t instanceof URL)return t.href;try{return new URL(t,window.location).href}catch{if(Qt&&typeof t=="string")return t}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function Zj(t){if(Qt&&typeof Q1<"u"&&t instanceof Q1)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength)return t;if(typeof t=="string")return s0(t);if(t instanceof ArrayBuffer||ArrayBuffer.isView(t)||typeof t=="object"&&!isNaN(t==null?void 0:t.length))return new Uint8Array(t);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Pk(t){return typeof t=="object"&&Number.isInteger(t==null?void 0:t.num)&&t.num>=0&&Number.isInteger(t==null?void 0:t.gen)&&t.gen>=0}var rw;const NP=class DP{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${Zn(DP,rw)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,n,i;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((n=this._transport)==null?void 0:n.destroy())}catch(r){throw(i=this._worker)!=null&&i.port&&delete this._worker._pendingDestroy,r}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};rw=new WeakMap,v(NP,rw,0);let Jj=NP,OP=class{constructor(t,e,n=!1,i=null){this.length=t,this.initialData=e,this.progressiveDone=n,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(t){this._rangeListeners.push(t)}addProgressListener(t){this._progressListeners.push(t)}addProgressiveReadListener(t){this._progressiveReadListeners.push(t)}addProgressiveDoneListener(t){this._progressiveDoneListeners.push(t)}onDataRange(t,e){for(const n of this._rangeListeners)n(t,e)}onDataProgress(t,e){this._readyCapability.promise.then(()=>{for(const n of this._progressListeners)n(t,e)})}onDataProgressiveRead(t){this._readyCapability.promise.then(()=>{for(const e of this._progressiveReadListeners)e(t)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const t of this._progressiveDoneListeners)t()})}transportReady(){this._readyCapability.resolve()}requestDataRange(t,e){Oe("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class e6{constructor(e,n){this._pdfInfo=e,this._transport=n}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Pe(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(n)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Qs,os,po,ll,Vu,Jg;class t6{constructor(e,n,i,r=!1){v(this,po),v(this,Vu),v(this,Qs,null),v(this,os,!1),this._pageIndex=e,this._pageInfo=n,this._transport=i,this._stats=r?new sk:null,this._pdfBug=r,this.commonObjs=i.commonObjs,this.objs=new $P,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:n=this.rotate,offsetX:i=0,offsetY:r=0,dontFlip:s=!1}={}){return new Bh({viewBox:this.view,scale:e,rotation:n,offsetX:i,offsetY:r,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,n)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Pe(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:n,intent:i="display",annotationMode:r=is.ENABLE,transform:s=null,background:o=null,optionalContentConfigPromise:a=null,annotationCanvasMap:l=null,pageColors:h=null,printAnnotationStorage:u=null}){var f,p;(f=this._stats)==null||f.time("Overall");const m=this._transport.getRenderingIntent(i,r,u),{renderingIntent:y,cacheKey:A}=m;_(this,os,!1),k(this,Vu,Jg).call(this),a||(a=this._transport.getOptionalContentConfig(y));let b=this._intentStates.get(A);b||(b=Object.create(null),this._intentStates.set(A,b)),b.streamReaderCancelTimeout&&(clearTimeout(b.streamReaderCancelTimeout),b.streamReaderCancelTimeout=null);const w=!!(y&Hn.PRINT);b.displayReadyCapability||(b.displayReadyCapability=Promise.withResolvers(),b.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(p=this._stats)==null||p.time("Page Request"),this._pumpOperatorList(m));const S=R=>{var I;b.renderTasks.delete(E),(this._maybeCleanupAfterRender||w)&&_(this,os,!0),k(this,po,ll).call(this,!w),R?(E.capability.reject(R),this._abortOperatorList({intentState:b,reason:R instanceof Error?R:new Error(R)})):E.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(I=globalThis.Stats)!=null&&I.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},E=new s6({callback:S,params:{canvasContext:e,viewport:n,transform:s,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:b.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!w,pdfBug:this._pdfBug,pageColors:h});(b.renderTasks||(b.renderTasks=new Set)).add(E);const T=E.task;return Promise.all([b.displayReadyCapability.promise,a]).then(([R,I])=>{var M;if(this.destroyed){S();return}if((M=this._stats)==null||M.time("Rendering"),!(I.renderingIntent&y))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");E.initializeGraphics({transparency:R,optionalContentConfig:I}),E.operatorListChanged()}).catch(S),T}getOperatorList({intent:e="display",annotationMode:n=is.ENABLE,printAnnotationStorage:i=null}={}){var r;function s(){a.operatorList.lastChunk&&(a.opListReadCapability.resolve(a.operatorList),a.renderTasks.delete(l))}const o=this._transport.getRenderingIntent(e,n,i,!0);let a=this._intentStates.get(o.cacheKey);a||(a=Object.create(null),this._intentStates.set(o.cacheKey,a));let l;return a.opListReadCapability||(l=Object.create(null),l.operatorListChanged=s,a.opListReadCapability=Promise.withResolvers(),(a.renderTasks||(a.renderTasks=new Set)).add(l),a.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(r=this._stats)==null||r.time("Page Request"),this._pumpOperatorList(o)),a.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:n=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:n===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>Lh.textContent(i));const n=this.streamTextContent(e);return new Promise(function(i,r){function s(){o.read().then(function({value:l,done:h}){if(h){i(a);return}a.lang??(a.lang=l.lang),Object.assign(a.styles,l.styles),a.items.push(...l.items),s()},r)}const o=n.getReader(),a={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const n of this._intentStates.values())if(this._abortOperatorList({intentState:n,reason:new Error("Page was destroyed."),force:!0}),!n.opListReadCapability)for(const i of n.renderTasks)e.push(i.completed),i.cancel();return this.objs.clear(),_(this,os,!1),k(this,Vu,Jg).call(this),Promise.all(e)}cleanup(e=!1){_(this,os,!0);const n=k(this,po,ll).call(this,!1);return e&&n&&this._stats&&(this._stats=new sk),n}_startRenderPage(e,n){var i,r;const s=this._intentStates.get(n);s&&((i=this._stats)==null||i.timeEnd("Page Request"),(r=s.displayReadyCapability)==null||r.resolve(e))}_renderPageChunk(e,n){for(let i=0,r=e.length;i<r;i++)n.operatorList.fnArray.push(e.fnArray[i]),n.operatorList.argsArray.push(e.argsArray[i]);n.operatorList.lastChunk=e.lastChunk,n.operatorList.separateAnnots=e.separateAnnots;for(const i of n.renderTasks)i.operatorListChanged();e.lastChunk&&k(this,po,ll).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:n,annotationStorageSerializable:i}){const{map:r,transfer:s}=i,o=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:n,annotationStorage:r},s).getReader(),a=this._intentStates.get(n);a.streamReader=o;const l=()=>{o.read().then(({value:h,done:u})=>{if(u){a.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(h,a),l())},h=>{if(a.streamReader=null,!this._transport.destroyed){if(a.operatorList){a.operatorList.lastChunk=!0;for(const u of a.renderTasks)u.operatorListChanged();k(this,po,ll).call(this,!0)}if(a.displayReadyCapability)a.displayReadyCapability.reject(h);else if(a.opListReadCapability)a.opListReadCapability.reject(h);else throw h}})};l()}_abortOperatorList({intentState:e,reason:n,force:i=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!i){if(e.renderTasks.size>0)return;if(n instanceof qx){let r=Hj;n.extraDelay>0&&n.extraDelay<1e3&&(r+=n.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:n,force:!0})},r);return}}if(e.streamReader.cancel(new Jo(n.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[r,s]of this._intentStates)if(s===e){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}Qs=new WeakMap,os=new WeakMap,po=new WeakSet,ll=function(t=!1){if(k(this,Vu,Jg).call(this),!c(this,os)||this.destroyed)return!1;if(t)return _(this,Qs,setTimeout(()=>{_(this,Qs,null),k(this,po,ll).call(this,!1)},Vj)),!1;for(const{renderTasks:e,operatorList:n}of this._intentStates.values())if(e.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),_(this,os,!1),!0},Vu=new WeakSet,Jg=function(){c(this,Qs)&&(clearTimeout(c(this,Qs)),_(this,Qs,null))};var Pa,sw;class n6{constructor(){v(this,Pa,new Set),v(this,sw,Promise.resolve())}postMessage(e,n){const i={data:structuredClone(e,n?{transfer:n}:null)};c(this,sw).then(()=>{for(const r of c(this,Pa))r.call(this,i)})}addEventListener(e,n){c(this,Pa).add(n)}removeEventListener(e,n){c(this,Pa).delete(n)}terminate(){c(this,Pa).clear()}}Pa=new WeakMap,sw=new WeakMap;const ur={isWorkerDisabled:!1,fakeWorkerId:0};Qt&&(ur.isWorkerDisabled=!0,Rs.workerSrc||(Rs.workerSrc="./pdf.worker.mjs")),ur.isSameOrigin=function(t,e){let n;try{if(n=new URL(t),!n.origin||n.origin==="null")return!1}catch{return!1}const i=new URL(e,n);return n.origin===i.origin},ur.createCDNWrapper=function(t){const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};var go,Gu,rp;const ow=class Zi{constructor({name:e=null,port:n=null,verbosity:i=P5()}={}){var r;if(this.name=e,this.destroyed=!1,this.verbosity=i,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,n){if((r=c(Zi,go))!=null&&r.has(n))throw new Error("Cannot use more than one PDFWorker per port.");(c(Zi,go)||_(Zi,go,new WeakMap)).set(n,this),this._initializeFromPort(n);return}this._initialize()}get promise(){return Qt?Promise.all([Wi.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new Zc("main","worker",e),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!ur.isWorkerDisabled&&!c(Zi,Gu,rp)){let{workerSrc:e}=Zi;try{ur.isSameOrigin(window.location.href,e)||(e=ur.createCDNWrapper(new URL(e,window.location).href));const n=new Worker(e,{type:"module"}),i=new Zc("main","worker",n),r=()=>{n.removeEventListener("error",s),i.destroy(),n.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},s=()=>{this._webWorker||r()};n.addEventListener("error",s),i.on("test",a=>{if(n.removeEventListener("error",s),this.destroyed){r();return}a?(this._messageHandler=i,this._port=n,this._webWorker=n,this._readyCapability.resolve(),i.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),i.destroy(),n.terminate())}),i.on("ready",a=>{if(n.removeEventListener("error",s),this.destroyed){r();return}try{o()}catch{this._setupFakeWorker()}});const o=()=>{const a=new Uint8Array;i.send("test",a,[a.buffer])};o();return}catch{i0("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){ur.isWorkerDisabled||(Ae("Setting up fake worker."),ur.isWorkerDisabled=!0),Zi._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const n=new n6;this._port=n;const i=`fake${ur.fakeWorkerId++}`,r=new Zc(i+"_worker",i,n);e.setup(r,n);const s=new Zc(i,i+"_worker",n);this._messageHandler=s,this._readyCapability.resolve(),s.send("configure",{verbosity:this.verbosity})}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(e=c(Zi,go))==null||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var n;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const i=(n=c(this,go))==null?void 0:n.get(e.port);if(i){if(i._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return i}return new Zi(e)}static get workerSrc(){if(Rs.workerSrc)return Rs.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Pe(this,"_setupFakeWorkerGlobal",(async()=>c(this,Gu,rp)?c(this,Gu,rp):(await import(this.workerSrc)).WorkerMessageHandler)())}};go=new WeakMap,Gu=new WeakSet,rp=function(){var t;try{return((t=globalThis.pdfjsWorker)==null?void 0:t.WorkerMessageHandler)||null}catch{return null}},v(ow,Gu),v(ow,go,void 0);let sp=ow;var as,Ji,nu,iu,er,Ta,ru;class i6{constructor(e,n,i,r,s){v(this,Ta),v(this,as,new Map),v(this,Ji,new Map),v(this,nu,new Map),v(this,iu,new Map),v(this,er,null),this.messageHandler=e,this.loadingTask=n,this.commonObjs=new $P,this.fontLoader=new Z5({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Pe(this,"annotationStorage",new Qx)}getRenderingIntent(e,n=is.ENABLE,i=null,r=!1){let s=Hn.DISPLAY,o=Ky;switch(e){case"any":s=Hn.ANY;break;case"display":break;case"print":s=Hn.PRINT;break;default:Ae(`getRenderingIntent - invalid intent: ${e}`)}switch(n){case is.DISABLE:s+=Hn.ANNOTATIONS_DISABLE;break;case is.ENABLE:break;case is.ENABLE_FORMS:s+=Hn.ANNOTATIONS_FORMS;break;case is.ENABLE_STORAGE:s+=Hn.ANNOTATIONS_STORAGE,o=(s&Hn.PRINT&&i instanceof SP?i:this.annotationStorage).serializable;break;default:Ae(`getRenderingIntent - invalid annotationMode: ${n}`)}return r&&(s+=Hn.OPLIST),{renderingIntent:s,cacheKey:`${s}_${o.hash}`,annotationStorageSerializable:o}}destroy(){var e;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(e=c(this,er))==null||e.reject(new Error("Worker was destroyed during onPassword callback"));const n=[];for(const r of c(this,Ji).values())n.push(r._destroy());c(this,Ji).clear(),c(this,nu).clear(),c(this,iu).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const i=this.messageHandler.sendWithPromise("Terminate",null);return n.push(i),Promise.all(n).then(()=>{var r;this.commonObjs.clear(),this.fontLoader.clear(),c(this,as).clear(),this.filterFactory.destroy(),Zg.cleanup(),(r=this._networkStream)==null||r.cancelAllRequests(new Jo("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:n}=this;e.on("GetReader",(i,r)=>{ft(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},r.onPull=()=>{this._fullReader.read().then(function({value:s,done:o}){if(o){r.close();return}ft(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{r.error(s)})},r.onCancel=s=>{this._fullReader.cancel(s),r.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("ReaderHeadersReady",i=>{const r=Promise.withResolvers(),s=this._fullReader;return s.headersReady.then(()=>{var o;(!s.isStreamingSupported||!s.isRangeSupported)&&(this._lastProgress&&((o=n.onProgress)==null||o.call(n,this._lastProgress)),s.onProgress=a=>{var l;(l=n.onProgress)==null||l.call(n,{loaded:a.loaded,total:a.total})}),r.resolve({isStreamingSupported:s.isStreamingSupported,isRangeSupported:s.isRangeSupported,contentLength:s.contentLength})},r.reject),r.promise}),e.on("GetRangeReader",(i,r)=>{ft(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(i.begin,i.end);if(!s){r.close();return}r.onPull=()=>{s.read().then(function({value:o,done:a}){if(a){r.close();return}ft(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{r.error(o)})},r.onCancel=o=>{s.cancel(o),r.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,n._capability.resolve(new e6(i,this))}),e.on("DocException",function(i){let r;switch(i.name){case"PasswordException":r=new ey(i.message,i.code);break;case"InvalidPDFException":r=new z2(i.message);break;case"MissingPDFException":r=new Zo(i.message);break;case"UnexpectedResponseException":r=new r0(i.message,i.status);break;case"UnknownErrorException":r=new ty(i.message,i.details);break;default:Oe("DocException - expected a valid Error.")}n._capability.reject(r)}),e.on("PasswordRequest",i=>{if(_(this,er,Promise.withResolvers()),n.onPassword){const r=s=>{s instanceof Error?c(this,er).reject(s):c(this,er).resolve({password:s})};try{n.onPassword(r,i.code)}catch(s){c(this,er).reject(s)}}else c(this,er).reject(new ey(i.message,i.code));return c(this,er).promise}),e.on("DataLoaded",i=>{var r;(r=n.onProgress)==null||r.call(n,{loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),e.on("StartRenderPage",i=>{this.destroyed||c(this,Ji).get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),e.on("commonobj",([i,r,s])=>{var o;if(this.destroyed||this.commonObjs.has(i))return null;switch(r){case"Font":const{disableFontFace:a,fontExtraProperties:l,pdfBug:h}=this._params;if("error"in s){const m=s.error;Ae(`Error during font loading: ${m}`),this.commonObjs.resolve(i,m);break}const u=h&&(o=globalThis.FontInspector)!=null&&o.enabled?(m,y)=>globalThis.FontInspector.fontAdded(m,y):null,f=new J5(s,{disableFontFace:a,inspectFont:u});this.fontLoader.bind(f).catch(()=>e.sendWithPromise("FontFallback",{id:i})).finally(()=>{!l&&f.data&&(f.data=null),this.commonObjs.resolve(i,f)});break;case"CopyLocalImage":const{imageRef:p}=s;ft(p,"The imageRef must be defined.");for(const m of c(this,Ji).values())for(const[,y]of m.objs)if((y==null?void 0:y.ref)===p)return y.dataLen?(this.commonObjs.resolve(i,structuredClone(y)),y.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(i,s);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),e.on("obj",([i,r,s,o])=>{var a;if(this.destroyed)return;const l=c(this,Ji).get(r);if(!l.objs.has(i)){if(l._intentStates.size===0){(a=o==null?void 0:o.bitmap)==null||a.close();return}switch(s){case"Image":l.objs.resolve(i,o),(o==null?void 0:o.dataLen)>E5&&(l._maybeCleanupAfterRender=!0);break;case"Pattern":l.objs.resolve(i,o);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",i=>{var r;this.destroyed||(r=n.onProgress)==null||r.call(n,{loaded:i.loaded,total:i.total})}),e.on("FetchBuiltInCMap",i=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(i):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),e.on("FetchStandardFontData",i=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(i):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var e;this.annotationStorage.size<=0&&Ae("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:n,transfer:i}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:n,filename:((e=this._fullReader)==null?void 0:e.filename)??null},i).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const n=e-1,i=c(this,nu).get(n);if(i)return i;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:n}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&c(this,iu).set(s.refStr,e);const o=new t6(n,s,this,this._params.pdfBug);return c(this,Ji).set(n,o),o});return c(this,nu).set(n,r),r}getPageIndex(e){return Pk(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,n){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:n})}getFieldObjects(){return k(this,Ta,ru).call(this,"GetFieldObjects")}hasJSActions(){return k(this,Ta,ru).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return k(this,Ta,ru).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return k(this,Ta,ru).call(this,"GetOptionalContentConfig").then(n=>new xj(n,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",n=c(this,as).get(e);if(n)return n;const i=this.messageHandler.sendWithPromise(e,null).then(r=>{var s,o;return{info:r[0],metadata:r[1]?new wj(r[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((o=this._fullReader)==null?void 0:o.contentLength)??null}});return c(this,as).set(e,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const n of c(this,Ji).values())if(!n.cleanup())throw new Error(`startCleanup: Page ${n.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),c(this,as).clear(),this.filterFactory.destroy(!0),Zg.cleanup()}}cachedPageNumber(e){if(!Pk(e))return null;const n=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return c(this,iu).get(n)??null}}as=new WeakMap,Ji=new WeakMap,nu=new WeakMap,iu=new WeakMap,er=new WeakMap,Ta=new WeakSet,ru=function(t,e=null){const n=c(this,as).get(t);if(n)return n;const i=this.messageHandler.sendWithPromise(t,e);return c(this,as).set(t,i),i};const op=Symbol("INITIAL_DATA");var ki,ap,aw;class $P{constructor(){v(this,ap),v(this,ki,Object.create(null))}get(e,n=null){if(n){const r=k(this,ap,aw).call(this,e);return r.promise.then(()=>n(r.data)),null}const i=c(this,ki)[e];if(!i||i.data===op)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return i.data}has(e){const n=c(this,ki)[e];return!!n&&n.data!==op}resolve(e,n=null){const i=k(this,ap,aw).call(this,e);i.data=n,i.resolve()}clear(){var e;for(const n in c(this,ki)){const{data:i}=c(this,ki)[n];(e=i==null?void 0:i.bitmap)==null||e.close()}_(this,ki,Object.create(null))}*[Symbol.iterator](){for(const e in c(this,ki)){const{data:n}=c(this,ki)[e];n!==op&&(yield[e,n])}}}ki=new WeakMap,ap=new WeakSet,aw=function(t){var e;return(e=c(this,ki))[t]||(e[t]={...Promise.withResolvers(),data:op})};var Zs;class r6{constructor(e){v(this,Zs,null),_(this,Zs,e),this.onContinue=null}get promise(){return c(this,Zs).capability.promise}cancel(e=0){c(this,Zs).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=c(this,Zs).operatorList;if(!e)return!1;const{annotationCanvasMap:n}=c(this,Zs);return e.form||e.canvas&&(n==null?void 0:n.size)>0}}Zs=new WeakMap;var cl;const FP=class su{constructor({callback:e,params:n,objs:i,commonObjs:r,annotationCanvasMap:s,operatorList:o,pageIndex:a,canvasFactory:l,filterFactory:h,useRequestAnimationFrame:u=!1,pdfBug:f=!1,pageColors:p=null}){this.callback=e,this.params=n,this.objs=i,this.commonObjs=r,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=a,this.canvasFactory=l,this.filterFactory=h,this._pdfBug=f,this.pageColors=p,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=u===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new r6(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:n}){var i,r;if(this.cancelled)return;if(this._canvas){if(c(su,cl).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");c(su,cl).add(this._canvas)}this._pdfBug&&(i=globalThis.StepperManager)!=null&&i.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:s,viewport:o,transform:a,background:l}=this.params;this.gfx=new Jf(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:n},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:a,viewport:o,transparency:e,background:l}),this.operatorListIdx=0,this.graphicsReady=!0,(r=this.graphicsReadyCallback)==null||r.call(this)}cancel(e=null,n=0){var i;this.running=!1,this.cancelled=!0,(i=this.gfx)==null||i.endDrawing(),c(su,cl).delete(this._canvas),this.callback(e||new qx(`Rendering cancelled, page ${this._pageIndex+1}`,n))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),c(su,cl).delete(this._canvas),this.callback())))}};cl=new WeakMap,v(FP,cl,new WeakSet);let s6=FP;const o6="4.3.136",a6="0cec64437";function Tk(t){return Math.floor(Math.max(0,Math.min(1,t))*255).toString(16).padStart(2,"0")}function kc(t){return Math.max(0,Math.min(255,255*t))}class Rk{static CMYK_G([e,n,i,r]){return["G",1-Math.min(1,.3*e+.59*i+.11*n+r)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=kc(e),[e,e,e]}static G_HTML([e]){const n=Tk(e);return`#${n}${n}${n}`}static RGB_G([e,n,i]){return["G",.3*e+.59*n+.11*i]}static RGB_rgb(e){return e.map(kc)}static RGB_HTML(e){return`#${e.map(Tk).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,n,i,r]){return["RGB",1-Math.min(1,e+r),1-Math.min(1,i+r),1-Math.min(1,n+r)]}static CMYK_rgb([e,n,i,r]){return[kc(1-Math.min(1,e+r)),kc(1-Math.min(1,i+r)),kc(1-Math.min(1,n+r))]}static CMYK_HTML(e){const n=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(n)}static RGB_CMYK([e,n,i]){const r=1-e,s=1-n,o=1-i,a=Math.min(r,s,o);return["CMYK",r,s,o,a]}}class jP{static setupStorage(e,n,i,r,s){const o=r.getValue(n,{value:null});switch(i.name){case"textarea":if(o.value!==null&&(e.textContent=o.value),s==="print")break;e.addEventListener("input",a=>{r.setValue(n,{value:a.target.value})});break;case"input":if(i.attributes.type==="radio"||i.attributes.type==="checkbox"){if(o.value===i.attributes.xfaOn?e.setAttribute("checked",!0):o.value===i.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",a=>{r.setValue(n,{value:a.target.checked?a.target.getAttribute("xfaOn"):a.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&e.setAttribute("value",o.value),s==="print")break;e.addEventListener("input",a=>{r.setValue(n,{value:a.target.value})})}break;case"select":if(o.value!==null){e.setAttribute("value",o.value);for(const a of i.children)a.attributes.value===o.value?a.attributes.selected=!0:a.attributes.hasOwnProperty("selected")&&delete a.attributes.selected}e.addEventListener("input",a=>{const l=a.target.options,h=l.selectedIndex===-1?"":l[l.selectedIndex].value;r.setValue(n,{value:h})});break}}static setAttributes({html:e,element:n,storage:i=null,intent:r,linkService:s}){const{attributes:o}=n,a=e instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${r}`);for(const[l,h]of Object.entries(o))if(h!=null)switch(l){case"class":h.length&&e.setAttribute(l,h.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",h);break;case"style":Object.assign(e.style,h);break;case"textContent":e.textContent=h;break;default:(!a||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,h)}a&&s.addLinkAttributes(e,o.href,o.newWindow),i&&o.dataId&&this.setupStorage(e,o.dataId,n,i)}static render(e){var n,i;const r=e.annotationStorage,s=e.linkService,o=e.xfaHtml,a=e.intent||"display",l=document.createElement(o.name);o.attributes&&this.setAttributes({html:l,element:o,intent:a,linkService:s});const h=a!=="richText",u=e.div;if(u.append(l),e.viewport){const m=`matrix(${e.viewport.transform.join(",")})`;u.style.transform=m}h&&u.setAttribute("class","xfaLayer xfaFont");const f=[];if(o.children.length===0){if(o.value){const m=document.createTextNode(o.value);l.append(m),h&&Lh.shouldBuildText(o.name)&&f.push(m)}return{textDivs:f}}const p=[[o,-1,l]];for(;p.length>0;){const[m,y,A]=p.at(-1);if(y+1===m.children.length){p.pop();continue}const b=m.children[++p.at(-1)[1]];if(b===null)continue;const{name:w}=b;if(w==="#text"){const E=document.createTextNode(b.value);f.push(E),A.append(E);continue}const S=(n=b==null?void 0:b.attributes)!=null&&n.xmlns?document.createElementNS(b.attributes.xmlns,w):document.createElement(w);if(A.append(S),b.attributes&&this.setAttributes({html:S,element:b,storage:r,intent:a,linkService:s}),((i=b.children)==null?void 0:i.length)>0)p.push([b,-1,S]);else if(b.value){const E=document.createTextNode(b.value);h&&Lh.shouldBuildText(w)&&f.push(E),S.append(E)}}for(const m of u.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))m.setAttribute("readOnly",!0);return{textDivs:f}}static update(e){const n=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=n,e.div.hidden=!1}}const Hh=1e3,l6=9,Vo=new WeakSet;function Pr(t){return{width:t[2]-t[0],height:t[3]-t[1]}}class c6{static create(e){switch(e.data.annotationType){case ut.LINK:return new UP(e);case ut.TEXT:return new h6(e);case ut.WIDGET:switch(e.data.fieldType){case"Tx":return new d6(e);case"Btn":return e.data.radioButton?new HP(e):e.data.checkBox?new p6(e):new g6(e);case"Ch":return new m6(e);case"Sig":return new f6(e)}return new ea(e);case ut.POPUP:return new hw(e);case ut.FREETEXT:return new qP(e);case ut.LINE:return new y6(e);case ut.SQUARE:return new w6(e);case ut.CIRCLE:return new S6(e);case ut.POLYLINE:return new YP(e);case ut.CARET:return new A6(e);case ut.INK:return new KP(e);case ut.POLYGON:return new x6(e);case ut.HIGHLIGHT:return new E6(e);case ut.UNDERLINE:return new k6(e);case ut.SQUIGGLY:return new _6(e);case ut.STRIKEOUT:return new b6(e);case ut.STAMP:return new XP(e);case ut.FILEATTACHMENT:return new C6(e);default:return new gt(e)}}}var Js,ou,au,lp,lw;const u6=class WP{constructor(e,{isRenderable:n=!1,ignoreBorder:i=!1,createQuadrilaterals:r=!1}={}){v(this,lp),v(this,Js,null),v(this,ou,!1),v(this,au,null),this.isRenderable=n,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,n&&(this.container=this._createContainer(i)),r&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:n,richText:i}){return!!(e!=null&&e.str||n!=null&&n.str||i!=null&&i.str)}get hasPopupData(){return WP._hasPopupData(this.data)}updateEdited(e){var n;if(!this.container)return;c(this,Js)||_(this,Js,{rect:this.data.rect.slice(0)});const{rect:i}=e;i&&k(this,lp,lw).call(this,i),(n=c(this,au))==null||n.popup.updateEdited(e)}resetEdited(){var e;c(this,Js)&&(k(this,lp,lw).call(this,c(this,Js).rect),(e=c(this,au))==null||e.popup.resetEdited(),_(this,Js,null))}_createContainer(e){const{data:n,parent:{page:i,viewport:r}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",n.id),this instanceof ea||(s.tabIndex=Hh);const{style:o}=s;if(o.zIndex=this.parent.zIndex++,n.popupRef&&s.setAttribute("aria-haspopup","dialog"),n.alternativeText&&(s.title=n.alternativeText),n.noRotate&&s.classList.add("norotate"),!n.rect||this instanceof hw){const{rotation:A}=n;return!n.hasOwnCanvas&&A!==0&&this.setRotation(A,s),s}const{width:a,height:l}=Pr(n.rect);if(!e&&n.borderStyle.width>0){o.borderWidth=`${n.borderStyle.width}px`;const A=n.borderStyle.horizontalCornerRadius,b=n.borderStyle.verticalCornerRadius;if(A>0||b>0){const S=`calc(${A}px * var(--scale-factor)) / calc(${b}px * var(--scale-factor))`;o.borderRadius=S}else if(this instanceof HP){const S=`calc(${a}px * var(--scale-factor)) / calc(${l}px * var(--scale-factor))`;o.borderRadius=S}switch(n.borderStyle.style){case pc.SOLID:o.borderStyle="solid";break;case pc.DASHED:o.borderStyle="dashed";break;case pc.BEVELED:Ae("Unimplemented border style: beveled");break;case pc.INSET:Ae("Unimplemented border style: inset");break;case pc.UNDERLINE:o.borderBottomStyle="solid";break}const w=n.borderColor||null;w?(_(this,ou,!0),o.borderColor=ae.makeHexColor(w[0]|0,w[1]|0,w[2]|0)):o.borderWidth=0}const h=ae.normalizeRect([n.rect[0],i.view[3]-n.rect[1]+i.view[1],n.rect[2],i.view[3]-n.rect[3]+i.view[1]]),{pageWidth:u,pageHeight:f,pageX:p,pageY:m}=r.rawDims;o.left=`${100*(h[0]-p)/u}%`,o.top=`${100*(h[1]-m)/f}%`;const{rotation:y}=n;return n.hasOwnCanvas||y===0?(o.width=`${100*a/u}%`,o.height=`${100*l/f}%`):this.setRotation(y,s),s}setRotation(e,n=this.container){if(!this.data.rect)return;const{pageWidth:i,pageHeight:r}=this.parent.viewport.rawDims,{width:s,height:o}=Pr(this.data.rect);let a,l;e%180===0?(a=100*s/i,l=100*o/r):(a=100*o/i,l=100*s/r),n.style.width=`${a}%`,n.style.height=`${l}%`,n.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(n,i,r)=>{const s=r.detail[n],o=s[0],a=s.slice(1);r.target.style[i]=Rk[`${o}_HTML`](a),this.annotationStorage.setValue(this.data.id,{[i]:Rk[`${o}_rgb`](a)})};return Pe(this,"_commonActions",{display:n=>{const{display:i}=n.detail,r=i%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:i===1||i===2})},print:n=>{this.annotationStorage.setValue(this.data.id,{noPrint:!n.detail.print})},hidden:n=>{const{hidden:i}=n.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:n=>{setTimeout(()=>n.target.focus({preventScroll:!1}),0)},userName:n=>{n.target.title=n.detail.userName},readonly:n=>{n.target.disabled=n.detail.readonly},required:n=>{this._setRequired(n.target,n.detail.required)},bgColor:n=>{e("bgColor","backgroundColor",n)},fillColor:n=>{e("fillColor","backgroundColor",n)},fgColor:n=>{e("fgColor","color",n)},textColor:n=>{e("textColor","color",n)},borderColor:n=>{e("borderColor","borderColor",n)},strokeColor:n=>{e("strokeColor","borderColor",n)},rotation:n=>{const i=n.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(e,n){const i=this._commonActions;for(const r of Object.keys(n.detail)){const s=e[r]||i[r];s==null||s(n)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const n=this.annotationStorage.getRawValue(this.data.id);if(!n)return;const i=this._commonActions;for(const[r,s]of Object.entries(n)){const o=i[r];if(o){const a={detail:{[r]:s},target:e};o(a),delete n[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[n,i,r,s]=this.data.rect;if(e.length===1){const[,{x:A,y:b},{x:w,y:S}]=e[0];if(r===A&&s===b&&n===w&&i===S)return}const{style:o}=this.container;let a;if(c(this,ou)){const{borderColor:A,borderWidth:b}=o;o.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${A}" stroke-width="${b}">`],this.container.classList.add("hasBorder")}const l=r-n,h=s-i,{svgFactory:u}=this,f=u.createElement("svg");f.classList.add("quadrilateralsContainer"),f.setAttribute("width",0),f.setAttribute("height",0);const p=u.createElement("defs");f.append(p);const m=u.createElement("clipPath"),y=`clippath_${this.data.id}`;m.setAttribute("id",y),m.setAttribute("clipPathUnits","objectBoundingBox"),p.append(m);for(const[,{x:A,y:b},{x:w,y:S}]of e){const E=u.createElement("rect"),T=(w-n)/l,R=(s-b)/h,I=(A-w)/l,M=(b-S)/h;E.setAttribute("x",T),E.setAttribute("y",R),E.setAttribute("width",I),E.setAttribute("height",M),m.append(E),a==null||a.push(`<rect vector-effect="non-scaling-stroke" x="${T}" y="${R}" width="${I}" height="${M}"/>`)}c(this,ou)&&(a.push("</g></svg>')"),o.backgroundImage=a.join("")),this.container.append(f),this.container.style.clipPath=`url(#${y})`}_createPopup(){const{container:e,data:n}=this;e.setAttribute("aria-haspopup","dialog");const i=_(this,au,new hw({data:{color:n.color,titleObj:n.titleObj,modificationDate:n.modificationDate,contentsObj:n.contentsObj,richText:n.richText,parentRect:n.rect,borderStyle:0,id:`popup_${n.id}`,rotation:n.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(i.render())}render(){Oe("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,n=null){const i=[];if(this._fieldObjects){const r=this._fieldObjects[e];if(r)for(const{page:s,id:o,exportValues:a}of r){if(s===-1||o===n)continue;const l=typeof a=="string"?a:null,h=document.querySelector(`[data-element-id="${o}"]`);if(h&&!Vo.has(h)){Ae(`_getElementsByName - element not allowed: ${o}`);continue}i.push({id:o,exportValue:l,domElement:h})}return i}for(const r of document.getElementsByName(e)){const{exportValue:s}=r,o=r.getAttribute("data-element-id");o!==n&&Vo.has(r)&&i.push({id:o,exportValue:s,domElement:r})}return i}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const n of e)n.classList.add("highlightArea");else e.classList.add("highlightArea")}get _isEditable(){return!1}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:n}}=this;this.container.addEventListener("dblclick",()=>{var i;(i=this.linkService.eventBus)==null||i.dispatch("switchannotationeditormode",{source:this,mode:e,editId:n})})}};Js=new WeakMap,ou=new WeakMap,au=new WeakMap,lp=new WeakSet,lw=function(t){const{container:{style:e},data:{rect:n,rotation:i},parent:{viewport:{rawDims:{pageWidth:r,pageHeight:s,pageX:o,pageY:a}}}}=this;n==null||n.splice(0,4,...t);const{width:l,height:h}=Pr(t);e.left=`${100*(t[0]-o)/r}%`,e.top=`${100*(s-t[3]+a)/s}%`,i===0?(e.width=`${100*l/r}%`,e.height=`${100*h/s}%`):this.setRotation(i)};let gt=u6;var ls,bo,cw,BP,uw,zP;class UP extends gt{constructor(e,n=null){super(e,{isRenderable:!0,ignoreBorder:!!(n!=null&&n.ignoreBorder),createQuadrilaterals:!0}),v(this,ls),v(this,cw),v(this,uw),this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:n}=this,i=document.createElement("a");i.setAttribute("data-element-id",e.id);let r=!1;return e.url?(n.addLinkAttributes(i,e.url,e.newWindow),r=!0):e.action?(this._bindNamedAction(i,e.action),r=!0):e.attachment?(k(this,cw,BP).call(this,i,e.attachment,e.attachmentDest),r=!0):e.setOCGState?(k(this,uw,zP).call(this,i,e.setOCGState),r=!0):e.dest?(this._bindLink(i,e.dest),r=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,e),r=!0),e.resetForm?(this._bindResetFormAction(i,e.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(i,""),r=!0)),this.container.classList.add("linkAnnotation"),r&&this.container.append(i),this.container}_bindLink(e,n){e.href=this.linkService.getDestinationHash(n),e.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&k(this,ls,bo).call(this)}_bindNamedAction(e,n){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(n),!1),k(this,ls,bo).call(this)}_bindJSAction(e,n){e.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const r of Object.keys(n.actions)){const s=i.get(r);s&&(e[s]=()=>{var o;return(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:r}}),!1})}e.onclick||(e.onclick=()=>!1),k(this,ls,bo).call(this)}_bindResetFormAction(e,n){const i=e.onclick;if(i||(e.href=this.linkService.getAnchorUrl("")),k(this,ls,bo).call(this),!this._fieldObjects){Ae('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(e.onclick=()=>!1);return}e.onclick=()=>{var r;i==null||i();const{fields:s,refs:o,include:a}=n,l=[];if(s.length!==0||o.length!==0){const f=new Set(o);for(const p of s){const m=this._fieldObjects[p]||[];for(const{id:y}of m)f.add(y)}for(const p of Object.values(this._fieldObjects))for(const m of p)f.has(m.id)===a&&l.push(m)}else for(const f of Object.values(this._fieldObjects))l.push(...f);const h=this.annotationStorage,u=[];for(const f of l){const{id:p}=f;switch(u.push(p),f.type){case"text":{const y=f.defaultValue||"";h.setValue(p,{value:y});break}case"checkbox":case"radiobutton":{const y=f.defaultValue===f.exportValues;h.setValue(p,{value:y});break}case"combobox":case"listbox":{const y=f.defaultValue||"";h.setValue(p,{value:y});break}default:continue}const m=document.querySelector(`[data-element-id="${p}"]`);if(m){if(!Vo.has(m)){Ae(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;m.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((r=this.linkService.eventBus)==null||r.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:u,name:"ResetForm"}})),!1}}}ls=new WeakSet,bo=function(){this.container.setAttribute("data-internal-link","")},cw=new WeakSet,BP=function(t,e,n=null){t.href=this.linkService.getAnchorUrl(""),e.description&&(t.title=e.description),t.onclick=()=>{var i;return(i=this.downloadManager)==null||i.openOrDownloadData(e.content,e.filename,n),!1},k(this,ls,bo).call(this)},uw=new WeakSet,zP=function(t,e){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(e),!1),k(this,ls,bo).call(this)};class h6 extends gt{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class ea extends gt{render(){return this.container}showElementAndHideCanvas(e){var n;this.data.hasOwnCanvas&&(((n=e.previousSibling)==null?void 0:n.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return kn.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,n,i,r,s){i.includes("mouse")?e.addEventListener(i,o=>{var a;(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):e.addEventListener(i,o=>{var a;if(i==="blur"){if(!n.focused||!o.relatedTarget)return;n.focused=!1}else if(i==="focus"){if(n.focused)return;n.focused=!0}s&&((a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(o)}}))})}_setEventListeners(e,n,i,r){var s,o,a;for(const[l,h]of i)(h==="Action"||(s=this.data.actions)!=null&&s[h])&&((h==="Focus"||h==="Blur")&&(n||(n={focused:!1})),this._setEventListener(e,n,l,h,r),h==="Focus"&&!((o=this.data.actions)!=null&&o.Blur)?this._setEventListener(e,n,"blur","Blur",null):h==="Blur"&&!((a=this.data.actions)!=null&&a.Focus)&&this._setEventListener(e,n,"focus","Focus",null))}_setBackgroundColor(e){const n=this.data.backgroundColor||null;e.style.backgroundColor=n===null?"transparent":ae.makeHexColor(n[0],n[1],n[2])}_setTextStyle(e){const n=["left","center","right"],{fontColor:i}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||l6,s=e.style;let o;const a=2,l=h=>Math.round(10*h)/10;if(this.data.multiLine){const h=Math.abs(this.data.rect[3]-this.data.rect[1]-a),u=Math.round(h/(mv*r))||1,f=h/u;o=Math.min(r,l(f/mv))}else{const h=Math.abs(this.data.rect[3]-this.data.rect[1]-a);o=Math.min(r,l(h/mv))}s.fontSize=`calc(${o}px * var(--scale-factor))`,s.color=ae.makeHexColor(i[0],i[1],i[2]),this.data.textAlignment!==null&&(s.textAlign=n[this.data.textAlignment])}_setRequired(e,n){n?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",n)}}class d6 extends ea{constructor(e){const n=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:n})}setPropertyOnSiblings(e,n,i,r){const s=this.annotationStorage;for(const o of this._getElementsByName(e.name,e.id))o.domElement&&(o.domElement[n]=i),s.setValue(o.id,{[r]:i})}render(){var e,n;const i=this.annotationStorage,r=this.data.id;this.container.classList.add("textWidgetAnnotation");let s=null;if(this.renderForms){const o=i.getValue(r,{value:this.data.fieldValue});let a=o.value||"";const l=i.getValue(r,{charLimit:this.data.maxLen}).charLimit;l&&a.length>l&&(a=a.slice(0,l));let h=o.formattedValue||((e=this.data.textContent)==null?void 0:e.join(`
`))||null;h&&this.data.comb&&(h=h.replaceAll(/\s+/g,""));const u={userValue:a,formattedValue:h,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(s=document.createElement("textarea"),s.textContent=h??a,this.data.doNotScroll&&(s.style.overflowY="hidden")):(s=document.createElement("input"),s.type="text",s.setAttribute("value",h??a),this.data.doNotScroll&&(s.style.overflowX="hidden")),this.data.hasOwnCanvas&&(s.hidden=!0),Vo.add(s),s.setAttribute("data-element-id",r),s.disabled=this.data.readOnly,s.name=this.data.fieldName,s.tabIndex=Hh,this._setRequired(s,this.data.required),l&&(s.maxLength=l),s.addEventListener("input",p=>{i.setValue(r,{value:p.target.value}),this.setPropertyOnSiblings(s,"value",p.target.value,"value"),u.formattedValue=null}),s.addEventListener("resetform",p=>{const m=this.data.defaultFieldValue??"";s.value=u.userValue=m,u.formattedValue=null});let f=p=>{const{formattedValue:m}=u;m!=null&&(p.target.value=m),p.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){s.addEventListener("focus",m=>{var y;if(u.focused)return;const{target:A}=m;u.userValue&&(A.value=u.userValue),u.lastCommittedValue=A.value,u.commitKey=1,(y=this.data.actions)!=null&&y.Focus||(u.focused=!0)}),s.addEventListener("updatefromsandbox",m=>{this.showElementAndHideCanvas(m.target);const y={value(A){u.userValue=A.detail.value??"",i.setValue(r,{value:u.userValue.toString()}),A.target.value=u.userValue},formattedValue(A){const{formattedValue:b}=A.detail;u.formattedValue=b,b!=null&&A.target!==document.activeElement&&(A.target.value=b),i.setValue(r,{formattedValue:b})},selRange(A){A.target.setSelectionRange(...A.detail.selRange)},charLimit:A=>{var b;const{charLimit:w}=A.detail,{target:S}=A;if(w===0){S.removeAttribute("maxLength");return}S.setAttribute("maxLength",w);let E=u.userValue;!E||E.length<=w||(E=E.slice(0,w),S.value=u.userValue=E,i.setValue(r,{value:E}),(b=this.linkService.eventBus)==null||b.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r,name:"Keystroke",value:E,willCommit:!0,commitKey:1,selStart:S.selectionStart,selEnd:S.selectionEnd}}))}};this._dispatchEventFromSandbox(y,m)}),s.addEventListener("keydown",m=>{var y;u.commitKey=1;let A=-1;if(m.key==="Escape"?A=0:m.key==="Enter"&&!this.data.multiLine?A=2:m.key==="Tab"&&(u.commitKey=3),A===-1)return;const{value:b}=m.target;u.lastCommittedValue!==b&&(u.lastCommittedValue=b,u.userValue=b,(y=this.linkService.eventBus)==null||y.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r,name:"Keystroke",value:b,willCommit:!0,commitKey:A,selStart:m.target.selectionStart,selEnd:m.target.selectionEnd}}))});const p=f;f=null,s.addEventListener("blur",m=>{var y,A;if(!u.focused||!m.relatedTarget)return;(y=this.data.actions)!=null&&y.Blur||(u.focused=!1);const{value:b}=m.target;u.userValue=b,u.lastCommittedValue!==b&&((A=this.linkService.eventBus)==null||A.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r,name:"Keystroke",value:b,willCommit:!0,commitKey:u.commitKey,selStart:m.target.selectionStart,selEnd:m.target.selectionEnd}})),p(m)}),(n=this.data.actions)!=null&&n.Keystroke&&s.addEventListener("beforeinput",m=>{var y;u.lastCommittedValue=null;const{data:A,target:b}=m,{value:w,selectionStart:S,selectionEnd:E}=b;let T=S,R=E;switch(m.inputType){case"deleteWordBackward":{const I=w.substring(0,S).match(/\w*[^\w]*$/);I&&(T-=I[0].length);break}case"deleteWordForward":{const I=w.substring(S).match(/^[^\w]*\w*/);I&&(R+=I[0].length);break}case"deleteContentBackward":S===E&&(T-=1);break;case"deleteContentForward":S===E&&(R+=1);break}m.preventDefault(),(y=this.linkService.eventBus)==null||y.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r,name:"Keystroke",value:w,change:A||"",willCommit:!1,selStart:T,selEnd:R}})}),this._setEventListeners(s,u,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],m=>m.target.value)}if(f&&s.addEventListener("blur",f),this.data.comb){const p=(this.data.rect[2]-this.data.rect[0])/l;s.classList.add("comb"),s.style.letterSpacing=`calc(${p}px * var(--scale-factor) - 1ch)`}}else s=document.createElement("div"),s.textContent=this.data.fieldValue,s.style.verticalAlign="middle",s.style.display="table-cell",this.data.hasOwnCanvas&&(s.hidden=!0);return this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class f6 extends ea{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class p6 extends ea{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,n=this.data,i=n.id;let r=e.getValue(i,{value:n.exportValue===n.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",e.setValue(i,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return Vo.add(s),s.setAttribute("data-element-id",i),s.disabled=n.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=n.fieldName,r&&s.setAttribute("checked",!0),s.setAttribute("exportValue",n.exportValue),s.tabIndex=Hh,s.addEventListener("change",o=>{const{name:a,checked:l}=o.target;for(const h of this._getElementsByName(a,i)){const u=l&&h.exportValue===n.exportValue;h.domElement&&(h.domElement.checked=u),e.setValue(h.id,{value:u})}e.setValue(i,{value:l})}),s.addEventListener("resetform",o=>{const a=n.defaultFieldValue||"Off";o.target.checked=a===n.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",o=>{const a={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(i,{value:l.target.checked})}};this._dispatchEventFromSandbox(a,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class HP extends ea{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,n=this.data,i=n.id;let r=e.getValue(i,{value:n.fieldValue===n.buttonValue}).value;if(typeof r=="string"&&(r=r!==n.buttonValue,e.setValue(i,{value:r})),r)for(const o of this._getElementsByName(n.fieldName,i))e.setValue(o.id,{value:!1});const s=document.createElement("input");if(Vo.add(s),s.setAttribute("data-element-id",i),s.disabled=n.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=n.fieldName,r&&s.setAttribute("checked",!0),s.tabIndex=Hh,s.addEventListener("change",o=>{const{name:a,checked:l}=o.target;for(const h of this._getElementsByName(a,i))e.setValue(h.id,{value:!1});e.setValue(i,{value:l})}),s.addEventListener("resetform",o=>{const a=n.defaultFieldValue;o.target.checked=a!=null&&a===n.buttonValue}),this.enableScripting&&this.hasJSActions){const o=n.buttonValue;s.addEventListener("updatefromsandbox",a=>{const l={value:h=>{const u=o===h.detail.value;for(const f of this._getElementsByName(h.target.name)){const p=u&&f.id===i;f.domElement&&(f.domElement.checked=p),e.setValue(f.id,{value:p})}}};this._dispatchEventFromSandbox(l,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class g6 extends UP{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const n=e.lastChild;return this.enableScripting&&this.hasJSActions&&n&&(this._setDefaultPropertiesFromJS(n),n.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),e}}class m6 extends ea{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,n=this.data.id,i=e.getValue(n,{value:this.data.fieldValue}),r=document.createElement("select");Vo.add(r),r.setAttribute("data-element-id",n),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=Hh;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",u=>{const f=this.data.defaultFieldValue;for(const p of r.options)p.selected=p.value===f});for(const u of this.data.options){const f=document.createElement("option");f.textContent=u.displayValue,f.value=u.exportValue,i.value.includes(u.exportValue)&&(f.setAttribute("selected",!0),s=!1),r.append(f)}let o=null;if(s){const u=document.createElement("option");u.value=" ",u.setAttribute("hidden",!0),u.setAttribute("selected",!0),r.prepend(u),o=()=>{u.remove(),r.removeEventListener("input",o),o=null},r.addEventListener("input",o)}const a=u=>{const f=u?"value":"textContent",{options:p,multiple:m}=r;return m?Array.prototype.filter.call(p,y=>y.selected).map(y=>y[f]):p.selectedIndex===-1?null:p[p.selectedIndex][f]};let l=a(!1);const h=u=>{const f=u.target.options;return Array.prototype.map.call(f,p=>({displayValue:p.textContent,exportValue:p.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",u=>{const f={value(p){o==null||o();const m=p.detail.value,y=new Set(Array.isArray(m)?m:[m]);for(const A of r.options)A.selected=y.has(A.value);e.setValue(n,{value:a(!0)}),l=a(!1)},multipleSelection(p){r.multiple=!0},remove(p){const m=r.options,y=p.detail.remove;m[y].selected=!1,r.remove(y),m.length>0&&Array.prototype.findIndex.call(m,A=>A.selected)===-1&&(m[0].selected=!0),e.setValue(n,{value:a(!0),items:h(p)}),l=a(!1)},clear(p){for(;r.length!==0;)r.remove(0);e.setValue(n,{value:null,items:[]}),l=a(!1)},insert(p){const{index:m,displayValue:y,exportValue:A}=p.detail.insert,b=r.children[m],w=document.createElement("option");w.textContent=y,w.value=A,b?b.before(w):r.append(w),e.setValue(n,{value:a(!0),items:h(p)}),l=a(!1)},items(p){const{items:m}=p.detail;for(;r.length!==0;)r.remove(0);for(const y of m){const{displayValue:A,exportValue:b}=y,w=document.createElement("option");w.textContent=A,w.value=b,r.append(w)}r.options.length>0&&(r.options[0].selected=!0),e.setValue(n,{value:a(!0),items:h(p)}),l=a(!1)},indices(p){const m=new Set(p.detail.indices);for(const y of p.target.options)y.selected=m.has(y.index);e.setValue(n,{value:a(!0)}),l=a(!1)},editable(p){p.target.disabled=!p.detail.editable}};this._dispatchEventFromSandbox(f,u)}),r.addEventListener("input",u=>{var f;const p=a(!0),m=a(!1);e.setValue(n,{value:p}),u.preventDefault(),(f=this.linkService.eventBus)==null||f.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:l,change:m,changeEx:p,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],u=>u.target.value)):r.addEventListener("input",function(u){e.setValue(n,{value:a(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class hw extends gt{constructor(e){const{data:n,elements:i}=e;super(e,{isRenderable:gt._hasPopupData(n)}),this.elements=i,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new v6({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),n=[];for(const i of this.elements)i.popup=e,n.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",n.map(i=>`${H2}${i}`).join(",")),this.container}}var qu,dw,fw,Yu,Ra,nt,Jr,Ma,em,tm,Ku,zr,_i,cs,nm,us,cp,eo,La,Xu,up,hp,Tv,pw,Mk,gw,VP,mw,GP,vw,Lk,Qu,im,Zu,rm,sm,yw;class v6{constructor({container:e,color:n,elements:i,titleObj:r,modificationDate:s,contentsObj:o,richText:a,parent:l,rect:h,parentRect:u,open:f}){v(this,Xu),v(this,hp),v(this,pw),v(this,gw),v(this,mw),v(this,vw),v(this,Qu),v(this,Zu),v(this,sm),v(this,qu,k(this,mw,GP).bind(this)),v(this,dw,k(this,sm,yw).bind(this)),v(this,fw,k(this,Zu,rm).bind(this)),v(this,Yu,k(this,Qu,im).bind(this)),v(this,Ra,null),v(this,nt,null),v(this,Jr,null),v(this,Ma,null),v(this,em,null),v(this,tm,null),v(this,Ku,null),v(this,zr,!1),v(this,_i,null),v(this,cs,null),v(this,nm,null),v(this,us,null),v(this,cp,null),v(this,eo,null),v(this,La,!1);var p;_(this,nt,e),_(this,cp,r),_(this,Jr,o),_(this,us,a),_(this,tm,l),_(this,Ra,n),_(this,nm,h),_(this,Ku,u),_(this,em,i),_(this,Ma,K2.toDateObject(s)),this.trigger=i.flatMap(m=>m.getElementsToTriggerPopup());for(const m of this.trigger)m.addEventListener("click",c(this,Yu)),m.addEventListener("mouseenter",c(this,fw)),m.addEventListener("mouseleave",c(this,dw)),m.classList.add("popupTriggerArea");for(const m of i)(p=m.container)==null||p.addEventListener("keydown",c(this,qu));c(this,nt).hidden=!0,f&&k(this,Qu,im).call(this)}render(){if(c(this,_i))return;const e=_(this,_i,document.createElement("div"));if(e.className="popup",c(this,Ra)){const s=e.style.outlineColor=ae.makeHexColor(...c(this,Ra));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`:e.style.backgroundColor=ae.makeHexColor(...c(this,Ra).map(o=>Math.floor(.7*(255-o)+o)))}const n=document.createElement("span");n.className="header";const i=document.createElement("h1");if(n.append(i),{dir:i.dir,str:i.textContent}=c(this,cp),e.append(n),c(this,Ma)){const s=document.createElement("span");s.classList.add("popupDate"),s.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),s.setAttribute("data-l10n-args",JSON.stringify({date:c(this,Ma).toLocaleDateString(),time:c(this,Ma).toLocaleTimeString()})),n.append(s)}const r=c(this,Xu,up);if(r)jP.render({xfaHtml:r,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const s=this._formatContents(c(this,Jr));e.append(s)}c(this,nt).append(e)}_formatContents({str:e,dir:n}){const i=document.createElement("p");i.classList.add("popupContent"),i.dir=n;const r=e.split(/(?:\r\n?|\n)/);for(let s=0,o=r.length;s<o;++s){const a=r[s];i.append(document.createTextNode(a)),s<o-1&&i.append(document.createElement("br"))}return i}updateEdited({rect:e,popupContent:n}){var i;c(this,eo)||_(this,eo,{contentsObj:c(this,Jr),richText:c(this,us)}),e&&_(this,cs,null),n&&(_(this,us,k(this,gw,VP).call(this,n)),_(this,Jr,null)),(i=c(this,_i))==null||i.remove(),_(this,_i,null)}resetEdited(){var e;c(this,eo)&&({contentsObj:Zn(this,Jr)._,richText:Zn(this,us)._}=c(this,eo),_(this,eo,null),(e=c(this,_i))==null||e.remove(),_(this,_i,null),_(this,cs,null))}forceHide(){_(this,La,this.isVisible),c(this,La)&&(c(this,nt).hidden=!0)}maybeShow(){c(this,La)&&(c(this,_i)||k(this,Zu,rm).call(this),_(this,La,!1),c(this,nt).hidden=!1)}get isVisible(){return c(this,nt).hidden===!1}}qu=new WeakMap,dw=new WeakMap,fw=new WeakMap,Yu=new WeakMap,Ra=new WeakMap,nt=new WeakMap,Jr=new WeakMap,Ma=new WeakMap,em=new WeakMap,tm=new WeakMap,Ku=new WeakMap,zr=new WeakMap,_i=new WeakMap,cs=new WeakMap,nm=new WeakMap,us=new WeakMap,cp=new WeakMap,eo=new WeakMap,La=new WeakMap,Xu=new WeakSet,up=function(){const t=c(this,us),e=c(this,Jr);return t!=null&&t.str&&(!(e!=null&&e.str)||e.str===t.str)&&c(this,us).html||null},hp=new WeakSet,Tv=function(){var t,e,n;return((n=(e=(t=c(this,Xu,up))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:n.fontSize)||0},pw=new WeakSet,Mk=function(){var t,e,n;return((n=(e=(t=c(this,Xu,up))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:n.color)||null},gw=new WeakSet,VP=function(t){const e=[],n={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},i={style:{color:c(this,pw,Mk),fontSize:c(this,hp,Tv)?`calc(${c(this,hp,Tv)}px * var(--scale-factor))`:""}};for(const r of t.split(`
`))e.push({name:"span",value:r,attributes:i});return n},mw=new WeakSet,GP=function(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&c(this,zr))&&k(this,Qu,im).call(this)},vw=new WeakSet,Lk=function(){if(c(this,cs)!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:n,pageX:i,pageY:r}}}=c(this,tm);let s=!!c(this,Ku),o=s?c(this,Ku):c(this,nm);for(const p of c(this,em))if(!o||ae.intersect(p.data.rect,o)!==null){o=p.data.rect,s=!0;break}const a=ae.normalizeRect([o[0],t[3]-o[1]+t[1],o[2],t[3]-o[3]+t[1]]),l=s?o[2]-o[0]+5:0,h=a[0]+l,u=a[1];_(this,cs,[100*(h-i)/e,100*(u-r)/n]);const{style:f}=c(this,nt);f.left=`${c(this,cs)[0]}%`,f.top=`${c(this,cs)[1]}%`},Qu=new WeakSet,im=function(){_(this,zr,!c(this,zr)),c(this,zr)?(k(this,Zu,rm).call(this),c(this,nt).addEventListener("click",c(this,Yu)),c(this,nt).addEventListener("keydown",c(this,qu))):(k(this,sm,yw).call(this),c(this,nt).removeEventListener("click",c(this,Yu)),c(this,nt).removeEventListener("keydown",c(this,qu)))},Zu=new WeakSet,rm=function(){c(this,_i)||this.render(),this.isVisible?c(this,zr)&&c(this,nt).classList.add("focused"):(k(this,vw,Lk).call(this),c(this,nt).hidden=!1,c(this,nt).style.zIndex=parseInt(c(this,nt).style.zIndex)+1e3)},sm=new WeakSet,yw=function(){c(this,nt).classList.remove("focused"),!(c(this,zr)||!this.isVisible)&&(c(this,nt).hidden=!0,c(this,nt).style.zIndex=parseInt(c(this,nt).style.zIndex)-1e3)};class qP extends gt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=be.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const n of this.textContent){const i=document.createElement("span");i.textContent=n,e.append(i)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}get _isEditable(){return this.data.hasOwnCanvas}}var dp;class y6 extends gt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),v(this,dp,null)}render(){this.container.classList.add("lineAnnotation");const e=this.data,{width:n,height:i}=Pr(e.rect),r=this.svgFactory.create(n,i,!0),s=_(this,dp,this.svgFactory.createElement("svg:line"));return s.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),s.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),s.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),s.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),s.setAttribute("stroke-width",e.borderStyle.width||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),r.append(s),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,dp)}addHighlightArea(){this.container.classList.add("highlightArea")}}dp=new WeakMap;var fp;class w6 extends gt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),v(this,fp,null)}render(){this.container.classList.add("squareAnnotation");const e=this.data,{width:n,height:i}=Pr(e.rect),r=this.svgFactory.create(n,i,!0),s=e.borderStyle.width,o=_(this,fp,this.svgFactory.createElement("svg:rect"));return o.setAttribute("x",s/2),o.setAttribute("y",s/2),o.setAttribute("width",n-s),o.setAttribute("height",i-s),o.setAttribute("stroke-width",s||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,fp)}addHighlightArea(){this.container.classList.add("highlightArea")}}fp=new WeakMap;var pp;class S6 extends gt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),v(this,pp,null)}render(){this.container.classList.add("circleAnnotation");const e=this.data,{width:n,height:i}=Pr(e.rect),r=this.svgFactory.create(n,i,!0),s=e.borderStyle.width,o=_(this,pp,this.svgFactory.createElement("svg:ellipse"));return o.setAttribute("cx",n/2),o.setAttribute("cy",i/2),o.setAttribute("rx",n/2-s/2),o.setAttribute("ry",i/2-s/2),o.setAttribute("stroke-width",s||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,pp)}addHighlightArea(){this.container.classList.add("highlightArea")}}pp=new WeakMap;var gp;class YP extends gt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),v(this,gp,null),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const e=this.data,{width:n,height:i}=Pr(e.rect),r=this.svgFactory.create(n,i,!0);let s=[];for(const a of e.vertices){const l=a.x-e.rect[0],h=e.rect[3]-a.y;s.push(l+","+h)}s=s.join(" ");const o=_(this,gp,this.svgFactory.createElement(this.svgElementName));return o.setAttribute("points",s),o.setAttribute("stroke-width",e.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,gp)}addHighlightArea(){this.container.classList.add("highlightArea")}}gp=new WeakMap;class x6 extends YP{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class A6 extends gt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var mp;class KP extends gt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),v(this,mp,[]),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=be.INK}render(){this.container.classList.add(this.containerClassName);const e=this.data,{width:n,height:i}=Pr(e.rect),r=this.svgFactory.create(n,i,!0);for(const s of e.inkLists){let o=[];for(const l of s){const h=l.x-e.rect[0],u=e.rect[3]-l.y;o.push(`${h},${u}`)}o=o.join(" ");const a=this.svgFactory.createElement(this.svgElementName);c(this,mp).push(a),a.setAttribute("points",o),a.setAttribute("stroke-width",e.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),!e.popupRef&&this.hasPopupData&&this._createPopup(),r.append(a)}return this.container.append(r),this.container}getElementsToTriggerPopup(){return c(this,mp)}addHighlightArea(){this.container.classList.add("highlightArea")}}mp=new WeakMap;class E6 extends gt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class k6 extends gt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class _6 extends gt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class b6 extends gt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class XP extends gt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var vp,yp,ww;class C6 extends gt{constructor(e){var n;super(e,{isRenderable:!0}),v(this,yp),v(this,vp,null);const{file:i}=this.data;this.filename=i.filename,this.content=i.content,(n=this.linkService.eventBus)==null||n.dispatch("fileattachmentannotation",{source:this,...i})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:n}=this;let i;n.hasAppearance||n.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),i.addEventListener("dblclick",k(this,yp,ww).bind(this)),_(this,vp,i);const{isMac:r}=kn.platform;return e.addEventListener("keydown",s=>{s.key==="Enter"&&(r?s.metaKey:s.ctrlKey)&&k(this,yp,ww).call(this)}),!n.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),e.append(i),e}getElementsToTriggerPopup(){return c(this,vp)}addHighlightArea(){this.container.classList.add("highlightArea")}}vp=new WeakMap,yp=new WeakSet,ww=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var Dd,ca,_c,Rv,Ik,Od,Mv,Nk;let P6=(Nk=class{constructor({div:t,accessibilityManager:e,annotationCanvasMap:n,annotationEditorUIManager:i,page:r,viewport:s}){v(this,Rv),v(this,Od),v(this,Dd,null),v(this,ca,null),v(this,_c,new Map),this.div=t,_(this,Dd,e),_(this,ca,n),this.page=r,this.viewport=s,this.zIndex=0,this._annotationEditorUIManager=i}async render(t){var e;const{annotations:n}=t,i=this.div;Ho(i,this.viewport);const r=new Map,s={data:null,layer:i,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new Gx,annotationStorage:t.annotationStorage||new Qx,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const o of n){if(o.noHTML)continue;const a=o.annotationType===ut.POPUP;if(a){const u=r.get(o.id);if(!u)continue;s.elements=u}else{const{width:u,height:f}=Pr(o.rect);if(u<=0||f<=0)continue}s.data=o;const l=c6.create(s);if(!l.isRenderable)continue;if(!a&&o.popupRef){const u=r.get(o.popupRef);u?u.push(l):r.set(o.popupRef,[l])}const h=l.render();o.hidden&&(h.style.visibility="hidden"),k(this,Rv,Ik).call(this,h,o.id),l.annotationEditorType>0&&(c(this,_c).set(l.data.id,l),(e=this._annotationEditorUIManager)==null||e.renderAnnotationElement(l))}k(this,Od,Mv).call(this)}update({viewport:t}){const e=this.div;this.viewport=t,Ho(e,{rotation:t.rotation}),k(this,Od,Mv).call(this),e.hidden=!1}getEditableAnnotations(){return Array.from(c(this,_c).values())}getEditableAnnotation(t){return c(this,_c).get(t)}},Dd=new WeakMap,ca=new WeakMap,_c=new WeakMap,Rv=new WeakSet,Ik=function(t,e){var n;const i=t.firstChild||t;i.id=`${H2}${e}`,this.div.append(t),(n=c(this,Dd))==null||n.moveElementInDOM(this.div,t,i,!1)},Od=new WeakSet,Mv=function(){if(!c(this,ca))return;const t=this.div;for(const[e,n]of c(this,ca)){const i=t.querySelector(`[data-annotation-id="${e}"]`);if(!i)continue;n.className="annotationContent";const{firstChild:r}=i;r?r.nodeName==="CANVAS"?r.replaceWith(n):r.classList.contains("annotationContent")?r.after(n):r.before(n):i.append(n)}c(this,ca).clear()},Nk);const wp=/\r\n?|\n/g;var Sp,xp,Ap,Ep,kp,Li,Vn,_p,Gn,Ju,Sw,QP,xw,ZP,Aw,JP,eh,om,th,am,lu,bp,Ew,eT,lm,kw,_w,tT;const Si=class Mt extends je{constructor(e){super({...e,name:"freeTextEditor"}),v(this,Sw),v(this,xw),v(this,Aw),v(this,eh),v(this,lu),v(this,Ew),v(this,_w),v(this,Sp,this.editorDivBlur.bind(this)),v(this,xp,this.editorDivFocus.bind(this)),v(this,Ap,this.editorDivInput.bind(this)),v(this,Ep,this.editorDivKeydown.bind(this)),v(this,kp,this.editorDivPaste.bind(this)),v(this,Li,void 0),v(this,Vn,""),v(this,_p,`${this.id}-editor`),v(this,Gn,void 0),v(this,Ju,null),_(this,Li,e.color||Mt._defaultColor||je._defaultLineColor),_(this,Gn,e.fontSize||Mt._defaultFontSize)}static get _keyboardManager(){const e=Mt.prototype,n=s=>s.isEmpty(),i=Mh.TRANSLATE_SMALL,r=Mh.TRANSLATE_BIG;return Pe(this,"_keyboardManager",new zh([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-i,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-r,0],checker:n}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[i,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[r,0],checker:n}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-i],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-r],checker:n}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,i],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,r],checker:n}]]))}static initialize(e,n){je.initialize(e,n,{strings:["pdfjs-free-text-default-content"]});const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,n){switch(e){case pe.FREETEXT_SIZE:Mt._defaultFontSize=n;break;case pe.FREETEXT_COLOR:Mt._defaultColor=n;break}}updateParams(e,n){switch(e){case pe.FREETEXT_SIZE:k(this,Sw,QP).call(this,n);break;case pe.FREETEXT_COLOR:k(this,xw,ZP).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[pe.FREETEXT_SIZE,Mt._defaultFontSize],[pe.FREETEXT_COLOR,Mt._defaultColor||je._defaultLineColor]]}get propertiesToUpdate(){return[[pe.FREETEXT_SIZE,c(this,Gn)],[pe.FREETEXT_COLOR,c(this,Li)]]}_translateEmpty(e,n){this._uiManager.translateSelectedEditors(e,n,!0)}getInitialTranslation(){const e=this.parentScale;return[-Mt._internalPadding*e,-(Mt._internalPadding+c(this,Gn))*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(be.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",c(this,Ep)),this.editorDiv.addEventListener("focus",c(this,xp)),this.editorDiv.addEventListener("blur",c(this,Sp)),this.editorDiv.addEventListener("input",c(this,Ap)),this.editorDiv.addEventListener("paste",c(this,kp)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",c(this,_p)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",c(this,Ep)),this.editorDiv.removeEventListener("focus",c(this,xp)),this.editorDiv.removeEventListener("blur",c(this,Sp)),this.editorDiv.removeEventListener("input",c(this,Ap)),this.editorDiv.removeEventListener("paste",c(this,kp)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var e;this.width||(this.enableEditMode(),this.editorDiv.focus(),(e=this._initialOptions)!=null&&e.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=c(this,Vn),n=_(this,Vn,k(this,Aw,JP).call(this).trimEnd());if(e===n)return;const i=r=>{if(_(this,Vn,r),!r){this.remove();return}k(this,lu,bp).call(this),this._uiManager.rebuild(this),k(this,eh,om).call(this)};this.addCommands({cmd:()=>{i(n)},undo:()=>{i(e)},mustExec:!1}),k(this,eh,om).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(e){this.enterInEditMode()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){Mt._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let e,n;this.width&&(e=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",c(this,_p)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),je._l10nPromise.get("pdfjs-free-text-default-content").then(r=>{var s;return(s=this.editorDiv)==null?void 0:s.setAttribute("default-content",r)}),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${c(this,Gn)}px * var(--scale-factor))`,i.color=c(this,Li),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),Fg(this,this.div,["dblclick","keydown"]),this.width){const[r,s]=this.parentDimensions;if(this.annotationElementId){const{position:o}=c(this,Ju);let[a,l]=this.getInitialTranslation();[a,l]=this.pageTranslationToScreen(a,l);const[h,u]=this.pageDimensions,[f,p]=this.pageTranslation;let m,y;switch(this.rotation){case 0:m=e+(o[0]-f)/h,y=n+this.height-(o[1]-p)/u;break;case 90:m=e+(o[0]-f)/h,y=n-(o[1]-p)/u,[a,l]=[l,-a];break;case 180:m=e-this.width+(o[0]-f)/h,y=n-(o[1]-p)/u,[a,l]=[-a,-l];break;case 270:m=e+(o[0]-f-this.height*u)/h,y=n+(o[1]-p-this.width*h)/u,[a,l]=[-l,a];break}this.setAt(m*r,y*s,a,l)}else this.setAt(e*r,n*s,this.width*r,this.height*s);k(this,lu,bp).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(e){var n,i,r;const s=e.clipboardData||window.clipboardData,{types:o}=s;if(o.length===1&&o[0]==="text/plain")return;e.preventDefault();const a=k(n=Mt,lm,kw).call(n,s.getData("text")||"").replaceAll(wp,`
`);if(!a)return;const l=window.getSelection();if(!l.rangeCount)return;this.editorDiv.normalize(),l.deleteFromDocument();const h=l.getRangeAt(0);if(!a.includes(`
`)){h.insertNode(document.createTextNode(a)),this.editorDiv.normalize(),l.collapseToStart();return}const{startContainer:u,startOffset:f}=h,p=[],m=[];if(u.nodeType===Node.TEXT_NODE){const b=u.parentElement;if(m.push(u.nodeValue.slice(f).replaceAll(wp,"")),b!==this.editorDiv){let w=p;for(const S of this.editorDiv.childNodes){if(S===b){w=m;continue}w.push(k(i=Mt,th,am).call(i,S))}}p.push(u.nodeValue.slice(0,f).replaceAll(wp,""))}else if(u===this.editorDiv){let b=p,w=0;for(const S of this.editorDiv.childNodes)w++===f&&(b=m),b.push(k(r=Mt,th,am).call(r,S))}_(this,Vn,`${p.join(`
`)}${a}${m.join(`
`)}`),k(this,lu,bp).call(this);const y=new Range;let A=p.reduce((b,w)=>b+w.length,0);for(const{firstChild:b}of this.editorDiv.childNodes)if(b.nodeType===Node.TEXT_NODE){const w=b.nodeValue.length;if(A<=w){y.setStart(b,A),y.setEnd(b,A);break}A-=w}l.removeAllRanges(),l.addRange(y)}get contentDiv(){return this.editorDiv}static deserialize(e,n,i){var r;let s=null;if(e instanceof qP){const{data:{defaultAppearanceData:{fontSize:a,fontColor:l},rect:h,rotation:u,id:f},textContent:p,textPosition:m,parent:{page:{pageNumber:y}}}=e;if(!p||p.length===0)return null;s=e={annotationType:be.FREETEXT,color:Array.from(l),fontSize:a,value:p.join(`
`),position:m,pageIndex:y-1,rect:h.slice(0),rotation:u,id:f,deleted:!1}}const o=super.deserialize(e,n,i);return _(o,Gn,e.fontSize),_(o,Li,ae.makeHexColor(...e.color)),_(o,Vn,k(r=Mt,lm,kw).call(r,e.value)),o.annotationElementId=e.id||null,_(o,Ju,s),o}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const n=Mt._internalPadding*this.parentScale,i=this.getRect(n,n),r=je._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:c(this,Li)),s={annotationType:be.FREETEXT,color:r,fontSize:c(this,Gn),value:k(this,Ew,eT).call(this),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?s:this.annotationElementId&&!k(this,_w,tT).call(this,s)?null:(s.id=this.annotationElementId,s)}renderAnnotationElement(e){const n=super.renderAnnotationElement(e);if(this.deleted)return n;const{style:i}=n;i.fontSize=`calc(${c(this,Gn)}px * var(--scale-factor))`,i.color=c(this,Li),n.replaceChildren();for(const s of c(this,Vn).split(`
`)){const o=document.createElement("div");o.append(s?document.createTextNode(s):document.createElement("br")),n.append(o)}const r=Mt._internalPadding*this.parentScale;return e.updateEdited({rect:this.getRect(r,r),popupContent:c(this,Vn)}),n}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}};Sp=new WeakMap,xp=new WeakMap,Ap=new WeakMap,Ep=new WeakMap,kp=new WeakMap,Li=new WeakMap,Vn=new WeakMap,_p=new WeakMap,Gn=new WeakMap,Ju=new WeakMap,Sw=new WeakSet,QP=function(t){const e=i=>{this.editorDiv.style.fontSize=`calc(${i}px * var(--scale-factor))`,this.translate(0,-(i-c(this,Gn))*this.parentScale),_(this,Gn,i),k(this,eh,om).call(this)},n=c(this,Gn);this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:pe.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},xw=new WeakSet,ZP=function(t){const e=i=>{_(this,Li,this.editorDiv.style.color=i)},n=c(this,Li);this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:pe.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Aw=new WeakSet,JP=function(){var t;const e=[];this.editorDiv.normalize();for(const n of this.editorDiv.childNodes)e.push(k(t=Si,th,am).call(t,n));return e.join(`
`)},eh=new WeakSet,om=function(){const[t,e]=this.parentDimensions;let n;if(this.isAttachedToDOM)n=this.div.getBoundingClientRect();else{const{currentLayer:i,div:r}=this,s=r.style.display,o=r.classList.contains("hidden");r.classList.remove("hidden"),r.style.display="hidden",i.div.append(this.div),n=r.getBoundingClientRect(),r.remove(),r.style.display=s,r.classList.toggle("hidden",o)}this.rotation%180===this.parentRotation%180?(this.width=n.width/t,this.height=n.height/e):(this.width=n.height/t,this.height=n.width/e),this.fixAndSetPosition()},th=new WeakSet,am=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(wp,"")},lu=new WeakSet,bp=function(){if(this.editorDiv.replaceChildren(),!!c(this,Vn))for(const t of c(this,Vn).split(`
`)){const e=document.createElement("div");e.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(e)}},Ew=new WeakSet,eT=function(){return c(this,Vn).replaceAll(" "," ")},lm=new WeakSet,kw=function(t){return t.replaceAll(" "," ")},_w=new WeakSet,tT=function(t){const{value:e,fontSize:n,color:i,pageIndex:r}=c(this,Ju);return this._hasBeenMoved||t.value!==e||t.fontSize!==n||t.color.some((s,o)=>s!==i[o])||t.pageIndex!==r},v(Si,th),v(Si,lm),ve(Si,"_freeTextDefaultContent",""),ve(Si,"_internalPadding",0),ve(Si,"_defaultColor",null),ve(Si,"_defaultFontSize",10),ve(Si,"_type","freetext"),ve(Si,"_editorType",be.FREETEXT);let T6=Si;var cm,to,xi,bw,nT,cu,$d,Cw,iT,Pw,rT,Cp,Tw;class Rw{constructor(e,n=0,i=0,r=!0){v(this,bw),v(this,cu),v(this,Cw),v(this,Pw),v(this,Cp),v(this,cm,void 0),v(this,to,[]),v(this,xi,[]);let s=1/0,o=-1/0,a=1/0,l=-1/0;const h=10**-4;for(const{x:b,y:w,width:S,height:E}of e){const T=Math.floor((b-n)/h)*h,R=Math.ceil((b+S+n)/h)*h,I=Math.floor((w-n)/h)*h,M=Math.ceil((w+E+n)/h)*h,C=[T,I,M,!0],P=[R,I,M,!1];c(this,to).push(C,P),s=Math.min(s,T),o=Math.max(o,R),a=Math.min(a,I),l=Math.max(l,M)}const u=o-s+2*i,f=l-a+2*i,p=s-i,m=a-i,y=c(this,to).at(r?-1:-2),A=[y[0],y[2]];for(const b of c(this,to)){const[w,S,E]=b;b[0]=(w-p)/u,b[1]=(S-m)/f,b[2]=(E-m)/f}_(this,cm,{x:p,y:m,width:u,height:f,lastPoint:A})}getOutlines(){c(this,to).sort((n,i)=>n[0]-i[0]||n[1]-i[1]||n[2]-i[2]);const e=[];for(const n of c(this,to))n[3]?(e.push(...k(this,Cp,Tw).call(this,n)),k(this,Cw,iT).call(this,n)):(k(this,Pw,rT).call(this,n),e.push(...k(this,Cp,Tw).call(this,n)));return k(this,bw,nT).call(this,e)}}cm=new WeakMap,to=new WeakMap,xi=new WeakMap,bw=new WeakSet,nT=function(t){const e=[],n=new Set;for(const s of t){const[o,a,l]=s;e.push([o,a,s],[o,l,s])}e.sort((s,o)=>s[1]-o[1]||s[0]-o[0]);for(let s=0,o=e.length;s<o;s+=2){const a=e[s][2],l=e[s+1][2];a.push(l),l.push(a),n.add(a),n.add(l)}const i=[];let r;for(;n.size>0;){const s=n.values().next().value;let[o,a,l,h,u]=s;n.delete(s);let f=o,p=a;for(r=[o,l],i.push(r);;){let m;if(n.has(h))m=h;else if(n.has(u))m=u;else break;n.delete(m),[o,a,l,h,u]=m,f!==o&&(r.push(f,p,o,p===a?a:l),f=o),p=p===a?l:a}r.push(f,p)}return new R6(i,c(this,cm))},cu=new WeakSet,$d=function(t){const e=c(this,xi);let n=0,i=e.length-1;for(;n<=i;){const r=n+i>>1,s=e[r][0];if(s===t)return r;s<t?n=r+1:i=r-1}return i+1},Cw=new WeakSet,iT=function([,t,e]){const n=k(this,cu,$d).call(this,t);c(this,xi).splice(n,0,[t,e])},Pw=new WeakSet,rT=function([,t,e]){const n=k(this,cu,$d).call(this,t);for(let i=n;i<c(this,xi).length;i++){const[r,s]=c(this,xi)[i];if(r!==t)break;if(r===t&&s===e){c(this,xi).splice(i,1);return}}for(let i=n-1;i>=0;i--){const[r,s]=c(this,xi)[i];if(r!==t)break;if(r===t&&s===e){c(this,xi).splice(i,1);return}}},Cp=new WeakSet,Tw=function(t){const[e,n,i]=t,r=[[e,n,i]],s=k(this,cu,$d).call(this,i);for(let o=0;o<s;o++){const[a,l]=c(this,xi)[o];for(let h=0,u=r.length;h<u;h++){const[,f,p]=r[h];if(!(l<=f||p<=a)){if(f>=a){if(p>l)r[h][1]=l;else{if(u===1)return[];r.splice(h,1),h--,u--}continue}r[h][2]=a,p>l&&r.push([e,l,p])}}}return r};class sT{toSVGPath(){throw new Error("Abstract method `toSVGPath` must be implemented.")}get box(){throw new Error("Abstract getter `box` must be implemented.")}serialize(e,n){throw new Error("Abstract method `serialize` must be implemented.")}get free(){return this instanceof Dw}}var Pp,uu;class R6 extends sT{constructor(e,n){super(),v(this,Pp,void 0),v(this,uu,void 0),_(this,uu,e),_(this,Pp,n)}toSVGPath(){const e=[];for(const n of c(this,uu)){let[i,r]=n;e.push(`M${i} ${r}`);for(let s=2;s<n.length;s+=2){const o=n[s],a=n[s+1];o===i?(e.push(`V${a}`),r=a):a===r&&(e.push(`H${o}`),i=o)}e.push("Z")}return e.join(" ")}serialize([e,n,i,r],s){const o=[],a=i-e,l=r-n;for(const h of c(this,uu)){const u=new Array(h.length);for(let f=0;f<h.length;f+=2)u[f]=e+h[f]*a,u[f+1]=r-h[f+1]*l;o.push(u)}return o}get box(){return c(this,Pp)}}Pp=new WeakMap,uu=new WeakMap;var or,Ur,hu,du,tr,_e,Pl,Tl,Tp,Rp,fu,pu,no,Mp,Lv,Mw,Lp,Lw;const Ia=class Iw{constructor({x:e,y:n},i,r,s,o,a=0){v(this,Lp),v(this,or,void 0),v(this,Ur,[]),v(this,hu,void 0),v(this,du,void 0),v(this,tr,[]),v(this,_e,new Float64Array(18)),v(this,Pl,void 0),v(this,Tl,void 0),v(this,Tp,void 0),v(this,Rp,void 0),v(this,fu,void 0),v(this,pu,void 0),v(this,no,[]),_(this,or,i),_(this,pu,s*r),_(this,du,o),c(this,_e).set([NaN,NaN,NaN,NaN,e,n],6),_(this,hu,a),_(this,Rp,c(Iw,Mp)*r),_(this,Tp,c(Iw,Mw)*r),_(this,fu,r),c(this,no).push(e,n)}get free(){return!0}isEmpty(){return isNaN(c(this,_e)[8])}add({x:e,y:n}){var i;_(this,Pl,e),_(this,Tl,n);const[r,s,o,a]=c(this,or);let[l,h,u,f]=c(this,_e).subarray(8,12);const p=e-u,m=n-f,y=Math.hypot(p,m);if(y<c(this,Tp))return!1;const A=y-c(this,Rp),b=A/y,w=b*p,S=b*m;let E=l,T=h;l=u,h=f,u+=w,f+=S,(i=c(this,no))==null||i.push(e,n);const R=-S/A,I=w/A,M=R*c(this,pu),C=I*c(this,pu);return c(this,_e).set(c(this,_e).subarray(2,8),0),c(this,_e).set([u+M,f+C],4),c(this,_e).set(c(this,_e).subarray(14,18),12),c(this,_e).set([u-M,f-C],16),isNaN(c(this,_e)[6])?(c(this,tr).length===0&&(c(this,_e).set([l+M,h+C],2),c(this,tr).push(NaN,NaN,NaN,NaN,(l+M-r)/o,(h+C-s)/a),c(this,_e).set([l-M,h-C],14),c(this,Ur).push(NaN,NaN,NaN,NaN,(l-M-r)/o,(h-C-s)/a)),c(this,_e).set([E,T,l,h,u,f],6),!this.isEmpty()):(c(this,_e).set([E,T,l,h,u,f],6),Math.abs(Math.atan2(T-h,E-l)-Math.atan2(S,w))<Math.PI/2?([l,h,u,f]=c(this,_e).subarray(2,6),c(this,tr).push(NaN,NaN,NaN,NaN,((l+u)/2-r)/o,((h+f)/2-s)/a),[l,h,E,T]=c(this,_e).subarray(14,18),c(this,Ur).push(NaN,NaN,NaN,NaN,((E+l)/2-r)/o,((T+h)/2-s)/a),!0):([E,T,l,h,u,f]=c(this,_e).subarray(0,6),c(this,tr).push(((E+5*l)/6-r)/o,((T+5*h)/6-s)/a,((5*l+u)/6-r)/o,((5*h+f)/6-s)/a,((l+u)/2-r)/o,((h+f)/2-s)/a),[u,f,l,h,E,T]=c(this,_e).subarray(12,18),c(this,Ur).push(((E+5*l)/6-r)/o,((T+5*h)/6-s)/a,((5*l+u)/6-r)/o,((5*h+f)/6-s)/a,((l+u)/2-r)/o,((h+f)/2-s)/a),!0))}toSVGPath(){if(this.isEmpty())return"";const e=c(this,tr),n=c(this,Ur),i=c(this,_e).subarray(4,6),r=c(this,_e).subarray(16,18),[s,o,a,l]=c(this,or),[h,u,f,p]=k(this,Lp,Lw).call(this);if(isNaN(c(this,_e)[6])&&!this.isEmpty())return`M${(c(this,_e)[2]-s)/a} ${(c(this,_e)[3]-o)/l} L${(c(this,_e)[4]-s)/a} ${(c(this,_e)[5]-o)/l} L${h} ${u} L${f} ${p} L${(c(this,_e)[16]-s)/a} ${(c(this,_e)[17]-o)/l} L${(c(this,_e)[14]-s)/a} ${(c(this,_e)[15]-o)/l} Z`;const m=[];m.push(`M${e[4]} ${e[5]}`);for(let y=6;y<e.length;y+=6)isNaN(e[y])?m.push(`L${e[y+4]} ${e[y+5]}`):m.push(`C${e[y]} ${e[y+1]} ${e[y+2]} ${e[y+3]} ${e[y+4]} ${e[y+5]}`);m.push(`L${(i[0]-s)/a} ${(i[1]-o)/l} L${h} ${u} L${f} ${p} L${(r[0]-s)/a} ${(r[1]-o)/l}`);for(let y=n.length-6;y>=6;y-=6)isNaN(n[y])?m.push(`L${n[y+4]} ${n[y+5]}`):m.push(`C${n[y]} ${n[y+1]} ${n[y+2]} ${n[y+3]} ${n[y+4]} ${n[y+5]}`);return m.push(`L${n[4]} ${n[5]} Z`),m.join(" ")}getOutlines(){var e;const n=c(this,tr),i=c(this,Ur),r=c(this,_e),s=r.subarray(4,6),o=r.subarray(16,18),[a,l,h,u]=c(this,or),f=new Float64Array((((e=c(this,no))==null?void 0:e.length)??0)+2);for(let S=0,E=f.length-2;S<E;S+=2)f[S]=(c(this,no)[S]-a)/h,f[S+1]=(c(this,no)[S+1]-l)/u;f[f.length-2]=(c(this,Pl)-a)/h,f[f.length-1]=(c(this,Tl)-l)/u;const[p,m,y,A]=k(this,Lp,Lw).call(this);if(isNaN(r[6])&&!this.isEmpty()){const S=new Float64Array(36);return S.set([NaN,NaN,NaN,NaN,(r[2]-a)/h,(r[3]-l)/u,NaN,NaN,NaN,NaN,(r[4]-a)/h,(r[5]-l)/u,NaN,NaN,NaN,NaN,p,m,NaN,NaN,NaN,NaN,y,A,NaN,NaN,NaN,NaN,(r[16]-a)/h,(r[17]-l)/u,NaN,NaN,NaN,NaN,(r[14]-a)/h,(r[15]-l)/u],0),new Dw(S,f,c(this,or),c(this,fu),c(this,hu),c(this,du))}const b=new Float64Array(c(this,tr).length+24+c(this,Ur).length);let w=n.length;for(let S=0;S<w;S+=2){if(isNaN(n[S])){b[S]=b[S+1]=NaN;continue}b[S]=n[S],b[S+1]=n[S+1]}b.set([NaN,NaN,NaN,NaN,(s[0]-a)/h,(s[1]-l)/u,NaN,NaN,NaN,NaN,p,m,NaN,NaN,NaN,NaN,y,A,NaN,NaN,NaN,NaN,(o[0]-a)/h,(o[1]-l)/u],w),w+=24;for(let S=i.length-6;S>=6;S-=6)for(let E=0;E<6;E+=2){if(isNaN(i[S+E])){b[w]=b[w+1]=NaN,w+=2;continue}b[w]=i[S+E],b[w+1]=i[S+E+1],w+=2}return b.set([NaN,NaN,NaN,NaN,i[4],i[5]],w),new Dw(b,f,c(this,or),c(this,fu),c(this,hu),c(this,du))}};or=new WeakMap,Ur=new WeakMap,hu=new WeakMap,du=new WeakMap,tr=new WeakMap,_e=new WeakMap,Pl=new WeakMap,Tl=new WeakMap,Tp=new WeakMap,Rp=new WeakMap,fu=new WeakMap,pu=new WeakMap,no=new WeakMap,Mp=new WeakMap,Lv=new WeakMap,Mw=new WeakMap,Lp=new WeakSet,Lw=function(){const t=c(this,_e).subarray(4,6),e=c(this,_e).subarray(16,18),[n,i,r,s]=c(this,or);return[(c(this,Pl)+(t[0]-e[0])/2-n)/r,(c(this,Tl)+(t[1]-e[1])/2-i)/s,(c(this,Pl)+(e[0]-t[0])/2-n)/r,(c(this,Tl)+(e[1]-t[1])/2-i)/s]},v(Ia,Mp,8),v(Ia,Lv,2),v(Ia,Mw,c(Ia,Mp)+c(Ia,Lv));let oT=Ia;var gu,ul,hs,Ip,Bn,Np,at,Na,mu,Da,vu,Nw,aT;class Dw extends sT{constructor(e,n,i,r,s,o){super(),v(this,Na),v(this,Da),v(this,Nw),v(this,gu,void 0),v(this,ul,null),v(this,hs,void 0),v(this,Ip,void 0),v(this,Bn,void 0),v(this,Np,void 0),v(this,at,void 0),_(this,at,e),_(this,Bn,n),_(this,gu,i),_(this,Np,r),_(this,hs,s),_(this,Ip,o),k(this,Nw,aT).call(this,o);const{x:a,y:l,width:h,height:u}=c(this,ul);for(let f=0,p=e.length;f<p;f+=2)e[f]=(e[f]-a)/h,e[f+1]=(e[f+1]-l)/u;for(let f=0,p=n.length;f<p;f+=2)n[f]=(n[f]-a)/h,n[f+1]=(n[f+1]-l)/u}toSVGPath(){const e=[`M${c(this,at)[4]} ${c(this,at)[5]}`];for(let n=6,i=c(this,at).length;n<i;n+=6){if(isNaN(c(this,at)[n])){e.push(`L${c(this,at)[n+4]} ${c(this,at)[n+5]}`);continue}e.push(`C${c(this,at)[n]} ${c(this,at)[n+1]} ${c(this,at)[n+2]} ${c(this,at)[n+3]} ${c(this,at)[n+4]} ${c(this,at)[n+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,n,i,r],s){const o=i-e,a=r-n;let l,h;switch(s){case 0:l=k(this,Na,mu).call(this,c(this,at),e,r,o,-a),h=k(this,Na,mu).call(this,c(this,Bn),e,r,o,-a);break;case 90:l=k(this,Da,vu).call(this,c(this,at),e,n,o,a),h=k(this,Da,vu).call(this,c(this,Bn),e,n,o,a);break;case 180:l=k(this,Na,mu).call(this,c(this,at),i,n,-o,a),h=k(this,Na,mu).call(this,c(this,Bn),i,n,-o,a);break;case 270:l=k(this,Da,vu).call(this,c(this,at),i,r,-o,-a),h=k(this,Da,vu).call(this,c(this,Bn),i,r,-o,-a);break}return{outline:Array.from(l),points:[Array.from(h)]}}get box(){return c(this,ul)}getNewOutline(e,n){const{x:i,y:r,width:s,height:o}=c(this,ul),[a,l,h,u]=c(this,gu),f=s*h,p=o*u,m=i*h+a,y=r*u+l,A=new oT({x:c(this,Bn)[0]*f+m,y:c(this,Bn)[1]*p+y},c(this,gu),c(this,Np),e,c(this,Ip),n??c(this,hs));for(let b=2;b<c(this,Bn).length;b+=2)A.add({x:c(this,Bn)[b]*f+m,y:c(this,Bn)[b+1]*p+y});return A.getOutlines()}}gu=new WeakMap,ul=new WeakMap,hs=new WeakMap,Ip=new WeakMap,Bn=new WeakMap,Np=new WeakMap,at=new WeakMap,Na=new WeakSet,mu=function(t,e,n,i,r){const s=new Float64Array(t.length);for(let o=0,a=t.length;o<a;o+=2)s[o]=e+t[o]*i,s[o+1]=n+t[o+1]*r;return s},Da=new WeakSet,vu=function(t,e,n,i,r){const s=new Float64Array(t.length);for(let o=0,a=t.length;o<a;o+=2)s[o]=e+t[o+1]*i,s[o+1]=n+t[o]*r;return s},Nw=new WeakSet,aT=function(t){const e=c(this,at);let n=e[4],i=e[5],r=n,s=i,o=n,a=i,l=n,h=i;const u=t?Math.max:Math.min;for(let A=6,b=e.length;A<b;A+=6){if(isNaN(e[A]))r=Math.min(r,e[A+4]),s=Math.min(s,e[A+5]),o=Math.max(o,e[A+4]),a=Math.max(a,e[A+5]),h<e[A+5]?(l=e[A+4],h=e[A+5]):h===e[A+5]&&(l=u(l,e[A+4]));else{const w=ae.bezierBoundingBox(n,i,...e.slice(A,A+6));r=Math.min(r,w[0]),s=Math.min(s,w[1]),o=Math.max(o,w[2]),a=Math.max(a,w[3]),h<w[3]?(l=w[2],h=w[3]):h===w[3]&&(l=u(l,w[2]))}n=e[A+4],i=e[A+5]}const f=r-c(this,hs),p=s-c(this,hs),m=o-r+2*c(this,hs),y=a-s+2*c(this,hs);_(this,ul,{x:f,y:p,width:m,height:y,lastPoint:[l,h]})};var um,hm,bi,Oa,nh,At,dm,yu,Dp,fm,mo,ih,pm,Ow,gm,$w,Fw,lT,Hr,io,jw,cT,ar,es;const uT=class ro{constructor({editor:e=null,uiManager:n=null}){v(this,pm),v(this,gm),v(this,Fw),v(this,Hr),v(this,jw),v(this,ar),v(this,um,k(this,Fw,lT).bind(this)),v(this,hm,k(this,jw,cT).bind(this)),v(this,bi,null),v(this,Oa,null),v(this,nh,void 0),v(this,At,null),v(this,dm,!1),v(this,yu,!1),v(this,Dp,null),v(this,fm,void 0),v(this,mo,null),v(this,ih,void 0);var i;e?(_(this,yu,!1),_(this,ih,pe.HIGHLIGHT_COLOR),_(this,Dp,e)):(_(this,yu,!0),_(this,ih,pe.HIGHLIGHT_DEFAULT_COLOR)),_(this,mo,(e==null?void 0:e._uiManager)||n),_(this,fm,c(this,mo)._eventBus),_(this,nh,(e==null?void 0:e.color)||((i=c(this,mo))==null?void 0:i.highlightColors.values().next().value)||"#FFFF98")}static get _keyboardManager(){return Pe(this,"_keyboardManager",new zh([[["Escape","mac+Escape"],ro.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],ro.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],ro.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],ro.prototype._moveToPrevious],[["Home","mac+Home"],ro.prototype._moveToBeginning],[["End","mac+End"],ro.prototype._moveToEnd]]))}renderButton(){const e=_(this,bi,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0),e.addEventListener("click",k(this,Hr,io).bind(this)),e.addEventListener("keydown",c(this,um));const n=_(this,Oa,document.createElement("span"));return n.className="swatch",n.setAttribute("aria-hidden",!0),n.style.backgroundColor=c(this,nh),e.append(n),e}renderMainDropdown(){const e=_(this,At,k(this,pm,Ow).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===c(this,bi)){k(this,Hr,io).call(this,e);return}const n=e.target.getAttribute("data-color");n&&k(this,gm,$w).call(this,n,e)}_moveToNext(e){var n,i;if(!c(this,ar,es)){k(this,Hr,io).call(this,e);return}if(e.target===c(this,bi)){(n=c(this,At).firstChild)==null||n.focus();return}(i=e.target.nextSibling)==null||i.focus()}_moveToPrevious(e){var n,i;if(e.target===((n=c(this,At))==null?void 0:n.firstChild)||e.target===c(this,bi)){c(this,ar,es)&&this._hideDropdownFromKeyboard();return}c(this,ar,es)||k(this,Hr,io).call(this,e),(i=e.target.previousSibling)==null||i.focus()}_moveToBeginning(e){var n;if(!c(this,ar,es)){k(this,Hr,io).call(this,e);return}(n=c(this,At).firstChild)==null||n.focus()}_moveToEnd(e){var n;if(!c(this,ar,es)){k(this,Hr,io).call(this,e);return}(n=c(this,At).lastChild)==null||n.focus()}hideDropdown(){var e;(e=c(this,At))==null||e.classList.add("hidden"),window.removeEventListener("pointerdown",c(this,hm))}_hideDropdownFromKeyboard(){var e;if(!c(this,yu)){if(!c(this,ar,es)){(e=c(this,Dp))==null||e.unselect();return}this.hideDropdown(),c(this,bi).focus({preventScroll:!0,focusVisible:c(this,dm)})}}updateColor(e){if(c(this,Oa)&&(c(this,Oa).style.backgroundColor=e),!c(this,At))return;const n=c(this,mo).highlightColors.values();for(const i of c(this,At).children)i.setAttribute("aria-selected",n.next().value===e)}destroy(){var e,n;(e=c(this,bi))==null||e.remove(),_(this,bi,null),_(this,Oa,null),(n=c(this,At))==null||n.remove(),_(this,At,null)}};um=new WeakMap,hm=new WeakMap,bi=new WeakMap,Oa=new WeakMap,nh=new WeakMap,At=new WeakMap,dm=new WeakMap,yu=new WeakMap,Dp=new WeakMap,fm=new WeakMap,mo=new WeakMap,ih=new WeakMap,pm=new WeakSet,Ow=function(){const t=document.createElement("div");t.addEventListener("contextmenu",En),t.className="dropdown",t.role="listbox",t.setAttribute("aria-multiselectable",!1),t.setAttribute("aria-orientation","vertical"),t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[e,n]of c(this,mo).highlightColors){const i=document.createElement("button");i.tabIndex="0",i.role="option",i.setAttribute("data-color",n),i.title=e,i.setAttribute("data-l10n-id",`pdfjs-editor-colorpicker-${e}`);const r=document.createElement("span");i.append(r),r.className="swatch",r.style.backgroundColor=n,i.setAttribute("aria-selected",n===c(this,nh)),i.addEventListener("click",k(this,gm,$w).bind(this,n)),t.append(i)}return t.addEventListener("keydown",c(this,um)),t},gm=new WeakSet,$w=function(t,e){e.stopPropagation(),c(this,fm).dispatch("switchannotationeditorparams",{source:this,type:c(this,ih),value:t})},Fw=new WeakSet,lT=function(t){uT._keyboardManager.exec(this,t)},Hr=new WeakSet,io=function(t){if(c(this,ar,es)){this.hideDropdown();return}if(_(this,dm,t.detail===0),window.addEventListener("pointerdown",c(this,hm)),c(this,At)){c(this,At).classList.remove("hidden");return}const e=_(this,At,k(this,pm,Ow).call(this));c(this,bi).append(e)},jw=new WeakSet,cT=function(t){var e;(e=c(this,At))!=null&&e.contains(t.target)||this.hideDropdown()},ar=new WeakSet,es=function(){return c(this,At)&&!c(this,At).classList.contains("hidden")};let hT=uT;var rh,mm,Co,hl,sh,si,vm,ym,Rl,Ci,fn,qn,Ww,oh,dl,Et,wu,fr,Op,$p,Bw,wm,zw,Uw,dT,Hw,fT,Vw,Dk,Fp,Gw,$a,Su,Po,Ml,qw,pT,xu,jp,fl,ah,Yw,gT,Kw,mT,Xw,vT,Qw,yT;const Wt=class Bt extends je{constructor(e){super({...e,name:"highlightEditor"}),v(this,$p),v(this,wm),v(this,Uw),v(this,Hw),v(this,Vw),v(this,Fp),v(this,$a),v(this,qw),v(this,xu),v(this,fl),v(this,Yw),v(this,Kw),v(this,rh,null),v(this,mm,0),v(this,Co,void 0),v(this,hl,null),v(this,sh,null),v(this,si,null),v(this,vm,null),v(this,ym,0),v(this,Rl,null),v(this,Ci,null),v(this,fn,null),v(this,qn,!1),v(this,Ww,k(this,qw,pT).bind(this)),v(this,oh,null),v(this,dl,void 0),v(this,Et,null),v(this,wu,""),v(this,fr,void 0),v(this,Op,""),this.color=e.color||Bt._defaultColor,_(this,fr,e.thickness||Bt._defaultThickness),_(this,dl,e.opacity||Bt._defaultOpacity),_(this,Co,e.boxes||null),_(this,Op,e.methodOfCreation||""),_(this,wu,e.text||""),this._isDraggable=!1,e.highlightId>-1?(_(this,qn,!0),k(this,wm,zw).call(this,e),k(this,$a,Su).call(this)):(_(this,rh,e.anchorNode),_(this,mm,e.anchorOffset),_(this,vm,e.focusNode),_(this,ym,e.focusOffset),k(this,$p,Bw).call(this),k(this,$a,Su).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const e=Bt.prototype;return Pe(this,"_keyboardManager",new zh([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:c(this,qn)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:c(this,fr),methodOfCreation:c(this,Op)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}static initialize(e,n){var i;je.initialize(e,n),Bt._defaultColor||(Bt._defaultColor=((i=n.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(e,n){switch(e){case pe.HIGHLIGHT_DEFAULT_COLOR:Bt._defaultColor=n;break;case pe.HIGHLIGHT_THICKNESS:Bt._defaultThickness=n;break}}translateInPage(e,n){}get toolbarPosition(){return c(this,oh)}updateParams(e,n){switch(e){case pe.HIGHLIGHT_COLOR:k(this,Uw,dT).call(this,n);break;case pe.HIGHLIGHT_THICKNESS:k(this,Hw,fT).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[pe.HIGHLIGHT_DEFAULT_COLOR,Bt._defaultColor],[pe.HIGHLIGHT_THICKNESS,Bt._defaultThickness]]}get propertiesToUpdate(){return[[pe.HIGHLIGHT_COLOR,this.color||Bt._defaultColor],[pe.HIGHLIGHT_THICKNESS,c(this,fr)||Bt._defaultThickness],[pe.HIGHLIGHT_FREE,c(this,qn)]]}async addEditToolbar(){const e=await super.addEditToolbar();return e?(this._uiManager.highlightColors&&(_(this,sh,new hT({editor:this})),e.addColorPicker(c(this,sh))),e):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(k(this,fl,ah).call(this))}getBaseTranslation(){return[0,0]}getRect(e,n){return super.getRect(e,n,k(this,fl,ah).call(this))}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){k(this,Fp,Gw).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(k(this,$a,Su).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var n;let i=!1;this.parent&&!e?k(this,Fp,Gw).call(this):e&&(k(this,$a,Su).call(this,e),i=!this.parent&&((n=this.div)==null?void 0:n.classList.contains("selectedEditor"))),super.setParent(e),this.show(this._isVisible),i&&this.select()}rotate(e){var n,i,r;const{drawLayer:s}=this.parent;let o;c(this,qn)?(e=(e-this.rotation+360)%360,o=k(n=Bt,Po,Ml).call(n,c(this,Ci).box,e)):o=k(i=Bt,Po,Ml).call(i,this,e),s.rotate(c(this,fn),e),s.rotate(c(this,Et),e),s.updateBox(c(this,fn),o),s.updateBox(c(this,Et),k(r=Bt,Po,Ml).call(r,c(this,si).box,e))}render(){if(this.div)return this.div;const e=super.render();c(this,wu)&&(e.setAttribute("aria-label",c(this,wu)),e.setAttribute("role","mark")),c(this,qn)?e.classList.add("free"):this.div.addEventListener("keydown",c(this,Ww));const n=_(this,Rl,document.createElement("div"));e.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=c(this,hl);const[i,r]=this.parentDimensions;return this.setDims(this.width*i,this.height*r),Fg(this,c(this,Rl),["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.parent.drawLayer.addClass(c(this,Et),"hovered")}pointerleave(){this.parent.drawLayer.removeClass(c(this,Et),"hovered")}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:k(this,xu,jp).call(this,!0);break;case 1:case 3:k(this,xu,jp).call(this,!1);break}}select(){var e,n;super.select(),c(this,Et)&&((e=this.parent)==null||e.drawLayer.removeClass(c(this,Et),"hovered"),(n=this.parent)==null||n.drawLayer.addClass(c(this,Et),"selected"))}unselect(){var e;super.unselect(),c(this,Et)&&((e=this.parent)==null||e.drawLayer.removeClass(c(this,Et),"selected"),c(this,qn)||k(this,xu,jp).call(this,!1))}get _mustFixPosition(){return!c(this,qn)}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.show(c(this,fn),e),this.parent.drawLayer.show(c(this,Et),e))}static startHighlighting(e,n,{target:i,x:r,y:s}){const{x:o,y:a,width:l,height:h}=i.getBoundingClientRect(),u=y=>{k(this,Xw,vT).call(this,e,y)},f={capture:!0,passive:!1},p=y=>{y.preventDefault(),y.stopPropagation()},m=y=>{i.removeEventListener("pointermove",u),window.removeEventListener("blur",m),window.removeEventListener("pointerup",m),window.removeEventListener("pointerdown",p,f),window.removeEventListener("contextmenu",En),k(this,Qw,yT).call(this,e,y)};window.addEventListener("blur",m),window.addEventListener("pointerup",m),window.addEventListener("pointerdown",p,f),window.addEventListener("contextmenu",En),i.addEventListener("pointermove",u),this._freeHighlight=new oT({x:r,y:s},[o,a,l,h],e.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.highlight(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static deserialize(e,n,i){var r;const s=super.deserialize(e,n,i),{rect:[o,a,l,h],color:u,quadPoints:f}=e;s.color=ae.makeHexColor(...u),_(s,dl,e.opacity);const[p,m]=s.pageDimensions;s.width=(l-o)/p,s.height=(h-a)/m;const y=_(s,Co,[]);for(let A=0;A<f.length;A+=8)y.push({x:(f[4]-l)/p,y:(h-(1-f[A+5]))/m,width:(f[A+2]-f[A])/p,height:(f[A+5]-f[A+1])/m});return k(r=s,$p,Bw).call(r),s}serialize(e=!1){if(this.isEmpty()||e)return null;const n=this.getRect(0,0),i=je._colorManager.convert(this.color);return{annotationType:be.HIGHLIGHT,color:i,opacity:c(this,dl),thickness:c(this,fr),quadPoints:k(this,Yw,gT).call(this),outlines:k(this,Kw,mT).call(this,n),pageIndex:this.pageIndex,rect:n,rotation:k(this,fl,ah).call(this),structTreeParentId:this._structTreeParentId}}static canCreateNewEmptyEditor(){return!1}};rh=new WeakMap,mm=new WeakMap,Co=new WeakMap,hl=new WeakMap,sh=new WeakMap,si=new WeakMap,vm=new WeakMap,ym=new WeakMap,Rl=new WeakMap,Ci=new WeakMap,fn=new WeakMap,qn=new WeakMap,Ww=new WeakMap,oh=new WeakMap,dl=new WeakMap,Et=new WeakMap,wu=new WeakMap,fr=new WeakMap,Op=new WeakMap,$p=new WeakSet,Bw=function(){const t=new Rw(c(this,Co),.001);_(this,Ci,t.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=c(this,Ci).box;const e=new Rw(c(this,Co),.0025,.001,this._uiManager.direction==="ltr");_(this,si,e.getOutlines());const{lastPoint:n}=c(this,si).box;_(this,oh,[(n[0]-this.x)/this.width,(n[1]-this.y)/this.height])},wm=new WeakSet,zw=function({highlightOutlines:t,highlightId:e,clipPathId:n}){var i,r;if(_(this,Ci,t),_(this,si,t.getNewOutline(c(this,fr)/2+1.5,.0025)),e>=0)_(this,fn,e),_(this,hl,n),this.parent.drawLayer.finalizeLine(e,t),_(this,Et,this.parent.drawLayer.highlightOutline(c(this,si)));else if(this.parent){const u=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(c(this,fn),t),this.parent.drawLayer.updateBox(c(this,fn),k(i=Wt,Po,Ml).call(i,c(this,Ci).box,(u-this.rotation+360)%360)),this.parent.drawLayer.updateLine(c(this,Et),c(this,si)),this.parent.drawLayer.updateBox(c(this,Et),k(r=Wt,Po,Ml).call(r,c(this,si).box,u))}const{x:s,y:o,width:a,height:l}=t.box;switch(this.rotation){case 0:this.x=s,this.y=o,this.width=a,this.height=l;break;case 90:{const[u,f]=this.parentDimensions;this.x=o,this.y=1-s,this.width=a*f/u,this.height=l*u/f;break}case 180:this.x=1-s,this.y=1-o,this.width=a,this.height=l;break;case 270:{const[u,f]=this.parentDimensions;this.x=1-o,this.y=s,this.width=a*f/u,this.height=l*u/f;break}}const{lastPoint:h}=c(this,si).box;_(this,oh,[(h[0]-s)/a,(h[1]-o)/l])},Uw=new WeakSet,dT=function(t){const e=i=>{var r,s;this.color=i,(r=this.parent)==null||r.drawLayer.changeColor(c(this,fn),i),(s=c(this,sh))==null||s.updateColor(i)},n=this.color;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:pe.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)},Hw=new WeakSet,fT=function(t){const e=c(this,fr),n=i=>{_(this,fr,i),k(this,Vw,Dk).call(this,i)};this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,e),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:pe.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},Vw=new WeakSet,Dk=function(t){if(!c(this,qn))return;k(this,wm,zw).call(this,{highlightOutlines:c(this,Ci).getNewOutline(t/2)}),this.fixAndSetPosition();const[e,n]=this.parentDimensions;this.setDims(this.width*e,this.height*n)},Fp=new WeakSet,Gw=function(){c(this,fn)===null||!this.parent||(this.parent.drawLayer.remove(c(this,fn)),_(this,fn,null),this.parent.drawLayer.remove(c(this,Et)),_(this,Et,null))},$a=new WeakSet,Su=function(t=this.parent){c(this,fn)===null&&({id:Zn(this,fn)._,clipPathId:Zn(this,hl)._}=t.drawLayer.highlight(c(this,Ci),this.color,c(this,dl)),_(this,Et,t.drawLayer.highlightOutline(c(this,si))),c(this,Rl)&&(c(this,Rl).style.clipPath=c(this,hl)))},Po=new WeakSet,Ml=function({x:t,y:e,width:n,height:i},r){switch(r){case 90:return{x:1-e-i,y:t,width:i,height:n};case 180:return{x:1-t-n,y:1-e-i,width:n,height:i};case 270:return{x:e,y:1-t-n,width:i,height:n}}return{x:t,y:e,width:n,height:i}},qw=new WeakSet,pT=function(t){Wt._keyboardManager.exec(this,t)},xu=new WeakSet,jp=function(t){if(!c(this,rh))return;const e=window.getSelection();t?e.setPosition(c(this,rh),c(this,mm)):e.setPosition(c(this,vm),c(this,ym))},fl=new WeakSet,ah=function(){return c(this,qn)?this.rotation:0},Yw=new WeakSet,gT=function(){if(c(this,qn))return null;const[t,e]=this.pageDimensions,n=c(this,Co),i=new Array(n.length*8);let r=0;for(const{x:s,y:o,width:a,height:l}of n){const h=s*t,u=(1-o-l)*e;i[r]=i[r+4]=h,i[r+1]=i[r+3]=u,i[r+2]=i[r+6]=h+a*t,i[r+5]=i[r+7]=u+l*e,r+=8}return i},Kw=new WeakSet,mT=function(t){return c(this,Ci).serialize(t,k(this,fl,ah).call(this))},Xw=new WeakSet,vT=function(t,e){this._freeHighlight.add(e)&&t.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},Qw=new WeakSet,yT=function(t,e){this._freeHighlight.isEmpty()?t.drawLayer.removeFreeHighlight(this._freeHighlightId):t.createAndAddNewEditor(e,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},v(Wt,Po),v(Wt,Xw),v(Wt,Qw),ve(Wt,"_defaultColor",null),ve(Wt,"_defaultOpacity",1),ve(Wt,"_defaultThickness",12),ve(Wt,"_l10nPromise"),ve(Wt,"_type","highlight"),ve(Wt,"_editorType",be.HIGHLIGHT),ve(Wt,"_freeHighlightId",-1),ve(Wt,"_freeHighlight",null),ve(Wt,"_freeHighlightClipId","");let Ok=Wt;var pl,gl,Wp,Bp,zp,Ll,pr,Vr,li,Fa,ml,Il,vl,yl,so,Zw,wT,Jw,ST,eS,xT,tS,AT,Up,Iv,nS,ET,Sm,iS,rS,$k,sS,Fk,oS,jk,aS,Wk,lS,Bk,ds,vo,Hp,cS,lh,xm,ch,Am,To,Nl,Vp,uS,Au,Fd,hS,kT,jd,Nv,dS,_T,fS,bT,Em,pS,Eu,Wd,Dl,uh;const hn=class ii extends je{constructor(e){super({...e,name:"inkEditor"}),v(this,Zw),v(this,Jw),v(this,eS),v(this,tS),v(this,Up),v(this,nS),v(this,Sm),v(this,rS),v(this,sS),v(this,oS),v(this,aS),v(this,lS),v(this,ds),v(this,Hp),v(this,lh),v(this,ch),v(this,To),v(this,Vp),v(this,Au),v(this,fS),v(this,Em),v(this,Eu),v(this,Dl),v(this,pl,0),v(this,gl,0),v(this,Wp,this.canvasPointermove.bind(this)),v(this,Bp,this.canvasPointerleave.bind(this)),v(this,zp,this.canvasPointerup.bind(this)),v(this,Ll,this.canvasPointerdown.bind(this)),v(this,pr,null),v(this,Vr,new Path2D),v(this,li,!1),v(this,Fa,!1),v(this,ml,!1),v(this,Il,null),v(this,vl,0),v(this,yl,0),v(this,so,null),this.color=e.color||null,this.thickness=e.thickness||null,this.opacity=e.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(e,n){je.initialize(e,n)}static updateDefaultParams(e,n){switch(e){case pe.INK_THICKNESS:ii._defaultThickness=n;break;case pe.INK_COLOR:ii._defaultColor=n;break;case pe.INK_OPACITY:ii._defaultOpacity=n/100;break}}updateParams(e,n){switch(e){case pe.INK_THICKNESS:k(this,Zw,wT).call(this,n);break;case pe.INK_COLOR:k(this,Jw,ST).call(this,n);break;case pe.INK_OPACITY:k(this,eS,xT).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[pe.INK_THICKNESS,ii._defaultThickness],[pe.INK_COLOR,ii._defaultColor||je._defaultLineColor],[pe.INK_OPACITY,Math.round(ii._defaultOpacity*100)]]}get propertiesToUpdate(){return[[pe.INK_THICKNESS,this.thickness||ii._defaultThickness],[pe.INK_COLOR,this.color||ii._defaultColor||je._defaultLineColor],[pe.INK_OPACITY,Math.round(100*(this.opacity??ii._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(k(this,lh,xm).call(this),k(this,ch,Am).call(this)),this.isAttachedToDOM||(this.parent.add(this),k(this,To,Nl).call(this)),k(this,Dl,uh).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,c(this,pr)&&(clearTimeout(c(this,pr)),_(this,pr,null)),c(this,Il).disconnect(),_(this,Il,null),super.remove())}setParent(e){!this.parent&&e?this._uiManager.removeShouldRescale(this):this.parent&&e===null&&this._uiManager.addShouldRescale(this),super.setParent(e)}onScaleChanging(){const[e,n]=this.parentDimensions,i=this.width*e,r=this.height*n;this.setDimensions(i,r)}enableEditMode(){c(this,li)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",c(this,Ll)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",c(this,Ll)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){c(this,li)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),_(this,li,!0),this.div.classList.add("disabled"),k(this,Dl,uh).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),this.enableEditMode())}canvasPointerdown(e){e.button!==0||!this.isInEditMode()||c(this,li)||(this.setInForeground(),e.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),k(this,nS,ET).call(this,e.offsetX,e.offsetY))}canvasPointermove(e){e.preventDefault(),k(this,Sm,iS).call(this,e.offsetX,e.offsetY)}canvasPointerup(e){e.preventDefault(),k(this,Hp,cS).call(this,e)}canvasPointerleave(e){k(this,Hp,cS).call(this,e)}get isResizable(){return!this.isEmpty()&&c(this,li)}render(){if(this.div)return this.div;let e,n;this.width&&(e=this.x,n=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[i,r,s,o]=k(this,tS,AT).call(this);if(this.setAt(i,r,0,0),this.setDims(s,o),k(this,lh,xm).call(this),this.width){const[a,l]=this.parentDimensions;this.setAspectRatio(this.width*a,this.height*l),this.setAt(e*a,n*l,this.width*a,this.height*l),_(this,ml,!0),k(this,To,Nl).call(this),this.setDims(this.width*a,this.height*l),k(this,ds,vo).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return k(this,ch,Am).call(this),this.div}setDimensions(e,n){const i=Math.round(e),r=Math.round(n);if(c(this,vl)===i&&c(this,yl)===r)return;_(this,vl,i),_(this,yl,r),this.canvas.style.visibility="hidden";const[s,o]=this.parentDimensions;this.width=e/s,this.height=n/o,this.fixAndSetPosition(),c(this,li)&&k(this,Vp,uS).call(this,e,n),k(this,To,Nl).call(this),k(this,ds,vo).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(e,n,i){var r,s,o;if(e instanceof KP)return null;const a=super.deserialize(e,n,i);a.thickness=e.thickness,a.color=ae.makeHexColor(...e.color),a.opacity=e.opacity;const[l,h]=a.pageDimensions,u=a.width*l,f=a.height*h,p=a.parentScale,m=e.thickness/2;_(a,li,!0),_(a,vl,Math.round(u)),_(a,yl,Math.round(f));const{paths:y,rect:A,rotation:b}=e;for(let{bezier:S}of y){S=k(r=ii,dS,_T).call(r,S,A,b);const E=[];a.paths.push(E);let T=p*(S[0]-m),R=p*(S[1]-m);for(let M=2,C=S.length;M<C;M+=6){const P=p*(S[M]-m),N=p*(S[M+1]-m),$=p*(S[M+2]-m),z=p*(S[M+3]-m),U=p*(S[M+4]-m),Q=p*(S[M+5]-m);E.push([[T,R],[P,N],[$,z],[U,Q]]),T=U,R=Q}const I=k(this,hS,kT).call(this,E);a.bezierPath2D.push(I)}const w=k(s=a,Em,pS).call(s);return _(a,gl,Math.max(je.MIN_SIZE,w[2]-w[0])),_(a,pl,Math.max(je.MIN_SIZE,w[3]-w[1])),k(o=a,Vp,uS).call(o,u,f),a}serialize(){if(this.isEmpty())return null;const e=this.getRect(0,0),n=je._colorManager.convert(this.ctx.strokeStyle);return{annotationType:be.INK,color:n,thickness:this.thickness,opacity:this.opacity,paths:k(this,fS,bT).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,e),pageIndex:this.pageIndex,rect:e,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};pl=new WeakMap,gl=new WeakMap,Wp=new WeakMap,Bp=new WeakMap,zp=new WeakMap,Ll=new WeakMap,pr=new WeakMap,Vr=new WeakMap,li=new WeakMap,Fa=new WeakMap,ml=new WeakMap,Il=new WeakMap,vl=new WeakMap,yl=new WeakMap,so=new WeakMap,Zw=new WeakSet,wT=function(t){const e=i=>{this.thickness=i,k(this,Dl,uh).call(this)},n=this.thickness;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:pe.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},Jw=new WeakSet,ST=function(t){const e=i=>{this.color=i,k(this,ds,vo).call(this)},n=this.color;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:pe.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},eS=new WeakSet,xT=function(t){const e=i=>{this.opacity=i,k(this,ds,vo).call(this)};t/=100;const n=this.opacity;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:pe.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},tS=new WeakSet,AT=function(){const{parentRotation:t,parentDimensions:[e,n]}=this;switch(t){case 90:return[0,n,n,e];case 180:return[e,n,e,n];case 270:return[e,0,n,e];default:return[0,0,e,n]}},Up=new WeakSet,Iv=function(){const{ctx:t,color:e,opacity:n,thickness:i,parentScale:r,scaleFactor:s}=this;t.lineWidth=i*r/s,t.lineCap="round",t.lineJoin="round",t.miterLimit=10,t.strokeStyle=`${e}${G5(n)}`},nS=new WeakSet,ET=function(t,e){this.canvas.addEventListener("contextmenu",En),this.canvas.addEventListener("pointerleave",c(this,Bp)),this.canvas.addEventListener("pointermove",c(this,Wp)),this.canvas.addEventListener("pointerup",c(this,zp)),this.canvas.removeEventListener("pointerdown",c(this,Ll)),this.isEditing=!0,c(this,ml)||(_(this,ml,!0),k(this,To,Nl).call(this),this.thickness||(this.thickness=hn._defaultThickness),this.color||(this.color=hn._defaultColor||je._defaultLineColor),this.opacity??(this.opacity=hn._defaultOpacity)),this.currentPath.push([t,e]),_(this,Fa,!1),k(this,Up,Iv).call(this),_(this,so,()=>{k(this,oS,jk).call(this),c(this,so)&&window.requestAnimationFrame(c(this,so))}),window.requestAnimationFrame(c(this,so))},Sm=new WeakSet,iS=function(t,e){const[n,i]=this.currentPath.at(-1);if(this.currentPath.length>1&&t===n&&e===i)return;const r=this.currentPath;let s=c(this,Vr);if(r.push([t,e]),_(this,Fa,!0),r.length<=2){s.moveTo(...r[0]),s.lineTo(t,e);return}r.length===3&&(_(this,Vr,s=new Path2D),s.moveTo(...r[0])),k(this,aS,Wk).call(this,s,...r.at(-3),...r.at(-2),t,e)},rS=new WeakSet,$k=function(){if(this.currentPath.length===0)return;const t=this.currentPath.at(-1);c(this,Vr).lineTo(...t)},sS=new WeakSet,Fk=function(t,e){_(this,so,null),t=Math.min(Math.max(t,0),this.canvas.width),e=Math.min(Math.max(e,0),this.canvas.height),k(this,Sm,iS).call(this,t,e),k(this,rS,$k).call(this);let n;if(this.currentPath.length!==1)n=k(this,lS,Bk).call(this);else{const a=[t,e];n=[[a,a.slice(),a.slice(),a]]}const i=c(this,Vr),r=this.currentPath;this.currentPath=[],_(this,Vr,new Path2D);const s=()=>{this.allRawPaths.push(r),this.paths.push(n),this.bezierPath2D.push(i),this._uiManager.rebuild(this)},o=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(k(this,lh,xm).call(this),k(this,ch,Am).call(this)),k(this,Dl,uh).call(this))};this.addCommands({cmd:s,undo:o,mustExec:!0})},oS=new WeakSet,jk=function(){if(!c(this,Fa))return;_(this,Fa,!1);const t=Math.ceil(this.thickness*this.parentScale),e=this.currentPath.slice(-3),n=e.map(s=>s[0]),i=e.map(s=>s[1]);Math.min(...n)-t,Math.max(...n)+t,Math.min(...i)-t,Math.max(...i)+t;const{ctx:r}=this;r.save(),r.clearRect(0,0,this.canvas.width,this.canvas.height);for(const s of this.bezierPath2D)r.stroke(s);r.stroke(c(this,Vr)),r.restore()},aS=new WeakSet,Wk=function(t,e,n,i,r,s,o){const a=(e+i)/2,l=(n+r)/2,h=(i+s)/2,u=(r+o)/2;t.bezierCurveTo(a+2*(i-a)/3,l+2*(r-l)/3,h+2*(i-h)/3,u+2*(r-u)/3,h,u)},lS=new WeakSet,Bk=function(){const t=this.currentPath;if(t.length<=2)return[[t[0],t[0],t.at(-1),t.at(-1)]];const e=[];let n,[i,r]=t[0];for(n=1;n<t.length-2;n++){const[f,p]=t[n],[m,y]=t[n+1],A=(f+m)/2,b=(p+y)/2,w=[i+2*(f-i)/3,r+2*(p-r)/3],S=[A+2*(f-A)/3,b+2*(p-b)/3];e.push([[i,r],w,S,[A,b]]),[i,r]=[A,b]}const[s,o]=t[n],[a,l]=t[n+1],h=[i+2*(s-i)/3,r+2*(o-r)/3],u=[a+2*(s-a)/3,l+2*(o-l)/3];return e.push([[i,r],h,u,[a,l]]),e},ds=new WeakSet,vo=function(){if(this.isEmpty()){k(this,Au,Fd).call(this);return}k(this,Up,Iv).call(this);const{canvas:t,ctx:e}=this;e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,t.width,t.height),k(this,Au,Fd).call(this);for(const n of this.bezierPath2D)e.stroke(n)},Hp=new WeakSet,cS=function(t){this.canvas.removeEventListener("pointerleave",c(this,Bp)),this.canvas.removeEventListener("pointermove",c(this,Wp)),this.canvas.removeEventListener("pointerup",c(this,zp)),this.canvas.addEventListener("pointerdown",c(this,Ll)),c(this,pr)&&clearTimeout(c(this,pr)),_(this,pr,setTimeout(()=>{_(this,pr,null),this.canvas.removeEventListener("contextmenu",En)},10)),k(this,sS,Fk).call(this,t.offsetX,t.offsetY),this.addToAnnotationStorage(),this.setInBackground()},lh=new WeakSet,xm=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},ch=new WeakSet,Am=function(){_(this,Il,new ResizeObserver(t=>{const e=t[0].contentRect;e.width&&e.height&&this.setDimensions(e.width,e.height)})),c(this,Il).observe(this.div)},To=new WeakSet,Nl=function(){if(!c(this,ml))return;const[t,e]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*t),this.canvas.height=Math.ceil(this.height*e),k(this,Au,Fd).call(this)},Vp=new WeakSet,uS=function(t,e){const n=k(this,Eu,Wd).call(this),i=(t-n)/c(this,gl),r=(e-n)/c(this,pl);this.scaleFactor=Math.min(i,r)},Au=new WeakSet,Fd=function(){const t=k(this,Eu,Wd).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+t,this.translationY*this.scaleFactor+t)},hS=new WeakSet,kT=function(t){const e=new Path2D;for(let n=0,i=t.length;n<i;n++){const[r,s,o,a]=t[n];n===0&&e.moveTo(...r),e.bezierCurveTo(s[0],s[1],o[0],o[1],a[0],a[1])}return e},jd=new WeakSet,Nv=function(t,e,n){const[i,r,s,o]=e;switch(n){case 0:for(let a=0,l=t.length;a<l;a+=2)t[a]+=i,t[a+1]=o-t[a+1];break;case 90:for(let a=0,l=t.length;a<l;a+=2){const h=t[a];t[a]=t[a+1]+i,t[a+1]=h+r}break;case 180:for(let a=0,l=t.length;a<l;a+=2)t[a]=s-t[a],t[a+1]+=r;break;case 270:for(let a=0,l=t.length;a<l;a+=2){const h=t[a];t[a]=s-t[a+1],t[a+1]=o-h}break;default:throw new Error("Invalid rotation")}return t},dS=new WeakSet,_T=function(t,e,n){const[i,r,s,o]=e;switch(n){case 0:for(let a=0,l=t.length;a<l;a+=2)t[a]-=i,t[a+1]=o-t[a+1];break;case 90:for(let a=0,l=t.length;a<l;a+=2){const h=t[a];t[a]=t[a+1]-r,t[a+1]=h-i}break;case 180:for(let a=0,l=t.length;a<l;a+=2)t[a]=s-t[a],t[a+1]-=r;break;case 270:for(let a=0,l=t.length;a<l;a+=2){const h=t[a];t[a]=o-t[a+1],t[a+1]=s-h}break;default:throw new Error("Invalid rotation")}return t},fS=new WeakSet,bT=function(t,e,n,i){var r,s;const o=[],a=this.thickness/2,l=t*e+a,h=t*n+a;for(const u of this.paths){const f=[],p=[];for(let m=0,y=u.length;m<y;m++){const[A,b,w,S]=u[m];if(A[0]===S[0]&&A[1]===S[1]&&y===1){const $=t*A[0]+l,z=t*A[1]+h;f.push($,z),p.push($,z);break}const E=t*A[0]+l,T=t*A[1]+h,R=t*b[0]+l,I=t*b[1]+h,M=t*w[0]+l,C=t*w[1]+h,P=t*S[0]+l,N=t*S[1]+h;m===0&&(f.push(E,T),p.push(E,T)),f.push(R,I,M,C,P,N),p.push(R,I),m===y-1&&p.push(P,N)}o.push({bezier:k(r=hn,jd,Nv).call(r,f,i,this.rotation),points:k(s=hn,jd,Nv).call(s,p,i,this.rotation)})}return o},Em=new WeakSet,pS=function(){let t=1/0,e=-1/0,n=1/0,i=-1/0;for(const r of this.paths)for(const[s,o,a,l]of r){const h=ae.bezierBoundingBox(...s,...o,...a,...l);t=Math.min(t,h[0]),n=Math.min(n,h[1]),e=Math.max(e,h[2]),i=Math.max(i,h[3])}return[t,n,e,i]},Eu=new WeakSet,Wd=function(){return c(this,li)?Math.ceil(this.thickness*this.parentScale):0},Dl=new WeakSet,uh=function(t=!1){if(this.isEmpty())return;if(!c(this,li)){k(this,ds,vo).call(this);return}const e=k(this,Em,pS).call(this),n=k(this,Eu,Wd).call(this);_(this,gl,Math.max(je.MIN_SIZE,e[2]-e[0])),_(this,pl,Math.max(je.MIN_SIZE,e[3]-e[1]));const i=Math.ceil(n+c(this,gl)*this.scaleFactor),r=Math.ceil(n+c(this,pl)*this.scaleFactor),[s,o]=this.parentDimensions;this.width=i/s,this.height=r/o,this.setAspectRatio(i,r);const a=this.translationX,l=this.translationY;this.translationX=-e[0],this.translationY=-e[1],k(this,To,Nl).call(this),k(this,ds,vo).call(this),_(this,vl,i),_(this,yl,r),this.setDims(i,r);const h=t?n/this.scaleFactor/2:0;this.translate(a-this.translationX-h,l-this.translationY-h)},v(hn,hS),v(hn,jd),v(hn,dS),ve(hn,"_defaultColor",null),ve(hn,"_defaultOpacity",1),ve(hn,"_defaultThickness",1),ve(hn,"_type","ink"),ve(hn,"_editorType",be.INK);let M6=hn;var Ut,Vt,yo,ys,Ro,ku,gr,Ol,mr,$i,Gp,ja,bc,Wa,Cc,_u,qp,km,gS,mS,zk,vS,Uk,Yp,Dv,bu,Kp,yS,Hk;const Xp=class extends je{constructor(e){super({...e,name:"stampEditor"}),v(this,ja),v(this,Wa),v(this,_u),v(this,km),v(this,mS),v(this,vS),v(this,Yp),v(this,bu),v(this,yS),v(this,Ut,null),v(this,Vt,null),v(this,yo,null),v(this,ys,null),v(this,Ro,null),v(this,ku,""),v(this,gr,null),v(this,Ol,null),v(this,mr,null),v(this,$i,!1),v(this,Gp,!1),_(this,ys,e.bitmapUrl),_(this,Ro,e.bitmapFile)}static initialize(e,n){je.initialize(e,n)}static get supportedTypes(){return Pe(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(e=>`image/${e}`))}static get supportedTypesStr(){return Pe(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(e){return this.supportedTypes.includes(e)}static paste(e,n){n.pasteEditor(be.STAMP,{bitmapFile:e.getAsFile()})}remove(){var e,n;c(this,Vt)&&(_(this,Ut,null),this._uiManager.imageManager.deleteId(c(this,Vt)),(e=c(this,gr))==null||e.remove(),_(this,gr,null),(n=c(this,Ol))==null||n.disconnect(),_(this,Ol,null),c(this,mr)&&(clearTimeout(c(this,mr)),_(this,mr,null))),super.remove()}rebuild(){if(!this.parent){c(this,Vt)&&k(this,_u,qp).call(this);return}super.rebuild(),this.div!==null&&(c(this,Vt)&&c(this,gr)===null&&k(this,_u,qp).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(c(this,yo)||c(this,Ut)||c(this,ys)||c(this,Ro)||c(this,Vt))}get isResizable(){return!0}render(){if(this.div)return this.div;let e,n;if(this.width&&(e=this.x,n=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),c(this,Ut)?k(this,km,gS).call(this):k(this,_u,qp).call(this),this.width){const[i,r]=this.parentDimensions;this.setAt(e*i,n*r,this.width*i,this.height*r)}return this.div}getImageForAltText(){return c(this,gr)}static deserialize(e,n,i){if(e instanceof XP)return null;const r=super.deserialize(e,n,i),{rect:s,bitmapUrl:o,bitmapId:a,isSvg:l,accessibilityData:h}=e;a&&i.imageManager.isValidId(a)?_(r,Vt,a):_(r,ys,o),_(r,$i,l);const[u,f]=r.pageDimensions;return r.width=(s[2]-s[0])/u,r.height=(s[3]-s[1])/f,h&&(r.altTextData=h),r}serialize(e=!1,n=null){if(this.isEmpty())return null;const i={annotationType:be.STAMP,bitmapId:c(this,Vt),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:c(this,$i),structTreeParentId:this._structTreeParentId};if(e)return i.bitmapUrl=k(this,bu,Kp).call(this,!0),i.accessibilityData=this.altTextData,i;const{decorative:r,altText:s}=this.altTextData;if(!r&&s&&(i.accessibilityData={type:"Figure",alt:s}),n===null)return i;n.stamps||(n.stamps=new Map);const o=c(this,$i)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!n.stamps.has(c(this,Vt)))n.stamps.set(c(this,Vt),{area:o,serialized:i}),i.bitmap=k(this,bu,Kp).call(this,!1);else if(c(this,$i)){const a=n.stamps.get(c(this,Vt));o>a.area&&(a.area=o,a.serialized.bitmap.close(),a.serialized.bitmap=k(this,bu,Kp).call(this,!1))}return i}};Ut=new WeakMap,Vt=new WeakMap,yo=new WeakMap,ys=new WeakMap,Ro=new WeakMap,ku=new WeakMap,gr=new WeakMap,Ol=new WeakMap,mr=new WeakMap,$i=new WeakMap,Gp=new WeakMap,ja=new WeakSet,bc=function(t,e=!1){if(!t){this.remove();return}_(this,Ut,t.bitmap),e||(_(this,Vt,t.id),_(this,$i,t.isSvg)),t.file&&_(this,ku,t.file.name),k(this,km,gS).call(this)},Wa=new WeakSet,Cc=function(){_(this,yo,null),this._uiManager.enableWaiting(!1),c(this,gr)&&this.div.focus()},_u=new WeakSet,qp=function(){if(c(this,Vt)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(c(this,Vt)).then(e=>k(this,ja,bc).call(this,e,!0)).finally(()=>k(this,Wa,Cc).call(this));return}if(c(this,ys)){const e=c(this,ys);_(this,ys,null),this._uiManager.enableWaiting(!0),_(this,yo,this._uiManager.imageManager.getFromUrl(e).then(n=>k(this,ja,bc).call(this,n)).finally(()=>k(this,Wa,Cc).call(this)));return}if(c(this,Ro)){const e=c(this,Ro);_(this,Ro,null),this._uiManager.enableWaiting(!0),_(this,yo,this._uiManager.imageManager.getFromFile(e).then(n=>k(this,ja,bc).call(this,n)).finally(()=>k(this,Wa,Cc).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=Xp.supportedTypesStr,_(this,yo,new Promise(e=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const n=await this._uiManager.imageManager.getFromFile(t.files[0]);k(this,ja,bc).call(this,n)}e()}),t.addEventListener("cancel",()=>{this.remove(),e()})}).finally(()=>k(this,Wa,Cc).call(this))),t.click()},km=new WeakSet,gS=function(){const{div:t}=this;let{width:e,height:n}=c(this,Ut);const[i,r]=this.pageDimensions,s=.75;if(this.width)e=this.width*i,n=this.height*r;else if(e>s*i||n>s*r){const h=Math.min(s*i/e,s*r/n);e*=h,n*=h}const[o,a]=this.parentDimensions;this.setDims(e*o/i,n*a/r),this._uiManager.enableWaiting(!1);const l=_(this,gr,document.createElement("canvas"));t.append(l),t.hidden=!1,k(this,Yp,Dv).call(this,e,n),k(this,yS,Hk).call(this),c(this,Gp)||(this.parent.addUndoableEditor(this),_(this,Gp,!0)),this._reportTelemetry({action:"inserted_image"}),c(this,ku)&&l.setAttribute("aria-label",c(this,ku))},mS=new WeakSet,zk=function(t,e){var n;const[i,r]=this.parentDimensions;this.width=t/i,this.height=e/r,this.setDims(t,e),(n=this._initialOptions)!=null&&n.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,c(this,mr)!==null&&clearTimeout(c(this,mr)),_(this,mr,setTimeout(()=>{_(this,mr,null),k(this,Yp,Dv).call(this,t,e)},200))},vS=new WeakSet,Uk=function(t,e){const{width:n,height:i}=c(this,Ut);let r=n,s=i,o=c(this,Ut);for(;r>2*t||s>2*e;){const a=r,l=s;r>2*t&&(r=r>=16384?Math.floor(r/2)-1:Math.ceil(r/2)),s>2*e&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2));const h=new OffscreenCanvas(r,s);h.getContext("2d").drawImage(o,0,0,a,l,0,0,r,s),o=h.transferToImageBitmap()}return o},Yp=new WeakSet,Dv=function(t,e){t=Math.ceil(t),e=Math.ceil(e);const n=c(this,gr);if(!n||n.width===t&&n.height===e)return;n.width=t,n.height=e;const i=c(this,$i)?c(this,Ut):k(this,vS,Uk).call(this,t,e);if(this._uiManager.hasMLManager&&!this.hasAltText()){const s=new OffscreenCanvas(t,e).getContext("2d");s.drawImage(i,0,0,i.width,i.height,0,0,t,e),this._uiManager.mlGuess({service:"image-to-text",request:{data:s.getImageData(0,0,t,e).data,width:t,height:e,channels:4}}).then(o=>{const a=(o==null?void 0:o.output)||"";this.parent&&a&&!this.hasAltText()&&(this.altTextData={altText:a,decorative:!1})})}const r=n.getContext("2d");r.filter=this._uiManager.hcmFilter,r.drawImage(i,0,0,i.width,i.height,0,0,t,e)},bu=new WeakSet,Kp=function(t){if(t){if(c(this,$i)){const n=this._uiManager.imageManager.getSvgUrl(c(this,Vt));if(n)return n}const e=document.createElement("canvas");return{width:e.width,height:e.height}=c(this,Ut),e.getContext("2d").drawImage(c(this,Ut),0,0),e.toDataURL()}if(c(this,$i)){const[e,n]=this.pageDimensions,i=Math.round(this.width*e*Ql.PDF_TO_CSS_UNITS),r=Math.round(this.height*n*Ql.PDF_TO_CSS_UNITS),s=new OffscreenCanvas(i,r);return s.getContext("2d").drawImage(c(this,Ut),0,0,c(this,Ut).width,c(this,Ut).height,0,0,i,r),s.transferToImageBitmap()}return structuredClone(c(this,Ut))},yS=new WeakSet,Hk=function(){_(this,Ol,new ResizeObserver(t=>{const e=t[0].contentRect;e.width&&e.height&&k(this,mS,zk).call(this,e.width,e.height)})),c(this,Ol).observe(this.div)},ve(Xp,"_type","stamp"),ve(Xp,"_editorType",be.STAMP);let L6=Xp;var Ba,Cu,nr,za,Gr,qr,Yr,zn,oo,hh,Pu,gn,ce,Mo,wS,CT,_m,SS,Qp,xS,Zp,AS,Tu,Jp;const eg=class ao{constructor({uiManager:e,pageIndex:n,div:i,accessibilityManager:r,annotationLayer:s,drawLayer:o,textLayer:a,viewport:l,l10n:h}){v(this,wS),v(this,_m),v(this,Qp),v(this,Zp),v(this,Tu),v(this,Ba,void 0),v(this,Cu,!1),v(this,nr,null),v(this,za,null),v(this,Gr,null),v(this,qr,null),v(this,Yr,null),v(this,zn,new Map),v(this,oo,!1),v(this,hh,!1),v(this,Pu,!1),v(this,gn,null),v(this,ce,void 0);const u=[...c(ao,Mo).values()];if(!ao._initialized){ao._initialized=!0;for(const f of u)f.initialize(h,e)}e.registerEditorTypes(u),_(this,ce,e),this.pageIndex=n,this.div=i,_(this,Ba,r),_(this,nr,s),this.viewport=l,_(this,gn,a),this.drawLayer=o,c(this,ce).addLayer(this)}get isEmpty(){return c(this,zn).size===0}get isInvisible(){return this.isEmpty&&c(this,ce).getMode()===be.NONE}updateToolbar(e){c(this,ce).updateToolbar(e)}updateMode(e=c(this,ce).getMode()){switch(k(this,Tu,Jp).call(this),e){case be.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case be.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case be.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:n}=this.div;for(const i of c(ao,Mo).values())n.toggle(`${i._type}Editing`,e===i._editorType);this.div.hidden=!1}hasTextLayer(e){var n;return e===((n=c(this,gn))==null?void 0:n.div)}addInkEditorIfNeeded(e){if(c(this,ce).getMode()===be.INK){if(!e){for(const n of c(this,zn).values())if(n.isEmpty()){n.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}}setEditingState(e){c(this,ce).setEditingState(e)}addCommands(e){c(this,ce).addCommands(e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var n;(n=c(this,nr))==null||n.div.classList.toggle("disabled",!e)}enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const i of c(this,zn).values())i.enableEditing(),i.show(!0),i.annotationElementId&&(c(this,ce).removeChangedExistingAnnotation(i),e.add(i.annotationElementId));if(!c(this,nr))return;const n=c(this,nr).getEditableAnnotations();for(const i of n){if(i.hide(),c(this,ce).isDeletedAnnotationElement(i.data.id)||e.has(i.data.id))continue;const r=this.deserialize(i);r&&(this.addOrRebuild(r),r.enableEditing())}}disable(){var e;_(this,Pu,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const n=new Map,i=new Map;for(const s of c(this,zn).values())if(s.disableEditing(),!!s.annotationElementId){if(s.serialize()!==null){n.set(s.annotationElementId,s);continue}else i.set(s.annotationElementId,s);(e=this.getEditableAnnotation(s.annotationElementId))==null||e.show(),s.remove()}if(c(this,nr)){const s=c(this,nr).getEditableAnnotations();for(const o of s){const{id:a}=o.data;if(c(this,ce).isDeletedAnnotationElement(a))continue;let l=i.get(a);if(l){l.resetAnnotationElement(o),l.show(!1),o.show();continue}l=n.get(a),l&&(c(this,ce).addChangedExistingAnnotation(l),l.renderAnnotationElement(o),l.show(!1)),o.show()}}k(this,Tu,Jp).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:r}=this.div;for(const s of c(ao,Mo).values())r.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),_(this,Pu,!1)}getEditableAnnotation(e){var n;return((n=c(this,nr))==null?void 0:n.getEditableAnnotation(e))||null}setActiveEditor(e){c(this,ce).getActive()!==e&&c(this,ce).setActiveEditor(e)}enableTextSelection(){var e;this.div.tabIndex=-1,(e=c(this,gn))!=null&&e.div&&!c(this,qr)&&(_(this,qr,k(this,wS,CT).bind(this)),c(this,gn).div.addEventListener("pointerdown",c(this,qr)),c(this,gn).div.classList.add("highlighting"))}disableTextSelection(){var e;this.div.tabIndex=0,(e=c(this,gn))!=null&&e.div&&c(this,qr)&&(c(this,gn).div.removeEventListener("pointerdown",c(this,qr)),_(this,qr,null),c(this,gn).div.classList.remove("highlighting"))}enableClick(){c(this,Gr)||(_(this,Gr,this.pointerdown.bind(this)),_(this,za,this.pointerup.bind(this)),this.div.addEventListener("pointerdown",c(this,Gr)),this.div.addEventListener("pointerup",c(this,za)))}disableClick(){c(this,Gr)&&(this.div.removeEventListener("pointerdown",c(this,Gr)),this.div.removeEventListener("pointerup",c(this,za)),_(this,Gr,null),_(this,za,null))}attach(e){c(this,zn).set(e.id,e);const{annotationElementId:n}=e;n&&c(this,ce).isDeletedAnnotationElement(n)&&c(this,ce).removeDeletedAnnotationElement(e)}detach(e){var n;c(this,zn).delete(e.id),(n=c(this,Ba))==null||n.removePointerInTextLayer(e.contentDiv),!c(this,Pu)&&e.annotationElementId&&c(this,ce).addDeletedAnnotationElement(e)}remove(e){this.detach(e),c(this,ce).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,c(this,hh)||this.addInkEditorIfNeeded(!1)}changeParent(e){var n;e.parent!==this&&(e.parent&&e.annotationElementId&&(c(this,ce).addDeletedAnnotationElement(e.annotationElementId),je.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(n=e.parent)==null||n.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),c(this,ce).addEditor(e),this.attach(e),!e.isAttachedToDOM){const n=e.render();this.div.append(n),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),c(this,ce).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var n;if(!e.isAttachedToDOM)return;const{activeElement:i}=document;e.div.contains(i)&&!c(this,Yr)&&(e._focusEventsAllowed=!1,_(this,Yr,setTimeout(()=>{_(this,Yr,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0}),i.focus())},0))),e._structTreeParentId=(n=c(this,Ba))==null?void 0:n.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const n=()=>e._uiManager.rebuild(e),i=()=>{e.remove()};this.addCommands({cmd:n,undo:i,mustExec:!1})}getNextId(){return c(this,ce).getId()}canCreateNewEmptyEditor(){var e;return(e=c(this,_m,SS))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,n){c(this,ce).updateToolbar(e),c(this,ce).updateMode(e);const{offsetX:i,offsetY:r}=k(this,Zp,AS).call(this),s=this.getNextId(),o=k(this,Qp,xS).call(this,{parent:this,id:s,x:i,y:r,uiManager:c(this,ce),isCentered:!0,...n});o&&this.add(o)}deserialize(e){var n;return((n=c(ao,Mo).get(e.annotationType??e.annotationEditorType))==null?void 0:n.deserialize(e,this,c(this,ce)))||null}createAndAddNewEditor(e,n,i={}){const r=this.getNextId(),s=k(this,Qp,xS).call(this,{parent:this,id:r,x:e.offsetX,y:e.offsetY,uiManager:c(this,ce),isCentered:n,...i});return s&&this.add(s),s}addNewEditor(){this.createAndAddNewEditor(k(this,Zp,AS).call(this),!0)}setSelected(e){c(this,ce).setSelected(e)}toggleSelected(e){c(this,ce).toggleSelected(e)}isSelected(e){return c(this,ce).isSelected(e)}unselect(e){c(this,ce).unselect(e)}pointerup(e){const{isMac:n}=kn.platform;if(!(e.button!==0||e.ctrlKey&&n)&&e.target===this.div&&c(this,oo)){if(_(this,oo,!1),!c(this,Cu)){_(this,Cu,!0);return}if(c(this,ce).getMode()===be.STAMP){c(this,ce).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(c(this,ce).getMode()===be.HIGHLIGHT&&this.enableTextSelection(),c(this,oo)){_(this,oo,!1);return}const{isMac:n}=kn.platform;if(e.button!==0||e.ctrlKey&&n||e.target!==this.div)return;_(this,oo,!0);const i=c(this,ce).getActive();_(this,Cu,!i||i.isEmpty())}findNewParent(e,n,i){const r=c(this,ce).findParent(n,i);return r===null||r===this?!1:(r.changeParent(e),!0)}destroy(){var e,n;((e=c(this,ce).getActive())==null?void 0:e.parent)===this&&(c(this,ce).commitOrRemove(),c(this,ce).setActiveEditor(null)),c(this,Yr)&&(clearTimeout(c(this,Yr)),_(this,Yr,null));for(const i of c(this,zn).values())(n=c(this,Ba))==null||n.removePointerInTextLayer(i.contentDiv),i.setParent(null),i.isAttachedToDOM=!1,i.div.remove();this.div=null,c(this,zn).clear(),c(this,ce).removeLayer(this)}render({viewport:e}){this.viewport=e,Ho(this.div,e);for(const n of c(this,ce).getEditors(this.pageIndex))this.add(n),n.rebuild();this.updateMode()}update({viewport:e}){c(this,ce).commitOrRemove(),k(this,Tu,Jp).call(this);const n=this.viewport.rotation,i=e.rotation;if(this.viewport=e,Ho(this.div,{rotation:i}),n!==i)for(const r of c(this,zn).values())r.rotate(i);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:n}=this.viewport.rawDims;return[e,n]}get scale(){return c(this,ce).viewParameters.realScale}};Ba=new WeakMap,Cu=new WeakMap,nr=new WeakMap,za=new WeakMap,Gr=new WeakMap,qr=new WeakMap,Yr=new WeakMap,zn=new WeakMap,oo=new WeakMap,hh=new WeakMap,Pu=new WeakMap,gn=new WeakMap,ce=new WeakMap,Mo=new WeakMap,wS=new WeakSet,CT=function(t){if(c(this,ce).unselectAll(),t.target===c(this,gn).div){const{isMac:e}=kn.platform;if(t.button!==0||t.ctrlKey&&e)return;c(this,ce).showAllEditors("highlight",!0,!0),c(this,gn).div.classList.add("free"),Ok.startHighlighting(this,c(this,ce).direction==="ltr",t),c(this,gn).div.addEventListener("pointerup",()=>{c(this,gn).div.classList.remove("free")},{once:!0}),t.preventDefault()}},_m=new WeakSet,SS=function(){return c(eg,Mo).get(c(this,ce).getMode())},Qp=new WeakSet,xS=function(t){const e=c(this,_m,SS);return e?new e.prototype.constructor(t):null},Zp=new WeakSet,AS=function(){const{x:t,y:e,width:n,height:i}=this.div.getBoundingClientRect(),r=Math.max(0,t),s=Math.max(0,e),o=Math.min(window.innerWidth,t+n),a=Math.min(window.innerHeight,e+i),l=(r+o)/2-t,h=(s+a)/2-e,[u,f]=this.viewport.rotation%180===0?[l,h]:[h,l];return{offsetX:u,offsetY:f}},Tu=new WeakSet,Jp=function(){_(this,hh,!0);for(const t of c(this,zn).values())t.isEmpty()&&t.remove();_(this,hh,!1)},ve(eg,"_initialized",!1),v(eg,Mo,new Map([T6,M6,L6,Ok].map(t=>[t._editorType,t])));let I6=eg;var lr,tg,St,lo,ng,ES,ig,kS,_S,PT;const Ua=class ri{constructor({pageIndex:e}){v(this,ig),v(this,_S),v(this,lr,null),v(this,tg,0),v(this,St,new Map),v(this,lo,new Map),this.pageIndex=e}setParent(e){if(!c(this,lr)){_(this,lr,e);return}if(c(this,lr)!==e){if(c(this,St).size>0)for(const n of c(this,St).values())n.remove(),e.append(n);_(this,lr,e)}}static get _svgFactory(){return Pe(this,"_svgFactory",new Gx)}highlight(e,n,i,r=!1){const s=Zn(this,tg)._++,o=k(this,ig,kS).call(this,e.box);o.classList.add("highlight"),e.free&&o.classList.add("free");const a=ri._svgFactory.createElement("defs");o.append(a);const l=ri._svgFactory.createElement("path");a.append(l);const h=`path_p${this.pageIndex}_${s}`;l.setAttribute("id",h),l.setAttribute("d",e.toSVGPath()),r&&c(this,lo).set(s,l);const u=k(this,_S,PT).call(this,a,h),f=ri._svgFactory.createElement("use");return o.append(f),o.setAttribute("fill",n),o.setAttribute("fill-opacity",i),f.setAttribute("href",`#${h}`),c(this,St).set(s,o),{id:s,clipPathId:`url(#${u})`}}highlightOutline(e){const n=Zn(this,tg)._++,i=k(this,ig,kS).call(this,e.box);i.classList.add("highlightOutline");const r=ri._svgFactory.createElement("defs");i.append(r);const s=ri._svgFactory.createElement("path");r.append(s);const o=`path_p${this.pageIndex}_${n}`;s.setAttribute("id",o),s.setAttribute("d",e.toSVGPath()),s.setAttribute("vector-effect","non-scaling-stroke");let a;if(e.free){i.classList.add("free");const u=ri._svgFactory.createElement("mask");r.append(u),a=`mask_p${this.pageIndex}_${n}`,u.setAttribute("id",a),u.setAttribute("maskUnits","objectBoundingBox");const f=ri._svgFactory.createElement("rect");u.append(f),f.setAttribute("width","1"),f.setAttribute("height","1"),f.setAttribute("fill","white");const p=ri._svgFactory.createElement("use");u.append(p),p.setAttribute("href",`#${o}`),p.setAttribute("stroke","none"),p.setAttribute("fill","black"),p.setAttribute("fill-rule","nonzero"),p.classList.add("mask")}const l=ri._svgFactory.createElement("use");i.append(l),l.setAttribute("href",`#${o}`),a&&l.setAttribute("mask",`url(#${a})`);const h=l.cloneNode();return i.append(h),l.classList.add("mainOutline"),h.classList.add("secondaryOutline"),c(this,St).set(n,i),n}finalizeLine(e,n){const i=c(this,lo).get(e);c(this,lo).delete(e),this.updateBox(e,n.box),i.setAttribute("d",n.toSVGPath())}updateLine(e,n){c(this,St).get(e).firstChild.firstChild.setAttribute("d",n.toSVGPath())}removeFreeHighlight(e){this.remove(e),c(this,lo).delete(e)}updatePath(e,n){c(this,lo).get(e).setAttribute("d",n.toSVGPath())}updateBox(e,n){var i;k(i=ri,ng,ES).call(i,c(this,St).get(e),n)}show(e,n){c(this,St).get(e).classList.toggle("hidden",!n)}rotate(e,n){c(this,St).get(e).setAttribute("data-main-rotation",n)}changeColor(e,n){c(this,St).get(e).setAttribute("fill",n)}changeOpacity(e,n){c(this,St).get(e).setAttribute("fill-opacity",n)}addClass(e,n){c(this,St).get(e).classList.add(n)}removeClass(e,n){c(this,St).get(e).classList.remove(n)}remove(e){c(this,lr)!==null&&(c(this,St).get(e).remove(),c(this,St).delete(e))}destroy(){_(this,lr,null);for(const e of c(this,St).values())e.remove();c(this,St).clear()}};lr=new WeakMap,tg=new WeakMap,St=new WeakMap,lo=new WeakMap,ng=new WeakSet,ES=function(t,{x:e=0,y:n=0,width:i=1,height:r=1}={}){const{style:s}=t;s.top=`${100*n}%`,s.left=`${100*e}%`,s.width=`${100*i}%`,s.height=`${100*r}%`},ig=new WeakSet,kS=function(t){var e;const n=Ua._svgFactory.create(1,1,!0);return c(this,lr).append(n),n.setAttribute("aria-hidden",!0),k(e=Ua,ng,ES).call(e,n,t),n},_S=new WeakSet,PT=function(t,e){const n=Ua._svgFactory.createElement("clipPath");t.append(n);const i=`clip_${e}`;n.setAttribute("id",i),n.setAttribute("clipPathUnits","objectBoundingBox");const r=Ua._svgFactory.createElement("use");return n.append(r),r.setAttribute("href",`#${e}`),r.classList.add("clip"),i},v(Ua,ng);let N6=Ua;var D6=he.AbortException,O6=he.AnnotationEditorLayer,$6=he.AnnotationEditorParamsType,F6=he.AnnotationEditorType,j6=he.AnnotationEditorUIManager,TT=he.AnnotationLayer,RT=he.AnnotationMode,W6=he.CMapCompressionType,B6=he.ColorPicker,z6=he.DOMSVGFactory,U6=he.DrawLayer,H6=he.FeatureTest,eA=he.GlobalWorkerOptions,V6=he.ImageKind,G6=he.InvalidPDFException,q6=he.MissingPDFException,Y6=he.OPS,K6=he.Outliner,X6=he.PDFDataRangeTransport,Q6=he.PDFDateString,Z6=he.PDFWorker,J6=he.PasswordResponses,eW=he.PermissionFlag,tW=he.PixelsPerInch,nW=he.RenderingCancelledException,MT=he.TextLayer,iW=he.UnexpectedResponseException,rW=he.Util,sW=he.VerbosityLevel,oW=he.XfaLayer,aW=he.build,lW=he.createValidAbsoluteUrl,cW=he.fetchData,LT=he.getDocument,uW=he.getFilenameFromUrl,hW=he.getPdfFilenameFromUrl,dW=he.getXfaPageViewport,fW=he.isDataScheme,pW=he.isPdfFile,gW=he.noContextMenu,mW=he.normalizeUnicode,vW=he.renderTextLayer,yW=he.setLayerDimensions,wW=he.shadow,SW=he.updateTextLayer,IT=he.version;const xW=Object.freeze(Object.defineProperty({__proto__:null,AbortException:D6,AnnotationEditorLayer:O6,AnnotationEditorParamsType:$6,AnnotationEditorType:F6,AnnotationEditorUIManager:j6,AnnotationLayer:TT,AnnotationMode:RT,CMapCompressionType:W6,ColorPicker:B6,DOMSVGFactory:z6,DrawLayer:U6,FeatureTest:H6,GlobalWorkerOptions:eA,ImageKind:V6,InvalidPDFException:G6,MissingPDFException:q6,OPS:Y6,Outliner:K6,PDFDataRangeTransport:X6,PDFDateString:Q6,PDFWorker:Z6,PasswordResponses:J6,PermissionFlag:eW,PixelsPerInch:tW,RenderingCancelledException:nW,TextLayer:MT,UnexpectedResponseException:iW,Util:rW,VerbosityLevel:sW,XfaLayer:oW,build:aW,createValidAbsoluteUrl:lW,fetchData:cW,getDocument:LT,getFilenameFromUrl:uW,getPdfFilenameFromUrl:hW,getXfaPageViewport:dW,isDataScheme:fW,isPdfFile:pW,noContextMenu:gW,normalizeUnicode:mW,renderTextLayer:vW,setLayerDimensions:yW,shadow:wW,updateTextLayer:SW,version:IT},Symbol.toStringTag,{value:"Module"}));var wt=function(t,e,n){for(var i=0,r=e.length,s;i<r;i++)(s||!(i in e))&&(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return t.concat(s||Array.prototype.slice.call(e))},AW=["onCopy","onCut","onPaste"],EW=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],kW=["onFocus","onBlur"],_W=["onInput","onInvalid","onReset","onSubmit"],bW=["onLoad","onError"],CW=["onKeyDown","onKeyPress","onKeyUp"],PW=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],TW=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],RW=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],MW=["onSelect"],LW=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],IW=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],NW=["onScroll"],DW=["onWheel"],OW=["onAnimationStart","onAnimationEnd","onAnimationIteration"],$W=["onTransitionEnd"],FW=["onToggle"],jW=["onChange"],WW=wt(wt(wt(wt(wt(wt(wt(wt(wt(wt(wt(wt(wt(wt(wt(wt(wt(wt([],AW,!0),EW,!0),kW,!0),_W,!0),bW,!0),CW,!0),PW,!0),TW,!0),RW,!0),MW,!0),LW,!0),IW,!0),NW,!0),DW,!0),OW,!0),$W,!0),jW,!0),FW);function NT(t,e){var n={};return WW.forEach(function(i){var r=t[i];r&&(e?n[i]=function(s){return r(s,e(i))}:n[i]=r)}),n}function Vh(t){var e=!1,n=new Promise(function(i,r){t.then(function(s){return!e&&i(s)}).catch(function(s){return!e&&r(s)})});return{promise:n,cancel:function(){e=!0}}}function DT(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=DT(t[e]))&&(i&&(i+=" "),i+=n);else for(e in t)t[e]&&(i&&(i+=" "),i+=e);return i}function d0(){for(var t,e,n=0,i="";n<arguments.length;)(t=arguments[n++])&&(e=DT(t))&&(i&&(i+=" "),i+=e);return i}var BW=ge.env.NODE_ENV==="production",Ov="Invariant failed";function Fe(t,e){if(!t){if(BW)throw new Error(Ov);var n=typeof e=="function"?e():e,i=n?"".concat(Ov,": ").concat(n):Ov;throw new Error(i)}}var zW=ge.env.NODE_ENV!=="production",OT=function(){};if(zW){var UW=function(t,e){var n=arguments.length;e=new Array(n>1?n-1:0);for(var i=1;i<n;i++)e[i-1]=arguments[i];var r=0,s="Warning: "+t.replace(/%s/g,function(){return e[r++]});typeof console<"u"&&console.error(s);try{throw new Error(s)}catch{}};OT=function(t,e,n){var i=arguments.length;n=new Array(i>2?i-2:0);for(var r=2;r<i;r++)n[r-2]=arguments[r];if(e===void 0)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");t||UW.apply(null,[e].concat(n))}}var HW=OT;const Kt=SC(HW);var Vk=Object.prototype.hasOwnProperty;function Gk(t,e,n){for(n of t.keys())if($l(n,e))return n}function $l(t,e){var n,i,r;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((i=t.length)===e.length)for(;i--&&$l(t[i],e[i]););return i===-1}if(n===Set){if(t.size!==e.size)return!1;for(i of t)if(r=i,r&&typeof r=="object"&&(r=Gk(e,r),!r)||!e.has(r))return!1;return!0}if(n===Map){if(t.size!==e.size)return!1;for(i of t)if(r=i[0],r&&typeof r=="object"&&(r=Gk(e,r),!r)||!$l(i[1],e.get(r)))return!1;return!0}if(n===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(n===DataView){if((i=t.byteLength)===e.byteLength)for(;i--&&t.getInt8(i)===e.getInt8(i););return i===-1}if(ArrayBuffer.isView(t)){if((i=t.byteLength)===e.byteLength)for(;i--&&t[i]===e[i];);return i===-1}if(!n||typeof t=="object"){i=0;for(n in t)if(Vk.call(t,n)&&++i&&!Vk.call(e,n)||!(n in e)||!$l(t[n],e[n]))return!1;return Object.keys(e).length===i}}return t!==t&&e!==e}const $T=V.createContext(null);function Fl({children:t,type:e}){return O.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:t})}const VW="noopener noreferrer nofollow";class GW{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return Fe(this.pdfViewer,"PDF viewer is not initialized."),this.pdfViewer.currentPageNumber||0}set page(e){Fe(this.pdfViewer,"PDF viewer is not initialized."),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise(n=>{Fe(this.pdfDocument,"PDF document not loaded."),Fe(e,"Destination is not specified."),typeof e=="string"?this.pdfDocument.getDestination(e).then(n):Array.isArray(e)?n(e):e.then(n)}).then(n=>{Fe(Array.isArray(n),`"${n}" is not a valid destination array.`);const i=n[0];new Promise(r=>{Fe(this.pdfDocument,"PDF document not loaded."),i instanceof Object?this.pdfDocument.getPageIndex(i).then(s=>{r(s)}).catch(()=>{Fe(!1,`"${i}" is not a valid page reference.`)}):typeof i=="number"?r(i):Fe(!1,`"${i}" is not a valid destination reference.`)}).then(r=>{const s=r+1;Fe(this.pdfViewer,"PDF viewer is not initialized."),Fe(s>=1&&s<=this.pagesCount,`"${s}" is not a valid page number.`),this.pdfViewer.scrollPageIntoView({dest:n,pageIndex:r,pageNumber:s})})})}navigateTo(e){this.goToDestination(e)}goToPage(e){const n=e-1;Fe(this.pdfViewer,"PDF viewer is not initialized."),Fe(e>=1&&e<=this.pagesCount,`"${e}" is not a valid page number.`),this.pdfViewer.scrollPageIntoView({pageIndex:n,pageNumber:e})}addLinkAttributes(e,n,i){e.href=n,e.rel=this.externalLinkRel||VW,e.target=i?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const qk={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},f0=typeof document<"u",FT=f0&&window.location.protocol==="file:";function qW(t){return typeof t<"u"}function zs(t){return qW(t)&&t!==null}function YW(t){return typeof t=="string"}function KW(t){return t instanceof ArrayBuffer}function XW(t){return Fe(f0,"isBlob can only be used in a browser environment"),t instanceof Blob}function bS(t){return YW(t)&&/^data:/.test(t)}function Yk(t){Fe(bS(t),"Invalid data URI.");const[e="",n=""]=t.split(",");return e.split(";").indexOf("base64")!==-1?atob(n):unescape(n)}function QW(){return f0&&window.devicePixelRatio||1}const jT="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function Kk(){Kt(!FT,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${jT}`)}function ZW(){Kt(!FT,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${jT}`)}function Go(t){t&&t.cancel&&t.cancel()}function CS(t,e){return Object.defineProperty(t,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(t,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(t,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(t,"originalHeight",{get(){return this.view[3]},configurable:!0}),t}function JW(t){return t.name==="RenderingCancelledException"}function e8(t){return new Promise((e,n)=>{const i=new FileReader;i.onload=()=>{if(!i.result)return n(new Error("Error while reading a file."));e(i.result)},i.onerror=r=>{if(!r.target)return n(new Error("Error while reading a file."));const{error:s}=r.target;if(!s)return n(new Error("Error while reading a file."));switch(s.code){case s.NOT_FOUND_ERR:return n(new Error("Error while reading a file: File not found."));case s.SECURITY_ERR:return n(new Error("Error while reading a file: Security error."));case s.ABORT_ERR:return n(new Error("Error while reading a file: Aborted."));default:return n(new Error("Error while reading a file."))}},i.readAsArrayBuffer(t)})}function t8(t,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return t}}function Zl(){return V.useReducer(t8,{value:void 0,error:void 0})}var n8=function(t,e,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{h(i.next(u))}catch(f){o(f)}}function l(u){try{h(i.throw(u))}catch(f){o(f)}}function h(u){u.done?s(u.value):r(u.value).then(a,l)}h((i=i.apply(t,[])).next())})},Xk=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n};const{PDFDataRangeTransport:i8}=xW,r8=(t,e)=>{switch(e){case qk.NEED_PASSWORD:{const n=prompt("Enter the password to open this PDF file.");t(n);break}case qk.INCORRECT_PASSWORD:{const n=prompt("Invalid password. Please try again.");t(n);break}}};function Qk(t){return typeof t=="object"&&t!==null&&("data"in t||"range"in t||"url"in t)}const s8=V.forwardRef(function(t,e){var{children:n,className:i,error:r="Failed to load PDF file.",externalLinkRel:s,externalLinkTarget:o,file:a,inputRef:l,imageResourcesPath:h,loading:u="Loading PDF…",noData:f="No PDF file specified.",onItemClick:p,onLoadError:m,onLoadProgress:y,onLoadSuccess:A,onPassword:b=r8,onSourceError:w,onSourceSuccess:S,options:E,renderMode:T,rotate:R}=t,I=Xk(t,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[M,C]=Zl(),{value:P,error:N}=M,[$,z]=Zl(),{value:U,error:Q}=$,ee=V.useRef(new GW),G=V.useRef([]),F=V.useRef(void 0),H=V.useRef(void 0);a&&a!==F.current&&Qk(a)&&(Kt(!$l(a,F.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),F.current=a),E&&E!==H.current&&(Kt(!$l(E,H.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),H.current=E);const W=V.useRef({scrollPageIntoView:ue=>{const{dest:Z,pageNumber:ke,pageIndex:Ne=ke-1}=ue;if(p){p({dest:Z,pageIndex:Ne,pageNumber:ke});return}const Ze=G.current[Ne];if(Ze){Ze.scrollIntoView();return}Kt(!1,`An internal link leading to page ${ke} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});V.useImperativeHandle(e,()=>({linkService:ee,pages:G,viewer:W}),[]);function K(){S&&S()}function ne(){N&&(Kt(!1,N.toString()),w&&w(N))}function B(){C({type:"RESET"})}V.useEffect(B,[a,C]);const oe=V.useCallback(()=>n8(this,void 0,void 0,function*(){if(!a)return null;if(typeof a=="string")return bS(a)?{data:Yk(a)}:(Kk(),{url:a});if(a instanceof i8)return{range:a};if(KW(a))return{data:a};if(f0&&XW(a))return{data:yield e8(a)};if(Fe(typeof a=="object","Invalid parameter in file, need either Uint8Array, string or a parameter object"),Fe(Qk(a),"Invalid parameter object: need either .data, .range or .url"),"url"in a&&typeof a.url=="string"){if(bS(a.url)){const{url:ue}=a,Z=Xk(a,["url"]),ke=Yk(ue);return Object.assign({data:ke},Z)}Kk()}return a}),[a]);V.useEffect(()=>{const ue=Vh(oe());return ue.promise.then(Z=>{C({type:"RESOLVE",value:Z})}).catch(Z=>{C({type:"REJECT",error:Z})}),()=>{Go(ue)}},[oe,C]),V.useEffect(()=>{if(!(typeof P>"u")){if(P===!1){ne();return}K()}},[P]);function te(){U&&(A&&A(U),G.current=new Array(U.numPages),ee.current.setDocument(U))}function ie(){Q&&(Kt(!1,Q.toString()),m&&m(Q))}function le(){z({type:"RESET"})}V.useEffect(le,[z,P]);function re(){if(!P)return;const ue=Object.assign(Object.assign({},P),E),Z=LT(ue);y&&(Z.onProgress=y),b&&(Z.onPassword=b);const ke=Z;return ke.promise.then(Ne=>{z({type:"RESOLVE",value:Ne})}).catch(Ne=>{ke.destroyed||z({type:"REJECT",error:Ne})}),()=>{ke.destroy()}}V.useEffect(re,[E,z,P]),V.useEffect(()=>{if(!(typeof U>"u")){if(U===!1){ie();return}te()}},[U]);function xe(){ee.current.setViewer(W.current),ee.current.setExternalLinkRel(s),ee.current.setExternalLinkTarget(o)}V.useEffect(xe,[s,o]);function X(ue,Z){G.current[ue]=Z}function se(ue){delete G.current[ue]}const me=V.useMemo(()=>({imageResourcesPath:h,linkService:ee.current,onItemClick:p,pdf:U,registerPage:X,renderMode:T,rotate:R,unregisterPage:se}),[h,p,U,T,R]),ye=V.useMemo(()=>NT(I,()=>U),[I,U]);function de(){return O.jsx($T.Provider,{value:me,children:n})}function Ce(){return a?U==null?O.jsx(Fl,{type:"loading",children:typeof u=="function"?u():u}):U===!1?O.jsx(Fl,{type:"error",children:typeof r=="function"?r():r}):de():O.jsx(Fl,{type:"no-data",children:typeof f=="function"?f():f})}return O.jsx("div",Object.assign({className:d0("react-pdf__Document",i),ref:l,style:{"--scale-factor":"1"}},ye,{children:Ce()}))});function WT(){return V.useContext($T)}function BT(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t.filter(Boolean);if(n.length<=1){var i=n[0];return i||null}return function(r){n.forEach(function(s){typeof s=="function"?s(r):s&&(s.current=r)})}}const zT=V.createContext(null),UT={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},o8=/^H(\d+)$/;function a8(t){return t in UT}function p0(t){return"children"in t}function HT(t){return p0(t)?t.children.length===1&&0 in t.children&&"id"in t.children[0]:!1}function l8(t){const e={};if(p0(t)){const{role:n}=t,i=n.match(o8);if(i)e.role="heading",e["aria-level"]=Number(i[1]);else if(a8(n)){const r=UT[n];r&&(e.role=r)}}return e}function VT(t){const e={};if(p0(t)){if(t.alt!==void 0&&(e["aria-label"]=t.alt),t.lang!==void 0&&(e.lang=t.lang),HT(t)){const[n]=t.children;if(n){const i=VT(n);return Object.assign(Object.assign({},e),i)}}}else"id"in t&&(e["aria-owns"]=t.id);return e}function c8(t){return t?Object.assign(Object.assign({},l8(t)),VT(t)):null}function GT({className:t,node:e}){const n=V.useMemo(()=>c8(e),[e]),i=V.useMemo(()=>!p0(e)||HT(e)?null:e.children.map((r,s)=>O.jsx(GT,{node:r},s)),[e]);return O.jsx("span",Object.assign({className:t},n,{children:i}))}function g0(){return V.useContext(zT)}function u8(){const t=g0();Fe(t,"Unable to find Page context.");const{onGetStructTreeError:e,onGetStructTreeSuccess:n}=t,[i,r]=Zl(),{value:s,error:o}=i,{customTextRenderer:a,page:l}=t;function h(){s&&n&&n(s)}function u(){o&&(Kt(!1,o.toString()),e&&e(o))}function f(){r({type:"RESET"})}V.useEffect(f,[r,l]);function p(){if(a||!l)return;const m=Vh(l.getStructTree()),y=m;return m.promise.then(A=>{r({type:"RESOLVE",value:A})}).catch(A=>{r({type:"REJECT",error:A})}),()=>Go(y)}return V.useEffect(p,[a,l,r]),V.useEffect(()=>{if(s!==void 0){if(s===!1){u();return}h()}},[s]),s?O.jsx(GT,{className:"react-pdf__Page__structTree structTree",node:s}):null}const Zk=RT;function h8(t){const e=g0();Fe(e,"Unable to find Page context.");const n=Object.assign(Object.assign({},e),t),{_className:i,canvasBackground:r,devicePixelRatio:s=QW(),onRenderError:o,onRenderSuccess:a,page:l,renderForms:h,renderTextLayer:u,rotate:f,scale:p}=n,{canvasRef:m}=t;Fe(l,"Attempted to render page canvas, but no page was specified.");const y=V.useRef(null);function A(){l&&a&&a(CS(l,p))}function b(R){JW(R)||(Kt(!1,R.toString()),o&&o(R))}const w=V.useMemo(()=>l.getViewport({scale:p*s,rotation:f}),[s,l,f,p]),S=V.useMemo(()=>l.getViewport({scale:p,rotation:f}),[l,f,p]);function E(){if(!l)return;l.cleanup();const{current:R}=y;if(!R)return;R.width=w.width,R.height=w.height,R.style.width=`${Math.floor(S.width)}px`,R.style.height=`${Math.floor(S.height)}px`,R.style.visibility="hidden";const I={annotationMode:h?Zk.ENABLE_FORMS:Zk.ENABLE,canvasContext:R.getContext("2d",{alpha:!1}),viewport:w};r&&(I.background=r);const M=l.render(I),C=M;return M.promise.then(()=>{R.style.visibility="",A()}).catch(b),()=>Go(C)}V.useEffect(E,[r,y,s,l,h,w,S]);const T=V.useCallback(()=>{const{current:R}=y;R&&(R.width=0,R.height=0)},[y]);return V.useEffect(()=>T,[T]),O.jsx("canvas",{className:`${i}__canvas`,dir:"ltr",ref:BT(m,y),style:{display:"block",userSelect:"none"},children:u?O.jsx(u8,{}):null})}function d8(t){return"str"in t}function f8(){const t=g0();Fe(t,"Unable to find Page context.");const{customTextRenderer:e,onGetTextError:n,onGetTextSuccess:i,onRenderTextLayerError:r,onRenderTextLayerSuccess:s,page:o,pageIndex:a,pageNumber:l,rotate:h,scale:u}=t;Fe(o,"Attempted to load page text content, but no page was specified.");const[f,p]=Zl(),{value:m,error:y}=f,A=V.useRef(null),b=V.useRef(void 0);Kt(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function w(){m&&i&&i(m)}function S(){y&&(Kt(!1,y.toString()),n&&n(y))}function E(){p({type:"RESET"})}V.useEffect(E,[o,p]);function T(){if(!o)return;const $=Vh(o.getTextContent()),z=$;return $.promise.then(U=>{p({type:"RESOLVE",value:U})}).catch(U=>{p({type:"REJECT",error:U})}),()=>Go(z)}V.useEffect(T,[o,p]),V.useEffect(()=>{if(m!==void 0){if(m===!1){S();return}w()}},[m]);const R=V.useCallback(()=>{s&&s()},[s]),I=V.useCallback($=>{Kt(!1,$.toString()),r&&r($)},[r]);function M(){const $=b.current;$&&$.classList.add("active")}function C(){const $=b.current;$&&$.classList.remove("active")}const P=V.useMemo(()=>o.getViewport({scale:u,rotation:h}),[o,h,u]);function N(){if(!o||!m)return;const{current:$}=A;if(!$)return;$.innerHTML="";const z=o.streamTextContent({includeMarkedContent:!0}),U={container:$,textContentSource:z,viewport:P},Q=new MT(U),ee=Q;return Q.render().then(()=>{const G=document.createElement("div");G.className="endOfContent",$.append(G),b.current=G;const F=$.querySelectorAll('[role="presentation"]');if(e){let H=0;m.items.forEach((W,K)=>{if(!d8(W))return;const ne=F[H];if(!ne)return;const B=e(Object.assign({pageIndex:a,pageNumber:l,itemIndex:K},W));ne.innerHTML=B,H+=W.str&&W.hasEOL?2:1})}R()}).catch(I),()=>Go(ee)}return V.useLayoutEffect(N,[e,I,R,o,a,l,m,P]),O.jsx("div",{className:d0("react-pdf__Page__textContent","textLayer"),onMouseUp:C,onMouseDown:M,ref:A})}function p8(){const t=WT(),e=g0();Fe(e,"Unable to find Page context.");const n=Object.assign(Object.assign({},t),e),{imageResourcesPath:i,linkService:r,onGetAnnotationsError:s,onGetAnnotationsSuccess:o,onRenderAnnotationLayerError:a,onRenderAnnotationLayerSuccess:l,page:h,pdf:u,renderForms:f,rotate:p,scale:m=1}=n;Fe(u,"Attempted to load page annotations, but no document was specified. Wrap <Page /> in a <Document /> or pass explicit `pdf` prop."),Fe(h,"Attempted to load page annotations, but no page was specified."),Fe(r,"Attempted to load page annotations, but no linkService was specified.");const[y,A]=Zl(),{value:b,error:w}=y,S=V.useRef(null);Kt(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function E(){b&&o&&o(b)}function T(){w&&(Kt(!1,w.toString()),s&&s(w))}function R(){A({type:"RESET"})}V.useEffect(R,[A,h]);function I(){if(!h)return;const $=Vh(h.getAnnotations()),z=$;return $.promise.then(U=>{A({type:"RESOLVE",value:U})}).catch(U=>{A({type:"REJECT",error:U})}),()=>{Go(z)}}V.useEffect(I,[A,h,f]),V.useEffect(()=>{if(b!==void 0){if(b===!1){T();return}E()}},[b]);function M(){l&&l()}function C($){Kt(!1,`${$}`),a&&a($)}const P=V.useMemo(()=>h.getViewport({scale:m,rotation:p}),[h,p,m]);function N(){if(!u||!h||!r||!b)return;const{current:$}=S;if(!$)return;const z=P.clone({dontFlip:!0}),U={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:$,l10n:null,page:h,viewport:z},Q={annotations:b,annotationStorage:u.annotationStorage,div:$,imageResourcesPath:i,linkService:r,page:h,renderForms:f,viewport:z};$.innerHTML="";try{new TT(U).render(Q),M()}catch(ee){C(ee)}return()=>{}}return V.useEffect(N,[b,i,r,h,f,P]),O.jsx("div",{className:d0("react-pdf__Page__annotations","annotationLayer"),ref:S})}var g8=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n};const Jk=1;function m8(t){const e=WT(),n=Object.assign(Object.assign({},e),t),{_className:i="react-pdf__Page",_enableRegisterUnregisterPage:r=!0,canvasBackground:s,canvasRef:o,children:a,className:l,customRenderer:h,customTextRenderer:u,devicePixelRatio:f,error:p="Failed to load the page.",height:m,inputRef:y,loading:A="Loading page…",noData:b="No page specified.",onGetAnnotationsError:w,onGetAnnotationsSuccess:S,onGetStructTreeError:E,onGetStructTreeSuccess:T,onGetTextError:R,onGetTextSuccess:I,onLoadError:M,onLoadSuccess:C,onRenderAnnotationLayerError:P,onRenderAnnotationLayerSuccess:N,onRenderError:$,onRenderSuccess:z,onRenderTextLayerError:U,onRenderTextLayerSuccess:Q,pageIndex:ee,pageNumber:G,pdf:F,registerPage:H,renderAnnotationLayer:W=!0,renderForms:K=!1,renderMode:ne="canvas",renderTextLayer:B=!0,rotate:oe,scale:te=Jk,unregisterPage:ie,width:le}=n,re=g8(n,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[xe,X]=Zl(),{value:se,error:me}=xe,ye=V.useRef(null);Fe(F,"Attempted to load a page, but no document was specified. Wrap <Page /> in a <Document /> or pass explicit `pdf` prop.");const de=zs(G)?G-1:ee??null,Ce=G??(zs(ee)?ee+1:null),ue=oe??(se?se.rotate:null),Z=V.useMemo(()=>{if(!se)return null;let d=1;const g=te??Jk;if(le||m){const x=se.getViewport({scale:1,rotation:ue});le?d=le/x.width:m&&(d=m/x.height)}return g*d},[m,se,ue,te,le]);function ke(){return()=>{zs(de)&&r&&ie&&ie(de)}}V.useEffect(ke,[r,F,de,ie]);function Ne(){if(C){if(!se||!Z)return;C(CS(se,Z))}if(r&&H){if(!zs(de)||!ye.current)return;H(de,ye.current)}}function Ze(){me&&(Kt(!1,me.toString()),M&&M(me))}function vt(){X({type:"RESET"})}V.useEffect(vt,[X,F,de]);function Je(){if(!F||!Ce)return;const d=Vh(F.getPage(Ce)),g=d;return d.promise.then(x=>{X({type:"RESOLVE",value:x})}).catch(x=>{X({type:"REJECT",error:x})}),()=>Go(g)}V.useEffect(Je,[X,F,de,Ce,H]),V.useEffect(()=>{if(se!==void 0){if(se===!1){Ze();return}Ne()}},[se,Z]);const Me=V.useMemo(()=>se&&zs(de)&&Ce&&zs(ue)&&zs(Z)?{_className:i,canvasBackground:s,customTextRenderer:u,devicePixelRatio:f,onGetAnnotationsError:w,onGetAnnotationsSuccess:S,onGetStructTreeError:E,onGetStructTreeSuccess:T,onGetTextError:R,onGetTextSuccess:I,onRenderAnnotationLayerError:P,onRenderAnnotationLayerSuccess:N,onRenderError:$,onRenderSuccess:z,onRenderTextLayerError:U,onRenderTextLayerSuccess:Q,page:se,pageIndex:de,pageNumber:Ce,renderForms:K,renderTextLayer:B,rotate:ue,scale:Z}:null,[i,s,u,f,w,S,E,T,R,I,P,N,$,z,U,Q,se,de,Ce,K,B,ue,Z]),Le=V.useMemo(()=>NT(re,()=>se&&(Z?CS(se,Z):void 0)),[re,se,Z]),et=`${de}@${Z}/${ue}`;function fe(){switch(ne){case"custom":return Fe(h,'renderMode was set to "custom", but no customRenderer was passed.'),O.jsx(h,{},`${et}_custom`);case"none":return null;case"canvas":default:return O.jsx(h8,{canvasRef:o},`${et}_canvas`)}}function Jt(){return B?O.jsx(f8,{},`${et}_text`):null}function en(){return W?O.jsx(p8,{},`${et}_annotations`):null}function yt(){return O.jsxs(zT.Provider,{value:Me,children:[fe(),Jt(),en(),a]})}function On(){return Ce?F===null||se===void 0||se===null?O.jsx(Fl,{type:"loading",children:typeof A=="function"?A():A}):F===!1||se===!1?O.jsx(Fl,{type:"error",children:typeof p=="function"?p():p}):yt():O.jsx(Fl,{type:"no-data",children:typeof b=="function"?b():b})}return O.jsx("div",Object.assign({className:d0(i,l),"data-page-number":Ce,ref:BT(y,ye),style:{"--scale-factor":`${Z}`,backgroundColor:s||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},Le,{children:On()}))}ZW();eA.workerSrc="pdf.worker.mjs";const qT="SET_ZOOM_LEVEL",$v=t=>({type:qT,value:t}),YT="SET_PDF_PAGINATED",v8=t=>({type:YT,value:t}),KT="SET_NUM_PAGES",e_=t=>({type:KT,value:t}),XT="SET_CURRENT_PAGE",t_=t=>({type:XT,value:t}),fs={defaultZoomLevel:1,zoomLevel:1,zoomJump:.1,paginated:!0,numPages:0,currentPage:1},y8=(t=fs,e)=>{switch(e.type){case qT:{const{value:n}=e;return{...t,zoomLevel:n}}case YT:{const{value:n}=e;return{...t,paginated:n}}case KT:{const{value:n}=e;return{...t,numPages:n}}case XT:{const{value:n}=e;return{...t,currentPage:n}}default:return t}},rc=V.createContext({state:fs,dispatch:()=>null}),w8=({children:t,mainState:e})=>{var n,i,r,s,o,a,l;const[h,u]=V.useReducer(y8,{...fs,defaultZoomLevel:((i=(n=e.config)==null?void 0:n.pdfZoom)==null?void 0:i.defaultZoom)??fs.defaultZoomLevel,zoomLevel:((s=(r=e.config)==null?void 0:r.pdfZoom)==null?void 0:s.defaultZoom)??fs.zoomLevel,zoomJump:((a=(o=e.config)==null?void 0:o.pdfZoom)==null?void 0:a.zoomJump)??fs.zoomJump,paginated:(l=e.config)!=null&&l.pdfVerticalScrollByDefault?!1:fs.paginated,mainState:e});return O.jsx(rc.Provider,{value:{state:h,dispatch:u},children:t})},QT=({pageNum:t})=>{const{state:{mainState:e,paginated:n,zoomLevel:i,numPages:r,currentPage:s}}=V.useContext(rc),{t:o}=Qo(),a=(e==null?void 0:e.rendererRect)||null,l=t??s;return O.jsxs(S8,{id:"pdf-page-wrapper",$lastPage:l>=r,children:[!n&&O.jsx(x8,{id:"pdf-page-info",children:o("pdfPluginPageNumber",{currentPage:l,allPagesCount:r})}),O.jsx(m8,{pageNumber:l||s,scale:i,height:((a==null?void 0:a.height)??100)-100,width:((a==null?void 0:a.width)??100)-100,loading:o("pdfPluginLoading")})]})},S8=Se.div`
  margin: ${t=>t.$lastPage?"20px 0":void 0};
`,x8=Se.div`
  padding: 0 0 10px 10px;
  color: ${t=>t.theme.textTertiary};
  font-size: 14px;
  text-align: left;

  @media (max-width: 768px) {
    font-size: 10px;
  }
`,A8=()=>{const{state:{numPages:t}}=V.useContext(rc),e=[];for(let n=0;n<t;n++)e.push(O.jsx(QT,{pageNum:n+1},n+1));return O.jsx(O.Fragment,{children:e})},E8=()=>{const{state:{mainState:t,paginated:e},dispatch:n}=V.useContext(rc),{t:i}=Qo(),r=(t==null?void 0:t.currentDocument)||null;return V.useEffect(()=>{n(e_(fs.numPages))},[r]),!r||r.fileData===void 0?null:O.jsx(k8,{file:r.fileData,onLoadSuccess:({numPages:s})=>n(e_(s)),loading:O.jsx("span",{children:i("pdfPluginLoading")}),children:e?O.jsx(QT,{}):O.jsx(A8,{})})},k8=Se(s8)`
  display: flex;
  flex-direction: column;
  margin: 0 auto;
`,_8=t=>O.jsx(ZT,{...t,reverse:!0}),b8=t=>O.jsx(ZT,{...t}),ZT=t=>{const{color:e,size:n,reverse:i}=t;return O.jsx("svg",{width:n||"100%",height:n||"100%",style:{transform:`${i?"rotate(180deg)":""}`},viewBox:"0 0 12 12",version:"1.1",children:O.jsx("g",{id:"Icons",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:O.jsx("g",{id:"Rounded",transform:"translate(-548.000000, -1000.000000)",children:O.jsx("g",{id:"AV",transform:"translate(100.000000, 852.000000)",children:O.jsx("g",{id:"-Round-/-AV-/-skip_next",transform:"translate(442.000000, 142.000000)",children:O.jsxs("g",{children:[O.jsx("rect",{id:"Rectangle-Copy-52",x:"0",y:"0",width:"24",height:"24"}),O.jsx("path",{d:"M7.58,16.89 L13.35,12.82 C13.91,12.42 13.91,11.58 13.35,11.19 L7.58,7.11 C6.91,6.65 6,7.12 6,7.93 L6,16.07 C6,16.88 6.91,17.35 7.58,16.89 Z M16,7 L16,17 C16,17.55 16.45,18 17,18 C17.55,18 18,17.55 18,17 L18,7 C18,6.45 17.55,6 17,6 C16.45,6 16,6.45 16,7 Z",id:"icon_color",fill:e||"#aaa"})]})})})})})})},C8=t=>{const{color:e,size:n,reverse:i}=t;return O.jsxs("svg",{width:n||"100%",height:n||"100%",style:{transform:`${i?"rotate(180deg)":""}`},id:"Layer_1",viewBox:"0 0 24 24",children:[O.jsx("path",{d:"M20.57,9.43A8,8,0,0,0,5.26,10,5,5,0,1,0,5,20h5V18H5a3,3,0,0,1,0-6,3.1,3.1,0,0,1,.79.12l1.12.31.14-1.15a6,6,0,0,1,11.74-.82l.15.54.54.16A3.46,3.46,0,0,1,22,14.5,3.5,3.5,0,0,1,18.5,18H16v2h2.5A5.48,5.48,0,0,0,20.57,9.43Z",fill:e||"#aaa"}),O.jsx("polygon",{points:"12 11 12 15.59 10.71 14.29 9.29 15.71 13 19.41 16.71 15.71 15.29 14.29 14 15.59 14 11 12 11",fill:e||"#aaa"})]})},P8=t=>O.jsx(JT,{...t}),T8=t=>O.jsx(JT,{...t,reverse:!0}),JT=t=>{const{color:e,size:n,reverse:i}=t;return O.jsx("svg",{width:n||"100%",height:n||"100%",viewBox:"0 0 32 32",version:"1.1",children:O.jsx("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:O.jsx("g",{id:"search-plus-icon",fill:e||"#aaa",children:O.jsx("path",{id:"search-plus",d:i?"M 13 13 L 16 13 L 19 13 L 19 16 L 16 16 L 13 16 L 10 16 L 10 13 Z M 19.4271 21.4271 C 18.0372 22.4175 16.3367 23 14.5 23 C 9.8056 23 6 19.1944 6 14.5 C 6 9.8056 9.8056 6 14.5 6 C 19.1944 6 23 9.8056 23 14.5 C 23 16.3367 22.4175 18.0372 21.4271 19.4271 L 27.0119 25.0119 C 27.5621 25.5621 27.5575 26.4425 27.0117 26.9883 L 26.9883 27.0117 C 26.4439 27.5561 25.5576 27.5576 25.0119 27.0119 L 19.4271 21.4271 L 19.4271 21.4271 L 19.4271 21.4271 Z M 14.5 21 C 18.0899 21 21 18.0899 21 14.5 C 21 10.9101 18.0899 8 14.5 8 C 10.9101 8 8 10.9101 8 14.5 C 8 18.0899 10.9101 21 14.5 21 L 14.5 21 Z":"M 13 13 L 13 10 L 16 10 L 16 13 L 19 13 L 19 16 L 16 16 L 16 19 L 13 19 L 13 16 L 10 16 L 10 13 Z M 19.4271 21.4271 C 18.0372 22.4175 16.3367 23 14.5 23 C 9.8056 23 6 19.1944 6 14.5 C 6 9.8056 9.8056 6 14.5 6 C 19.1944 6 23 9.8056 23 14.5 C 23 16.3367 22.4175 18.0372 21.4271 19.4271 L 27.0119 25.0119 C 27.5621 25.5621 27.5575 26.4425 27.0117 26.9883 L 26.9883 27.0117 C 26.4439 27.5561 25.5576 27.5576 25.0119 27.0119 L 19.4271 21.4271 L 19.4271 21.4271 L 19.4271 21.4271 Z M 14.5 21 C 18.0899 21 21 18.0899 21 14.5 C 21 10.9101 18.0899 8 14.5 8 C 10.9101 8 8 10.9101 8 14.5 C 8 18.0899 10.9101 21 14.5 21 L 14.5 21 Z"})})})})},R8=t=>{const{color:e,size:n}=t;return O.jsx("svg",{width:n||"100%",height:n||"100%",viewBox:"0 0 24 24",children:O.jsx("path",{fill:e||"#aaa",d:"M9.29,13.29,4,18.59V17a1,1,0,0,0-2,0v4a1,1,0,0,0,.08.38,1,1,0,0,0,.54.54A1,1,0,0,0,3,22H7a1,1,0,0,0,0-2H5.41l5.3-5.29a1,1,0,0,0-1.42-1.42ZM5.41,4H7A1,1,0,0,0,7,2H3a1,1,0,0,0-.38.08,1,1,0,0,0-.54.54A1,1,0,0,0,2,3V7A1,1,0,0,0,4,7V5.41l5.29,5.3a1,1,0,0,0,1.42,0,1,1,0,0,0,0-1.42ZM21,16a1,1,0,0,0-1,1v1.59l-5.29-5.3a1,1,0,0,0-1.42,1.42L18.59,20H17a1,1,0,0,0,0,2h4a1,1,0,0,0,.38-.08,1,1,0,0,0,.54-.54A1,1,0,0,0,22,21V17A1,1,0,0,0,21,16Zm.92-13.38a1,1,0,0,0-.54-.54A1,1,0,0,0,21,2H17a1,1,0,0,0,0,2h1.59l-5.3,5.29a1,1,0,0,0,0,1.42,1,1,0,0,0,1.42,0L20,5.41V7a1,1,0,0,0,2,0V3A1,1,0,0,0,21.92,2.62Z"})})},M8=t=>{const{color:e,size:n,reverse:i}=t;return O.jsx("svg",{width:n||"100%",height:n||"100%",style:{transform:`${i?"rotate(90deg)":""}`},version:"1.1",id:"Scroll_1",viewBox:"0 0 297 297",xmlSpace:"preserve",children:O.jsx("path",{fill:e||"#aaa",d:`M206.004,200.723h-31.231V96.277h31.231c0.005,0,0.014,0,0.019,0c5.289,0,9.575-4.287,9.575-9.574
  c0-2.342-0.841-4.488-2.236-6.151L156.168,3.851C154.36,1.428,151.515,0,148.492,0c-3.023,0-5.868,1.428-7.675,3.851L83.302,80.98
  c-2.166,2.902-2.507,6.779-0.883,10.017c1.624,3.236,4.936,5.28,8.559,5.28h31.231v104.445H90.978c-3.623,0-6.934,2.044-8.559,5.28
  c-1.624,3.237-1.283,7.114,0.883,10.017l57.513,77.129c1.808,2.424,4.652,3.852,7.675,3.852c3.023,0,5.868-1.428,7.676-3.852
  l57.514-77.129c2.164-2.902,2.507-6.779,0.883-10.017C212.938,202.767,209.627,200.723,206.004,200.723z`})})},L8=()=>{const{state:{currentPage:t,numPages:e},dispatch:n}=V.useContext(rc),{t:i}=Qo();return O.jsxs(I8,{id:"pdf-pagination",children:[O.jsx(eR,{id:"pdf-pagination-prev",onClick:()=>n(t_(t-1)),disabled:t===1,children:O.jsx(_8,{color:"#000",size:"50%"})}),O.jsx(D8,{id:"pdf-pagination-info",children:i("pdfPluginPageNumber",{currentPage:t,allPagesCount:e})}),O.jsx(N8,{id:"pdf-pagination-next",onClick:()=>n(t_(t+1)),disabled:t>=e,children:O.jsx(b8,{color:"#000",size:"50%"})})]})},I8=Se.div`
  display: flex;
  align-items: center;
`,eR=Se(Qm)`
  width: 30px;
  height: 30px;
  margin: 0 5px;

  @media (max-width: 768px) {
    width: 25px;
    height: 25px;
  }
`,N8=Se(eR)`
  margin: 0 20px 0 5px;
`,D8=Se.div`
  color: ${t=>t.theme.textPrimary};
  font-size: 14px;
  text-align: left;

  @media (max-width: 768px) {
    font-size: 10px;
  }
`,O8=()=>{const{t}=Qo(),{state:{mainState:e,paginated:n,zoomLevel:i,numPages:r,zoomJump:s,defaultZoomLevel:o},dispatch:a}=V.useContext(rc),l=(e==null?void 0:e.currentDocument)||null;return O.jsxs($8,{id:"pdf-controls",children:[n&&r>1&&O.jsx(L8,{}),(l==null?void 0:l.fileData)&&O.jsx(F8,{id:"pdf-download",href:l==null?void 0:l.fileData,download:(l==null?void 0:l.fileName)||(l==null?void 0:l.uri),title:t("downloadButtonLabel"),children:O.jsx(C8,{color:"#000",size:"75%"})}),O.jsx(Bd,{id:"pdf-zoom-out",onMouseDown:()=>a($v(i-s)),children:O.jsx(T8,{color:"#000",size:"80%"})}),O.jsx(Bd,{id:"pdf-zoom-in",onMouseDown:()=>a($v(i+s)),children:O.jsx(P8,{color:"#000",size:"80%"})}),O.jsx(Bd,{id:"pdf-zoom-reset",onMouseDown:()=>a($v(o)),disabled:i===o,children:O.jsx(R8,{color:"#000",size:"70%"})}),r>1&&O.jsx(Bd,{id:"pdf-toggle-pagination",onMouseDown:()=>a(v8(!n)),children:O.jsx(M8,{color:"#000",size:"70%",reverse:n})})]})},$8=Se.div`
  display: flex;
  position: sticky;
  top: 0;
  left: 0;
  z-index: 1;
  justify-content: flex-end;
  padding: 8px;
  background-color: ${t=>t.theme.tertiary};
  box-shadow: 0px 2px 3px #00000033;

  @media (max-width: 768px) {
    padding: 6px;
  }
`,Bd=Se(Qm)`
  width: 30px;
  height: 30px;
  @media (max-width: 768px) {
    width: 25px;
    height: 25px;
  }
`,F8=Se(N2)`
  width: 30px;
  height: 30px;
  @media (max-width: 768px) {
    width: 25px;
    height: 25px;
  }
`;eA.workerSrc=new URL(`https://unpkg.com/pdfjs-dist@${IT}/build/pdf.worker.min.mjs`).toString();const m0=({mainState:t})=>O.jsx(w8,{mainState:t,children:O.jsxs(j8,{id:"pdf-renderer","data-testid":"pdf-renderer",children:[O.jsx(O8,{}),O.jsx(E8,{})]})});m0.fileTypes=["pdf","application/pdf"];m0.weight=0;const j8=Se.div`
  display: flex;
  flex-direction: column;
  flex: 1;

  /* width */
  &::-webkit-scrollbar {
    ${t=>t.theme.disableThemeScrollbar?"":"width: 10px"};
  }
  /* Track */
  &::-webkit-scrollbar-track {
    /* background: ${t=>t.theme.secondary}; */
  }
  /* Handle */
  &::-webkit-scrollbar-thumb {
    background: ${t=>t.theme.tertiary};
  }
  /* Handle on hover */
  &::-webkit-scrollbar-thumb:hover {
    background: ${t=>t.theme.primary};
  }
`,W8=Se(Cr)`
  display: flex;
  flex: 1;
  align-items: center;
  justify-content: center;
  height: 100%;
  background-color: white;
  background-image: linear-gradient(45deg, #e0e0e0 25%, transparent 25%),
    linear-gradient(-45deg, #e0e0e0 25%, transparent 25%),
    linear-gradient(45deg, transparent 75%, #e0e0e0 75%),
    linear-gradient(-45deg, transparent 75%, #e0e0e0 75%);
  background-size: 20px 20px;
  background-position:
    0 0,
    0 10px,
    10px -10px,
    -10px 0px;
`,tA=t=>O.jsx(W8,{...t});tA.fileTypes=["png","image/png"];tA.weight=0;let Sr,Rn,bm=[];const B8=()=>{var t=yn(2,0);if(t===18761)Rn=!0;else if(t===19789)Rn=!1;else throw TypeError("Invalid byte order value.");return Rn},z8=()=>{if(yn(2,2)!==42)throw RangeError("You forgot your towel!");return!0},U8=t=>{var e={315:"Artist",258:"BitsPerSample",265:"CellLength",264:"CellWidth",320:"ColorMap",259:"Compression",33432:"Copyright",306:"DateTime",338:"ExtraSamples",266:"FillOrder",289:"FreeByteCounts",288:"FreeOffsets",291:"GrayResponseCurve",290:"GrayResponseUnit",316:"HostComputer",270:"ImageDescription",257:"ImageLength",256:"ImageWidth",271:"Make",281:"MaxSampleValue",280:"MinSampleValue",272:"Model",254:"NewSubfileType",274:"Orientation",262:"PhotometricInterpretation",284:"PlanarConfiguration",296:"ResolutionUnit",278:"RowsPerStrip",277:"SamplesPerPixel",305:"Software",279:"StripByteCounts",273:"StripOffsets",255:"SubfileType",263:"Threshholding",282:"XResolution",283:"YResolution",326:"BadFaxLines",327:"CleanFaxData",343:"ClipPath",328:"ConsecutiveBadFaxLines",433:"Decode",434:"DefaultImageColor",269:"DocumentName",336:"DotRange",321:"HalftoneHints",346:"Indexed",347:"JPEGTables",285:"PageName",297:"PageNumber",317:"Predictor",319:"PrimaryChromaticities",532:"ReferenceBlackWhite",339:"SampleFormat",559:"StripRowCounts",330:"SubIFDs",292:"T4Options",293:"T6Options",325:"TileByteCounts",323:"TileLength",324:"TileOffsets",322:"TileWidth",301:"TransferFunction",318:"WhitePoint",344:"XClipPathUnits",286:"XPosition",529:"YCbCrCoefficients",531:"YCbCrPositioning",530:"YCbCrSubSampling",345:"YClipPathUnits",287:"YPosition",37378:"ApertureValue",40961:"ColorSpace",36868:"DateTimeDigitized",36867:"DateTimeOriginal",34665:"Exif IFD",36864:"ExifVersion",33434:"ExposureTime",41728:"FileSource",37385:"Flash",40960:"FlashpixVersion",33437:"FNumber",42016:"ImageUniqueID",37384:"LightSource",37500:"MakerNote",37377:"ShutterSpeedValue",37510:"UserComment",33723:"IPTC",34675:"ICC Profile",700:"XMP",42112:"GDAL_METADATA",42113:"GDAL_NODATA",34377:"Photoshop"},n;return t in e?n=e[t]:n="Tag"+t,n},H8=t=>{var e={1:"BYTE",2:"ASCII",3:"SHORT",4:"LONG",5:"RATIONAL",6:"SBYTE",7:"UNDEFINED",8:"SSHORT",9:"SLONG",10:"SRATIONAL",11:"FLOAT",12:"DOUBLE"},n;return t in e&&(n=e[t]),n},V8=t=>{var e;return["BYTE","ASCII","SBYTE","UNDEFINED"].indexOf(t)!==-1?e=1:["SHORT","SSHORT"].indexOf(t)!==-1?e=2:["LONG","SLONG","FLOAT"].indexOf(t)!==-1?e=4:["RATIONAL","SRATIONAL","DOUBLE"].indexOf(t)!==-1&&(e=8),e},G8=(t,e,n)=>{n=n||0;var i=Math.floor(n/8),r=e+i,s=n+t,o=32-t;if(s<=0)throw RangeError("No bits requested");if(s<=8)var a=24+n,l=Sr.getUint8(r,Rn);else if(s<=16)var a=16+n,l=Sr.getUint16(r,Rn);else if(s<=32)var a=n,l=Sr.getUint32(r,Rn);else throw RangeError("Too many bits requested");var h={bits:l<<a>>>o,byteOffset:r+Math.floor(s/8),bitOffset:s%8};return h},yn=(t,e)=>{if(t<=0)throw RangeError("No bytes requested");if(t<=1)return Sr.getUint8(e,Rn);if(t<=2)return Sr.getUint16(e,Rn);if(t<=3)return Sr.getUint32(e,Rn)>>>8;if(t<=4)return Sr.getUint32(e,Rn);throw RangeError("Too many bytes requested")},q8=(t,e,n,i)=>{var r=[],s=V8(e),o=s*n;if(o<=4){if(Rn===!1)var a=i>>>(4-s)*8;else var a=i;r.push(a)}else for(var l=0;l<n;l++){var h=s*l;if(s>=8)if(["RATIONAL","SRATIONAL"].indexOf(e)!==-1)r.push(yn(4,i+h)),r.push(yn(4,i+h+4));else throw TypeError("Can't handle this field type or size");else r.push(yn(s,i+h))}return e==="ASCII"&&r.forEach(function(u,f,p){p[f]=String.fromCharCode(u)}),r},Us=(t,e)=>{var n=Math.pow(2,8-e);return Math.floor(t*n+(n-1))},n_=(t,e,n,i)=>(typeof i>"u"&&(i=1),"rgba("+t+", "+e+", "+n+", "+i+")"),tR=t=>{for(var e=yn(2,t),n=[],i=t+2,r=0;r<e;i+=12,r++){var s=yn(2,i),o=yn(2,i+2),a=yn(4,i+4),l=yn(4,i+8),h=U8(s),u=H8(o),f=q8(h,u,a,l);n[h]={type:u,values:f}}bm.push(n);var p=yn(4,i);return p===0?bm:tR(p)},Y8=(t,e)=>{let n=e||document.createElement("canvas");if(t&&(Sr=new DataView(t),Rn=B8(),!!z8())){var i=yn(4,4);bm=tR(i);var r=bm[0],s=r.ImageWidth.values[0],o=r.ImageLength.values[0];n.width=s,n.height=o;var a=[],l=r.Compression?r.Compression.values[0]:1,h=r.SamplesPerPixel.values[0],u=[],f=0,p=!1;if(r.BitsPerSample.values.forEach(function(et,fe,Jt){u[fe]={bitsPerSample:et,hasBytesPerSample:!1,bytesPerSample:void 0},et%8===0&&(u[fe].hasBytesPerSample=!0,u[fe].bytesPerSample=et/8),f+=et},void 0),f%8===0){p=!0;var m=f/8}var y=r.StripOffsets.values,A=y.length;if(r.StripByteCounts)var b=r.StripByteCounts.values;else if(A===1)var b=[Math.ceil(s*o*f/8)];else throw Error("Cannot recover from missing StripByteCounts");for(var w=0;w<A;w++){var S=y[w];a[w]=[];for(var E=b[w],T=0,R=0,I=1,M=!0,C=[],P=0,N=0,$=0;T<E;T+=I)switch(l){case 1:for(var z=0,C=[];z<h;z++)if(u[z].hasBytesPerSample){var U=u[z].bytesPerSample*z;C.push(yn(u[z].bytesPerSample,S+T+U))}else{var Q=G8(u[z].bitsPerSample,S+T,R);throw C.push(Q.bits),T=Q.byteOffset-S,R=Q.bitOffset,RangeError("Cannot handle sub-byte bits per sample")}if(a[w].push(C),p)I=m;else throw I=0,RangeError("Cannot handle sub-byte bits per pixel");break;case 2:break;case 3:break;case 4:break;case 5:break;case 6:break;case 7:break;case 32773:if(M){M=!1;var ee=1,G=1,F=Sr.getInt8(S+T,Rn);F>=0&&F<=127?ee=F+1:F>=-127&&F<=-1?G=-F+1:M=!0}else{for(var H=yn(1,S+T),z=0;z<G;z++){if(u[N].hasBytesPerSample)$=$<<8*P|H,P++,P===u[N].bytesPerSample&&(C.push($),$=P=0,N++);else throw RangeError("Cannot handle sub-byte bits per sample");N===h&&(a[w].push(C),C=[],N=0)}ee--,ee===0&&(M=!0)}I=1;break}}if(n.getContext){var W=n.getContext("2d");if(W.fillStyle=n_(255,255,255,0),r.RowsPerStrip)var K=r.RowsPerStrip.values[0];else var K=o;var ne=a.length,B=o%K,oe=B===0?K:B,te=K,ie=0,le=r.PhotometricInterpretation.values[0],re=[],xe=0;if(r.ExtraSamples&&(re=r.ExtraSamples.values,xe=re.length),r.ColorMap)var X=r.ColorMap.values,se=Math.pow(2,u[0].bitsPerSample);for(var w=0;w<ne;w++){w+1===ne&&(te=oe);for(var me=a[w].length,ye=ie*w,de=0,Ce=0;Ce<me;de++)for(var ue=0;ue<s;ue++,Ce++){var Z=a[w][Ce],ke=0,Ne=0,Ze=0,vt=1;if(xe>0){for(var Je=0;Je<xe;Je++)if(re[Je]===1||re[Je]===2){vt=Z[3+Je]/256;break}}switch(le){case 0:if(u[0].hasBytesPerSample)var Me=Math.pow(16,u[0].bytesPerSample*2);Z.forEach(function(fe,Jt,en){en[Jt]=Me-fe});case 1:ke=Ne=Ze=Us(Z[0],u[0].bitsPerSample);break;case 2:ke=Us(Z[0],u[0].bitsPerSample),Ne=Us(Z[1],u[1].bitsPerSample),Ze=Us(Z[2],u[2].bitsPerSample);break;case 3:if(X===void 0)throw Error("Palette image missing color map");var Le=Z[0];ke=Us(X[Le],16),Ne=Us(X[se+Le],16),Ze=Us(X[2*se+Le],16);break;case 4:throw RangeError("Not Yet Implemented: Transparency mask");case 5:throw RangeError("Not Yet Implemented: CMYK");case 6:throw RangeError("Not Yet Implemented: YCbCr");case 8:throw RangeError("Not Yet Implemented: CIELab");default:throw RangeError("Unknown Photometric Interpretation:",le)}W.fillStyle=n_(ke,Ne,Ze,vt),W.fillRect(ue,ye+de,1,1)}ie=te}}return n}},v0=t=>{const{mainState:{currentDocument:e}}=t,{t:n}=Qo(),[i,r]=V.useState(!1),[s,o]=V.useState(!1);return V.useEffect(()=>{if(!e||i)return;const a=document.getElementById("tiff-img");try{a&&Y8(e.fileData,a),r(!0)}catch{o(!0)}},[e,i]),s?O.jsx(Cr,{...t,children:O.jsx("div",{children:n("brokenFile")})}):O.jsx(Cr,{...t,children:O.jsx(K8,{id:"tiff-img"})})};v0.fileTypes=["tif","tiff","image/tif","image/tiff"];v0.weight=0;v0.fileLoader=N4;const K8=Se.canvas`
  max-width: 95%;
  max-height: 95%;
`,y0=({mainState:{currentDocument:t}})=>O.jsx(X8,{id:"txt-renderer",children:t==null?void 0:t.fileData});y0.fileTypes=["txt","text/plain"];y0.weight=0;y0.fileLoader=j2;const X8=Se.div`
  display: flex;
  flex-direction: column;
  width: 100%;
  padding: 30px;
`;var nR={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){(function(n,i){t.exports=i()})(Lc,function n(){var i=typeof self<"u"?self:typeof window<"u"?window:i!==void 0?i:{},r=!i.document&&!!i.postMessage,s=i.IS_PAPA_WORKER||!1,o={},a=0,l={parse:function(C,P){var N=(P=P||{}).dynamicTyping||!1;if(M(N)&&(P.dynamicTypingFunction=N,N={}),P.dynamicTyping=N,P.transform=!!M(P.transform)&&P.transform,P.worker&&l.WORKERS_SUPPORTED){var $=function(){if(!l.WORKERS_SUPPORTED)return!1;var U=(ee=i.URL||i.webkitURL||null,G=n.toString(),l.BLOB_URL||(l.BLOB_URL=ee.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",G,")();"],{type:"text/javascript"})))),Q=new i.Worker(U),ee,G;return Q.onmessage=S,Q.id=a++,o[Q.id]=Q}();return $.userStep=P.step,$.userChunk=P.chunk,$.userComplete=P.complete,$.userError=P.error,P.step=M(P.step),P.chunk=M(P.chunk),P.complete=M(P.complete),P.error=M(P.error),delete P.worker,void $.postMessage({input:C,config:P,workerId:$.id})}var z=null;return l.NODE_STREAM_INPUT,typeof C=="string"?(C=function(U){return U.charCodeAt(0)===65279?U.slice(1):U}(C),z=P.download?new f(P):new m(P)):C.readable===!0&&M(C.read)&&M(C.on)?z=new y(P):(i.File&&C instanceof File||C instanceof Object)&&(z=new p(P)),z.stream(C)},unparse:function(C,P){var N=!1,$=!0,z=",",U=`\r
`,Q='"',ee=Q+Q,G=!1,F=null,H=!1;(function(){if(typeof P=="object"){if(typeof P.delimiter!="string"||l.BAD_DELIMITERS.filter(function(B){return P.delimiter.indexOf(B)!==-1}).length||(z=P.delimiter),(typeof P.quotes=="boolean"||typeof P.quotes=="function"||Array.isArray(P.quotes))&&(N=P.quotes),typeof P.skipEmptyLines!="boolean"&&typeof P.skipEmptyLines!="string"||(G=P.skipEmptyLines),typeof P.newline=="string"&&(U=P.newline),typeof P.quoteChar=="string"&&(Q=P.quoteChar),typeof P.header=="boolean"&&($=P.header),Array.isArray(P.columns)){if(P.columns.length===0)throw new Error("Option columns is empty");F=P.columns}P.escapeChar!==void 0&&(ee=P.escapeChar+Q),(typeof P.escapeFormulae=="boolean"||P.escapeFormulae instanceof RegExp)&&(H=P.escapeFormulae instanceof RegExp?P.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var W=new RegExp(b(Q),"g");if(typeof C=="string"&&(C=JSON.parse(C)),Array.isArray(C)){if(!C.length||Array.isArray(C[0]))return K(null,C,G);if(typeof C[0]=="object")return K(F||Object.keys(C[0]),C,G)}else if(typeof C=="object")return typeof C.data=="string"&&(C.data=JSON.parse(C.data)),Array.isArray(C.data)&&(C.fields||(C.fields=C.meta&&C.meta.fields||F),C.fields||(C.fields=Array.isArray(C.data[0])?C.fields:typeof C.data[0]=="object"?Object.keys(C.data[0]):[]),Array.isArray(C.data[0])||typeof C.data[0]=="object"||(C.data=[C.data])),K(C.fields||[],C.data||[],G);throw new Error("Unable to serialize unrecognized input");function K(B,oe,te){var ie="";typeof B=="string"&&(B=JSON.parse(B)),typeof oe=="string"&&(oe=JSON.parse(oe));var le=Array.isArray(B)&&0<B.length,re=!Array.isArray(oe[0]);if(le&&$){for(var xe=0;xe<B.length;xe++)0<xe&&(ie+=z),ie+=ne(B[xe],xe);0<oe.length&&(ie+=U)}for(var X=0;X<oe.length;X++){var se=le?B.length:oe[X].length,me=!1,ye=le?Object.keys(oe[X]).length===0:oe[X].length===0;if(te&&!le&&(me=te==="greedy"?oe[X].join("").trim()==="":oe[X].length===1&&oe[X][0].length===0),te==="greedy"&&le){for(var de=[],Ce=0;Ce<se;Ce++){var ue=re?B[Ce]:Ce;de.push(oe[X][ue])}me=de.join("").trim()===""}if(!me){for(var Z=0;Z<se;Z++){0<Z&&!ye&&(ie+=z);var ke=le&&re?B[Z]:Z;ie+=ne(oe[X][ke],Z)}X<oe.length-1&&(!te||0<se&&!ye)&&(ie+=U)}}return ie}function ne(B,oe){if(B==null)return"";if(B.constructor===Date)return JSON.stringify(B).slice(1,25);var te=!1;H&&typeof B=="string"&&H.test(B)&&(B="'"+B,te=!0);var ie=B.toString().replace(W,ee);return(te=te||N===!0||typeof N=="function"&&N(B,oe)||Array.isArray(N)&&N[oe]||function(le,re){for(var xe=0;xe<re.length;xe++)if(-1<le.indexOf(re[xe]))return!0;return!1}(ie,l.BAD_DELIMITERS)||-1<ie.indexOf(z)||ie.charAt(0)===" "||ie.charAt(ie.length-1)===" ")?Q+ie+Q:ie}}};if(l.RECORD_SEP="",l.UNIT_SEP="",l.BYTE_ORDER_MARK="\uFEFF",l.BAD_DELIMITERS=["\r",`
`,'"',l.BYTE_ORDER_MARK],l.WORKERS_SUPPORTED=!r&&!!i.Worker,l.NODE_STREAM_INPUT=1,l.LocalChunkSize=10485760,l.RemoteChunkSize=5242880,l.DefaultDelimiter=",",l.Parser=w,l.ParserHandle=A,l.NetworkStreamer=f,l.FileStreamer=p,l.StringStreamer=m,l.ReadableStreamStreamer=y,i.jQuery){var h=i.jQuery;h.fn.parse=function(C){var P=C.config||{},N=[];return this.each(function(U){if(!(h(this).prop("tagName").toUpperCase()==="INPUT"&&h(this).attr("type").toLowerCase()==="file"&&i.FileReader)||!this.files||this.files.length===0)return!0;for(var Q=0;Q<this.files.length;Q++)N.push({file:this.files[Q],inputElem:this,instanceConfig:h.extend({},P)})}),$(),this;function $(){if(N.length!==0){var U,Q,ee,G,F=N[0];if(M(C.before)){var H=C.before(F.file,F.inputElem);if(typeof H=="object"){if(H.action==="abort")return U="AbortError",Q=F.file,ee=F.inputElem,G=H.reason,void(M(C.error)&&C.error({name:U},Q,ee,G));if(H.action==="skip")return void z();typeof H.config=="object"&&(F.instanceConfig=h.extend(F.instanceConfig,H.config))}else if(H==="skip")return void z()}var W=F.instanceConfig.complete;F.instanceConfig.complete=function(K){M(W)&&W(K,F.file,F.inputElem),z()},l.parse(F.file,F.instanceConfig)}else M(C.complete)&&C.complete()}function z(){N.splice(0,1),$()}}}function u(C){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(P){var N=R(P);N.chunkSize=parseInt(N.chunkSize),P.step||P.chunk||(N.chunkSize=null),this._handle=new A(N),(this._handle.streamer=this)._config=N}).call(this,C),this.parseChunk=function(P,N){if(this.isFirstChunk&&M(this._config.beforeFirstChunk)){var $=this._config.beforeFirstChunk(P);$!==void 0&&(P=$)}this.isFirstChunk=!1,this._halted=!1;var z=this._partialLine+P;this._partialLine="";var U=this._handle.parse(z,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var Q=U.meta.cursor;this._finished||(this._partialLine=z.substring(Q-this._baseIndex),this._baseIndex=Q),U&&U.data&&(this._rowCount+=U.data.length);var ee=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(s)i.postMessage({results:U,workerId:l.WORKER_ID,finished:ee});else if(M(this._config.chunk)&&!N){if(this._config.chunk(U,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);U=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(U.data),this._completeResults.errors=this._completeResults.errors.concat(U.errors),this._completeResults.meta=U.meta),this._completed||!ee||!M(this._config.complete)||U&&U.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),ee||U&&U.meta.paused||this._nextChunk(),U}this._halted=!0},this._sendError=function(P){M(this._config.error)?this._config.error(P):s&&this._config.error&&i.postMessage({workerId:l.WORKER_ID,error:P,finished:!1})}}function f(C){var P;(C=C||{}).chunkSize||(C.chunkSize=l.RemoteChunkSize),u.call(this,C),this._nextChunk=r?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(N){this._input=N,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(P=new XMLHttpRequest,this._config.withCredentials&&(P.withCredentials=this._config.withCredentials),r||(P.onload=I(this._chunkLoaded,this),P.onerror=I(this._chunkError,this)),P.open(this._config.downloadRequestBody?"POST":"GET",this._input,!r),this._config.downloadRequestHeaders){var N=this._config.downloadRequestHeaders;for(var $ in N)P.setRequestHeader($,N[$])}if(this._config.chunkSize){var z=this._start+this._config.chunkSize-1;P.setRequestHeader("Range","bytes="+this._start+"-"+z)}try{P.send(this._config.downloadRequestBody)}catch(U){this._chunkError(U.message)}r&&P.status===0&&this._chunkError()}},this._chunkLoaded=function(){P.readyState===4&&(P.status<200||400<=P.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:P.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(N){var $=N.getResponseHeader("Content-Range");return $===null?-1:parseInt($.substring($.lastIndexOf("/")+1))}(P),this.parseChunk(P.responseText)))},this._chunkError=function(N){var $=P.statusText||N;this._sendError(new Error($))}}function p(C){var P,N;(C=C||{}).chunkSize||(C.chunkSize=l.LocalChunkSize),u.call(this,C);var $=typeof FileReader<"u";this.stream=function(z){this._input=z,N=z.slice||z.webkitSlice||z.mozSlice,$?((P=new FileReader).onload=I(this._chunkLoaded,this),P.onerror=I(this._chunkError,this)):P=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var z=this._input;if(this._config.chunkSize){var U=Math.min(this._start+this._config.chunkSize,this._input.size);z=N.call(z,this._start,U)}var Q=P.readAsText(z,this._config.encoding);$||this._chunkLoaded({target:{result:Q}})},this._chunkLoaded=function(z){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(z.target.result)},this._chunkError=function(){this._sendError(P.error)}}function m(C){var P;u.call(this,C=C||{}),this.stream=function(N){return P=N,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var N,$=this._config.chunkSize;return $?(N=P.substring(0,$),P=P.substring($)):(N=P,P=""),this._finished=!P,this.parseChunk(N)}}}function y(C){u.call(this,C=C||{});var P=[],N=!0,$=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(z){this._input=z,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){$&&P.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),P.length?this.parseChunk(P.shift()):N=!0},this._streamData=I(function(z){try{P.push(typeof z=="string"?z:z.toString(this._config.encoding)),N&&(N=!1,this._checkIsFinished(),this.parseChunk(P.shift()))}catch(U){this._streamError(U)}},this),this._streamError=I(function(z){this._streamCleanUp(),this._sendError(z)},this),this._streamEnd=I(function(){this._streamCleanUp(),$=!0,this._streamData("")},this),this._streamCleanUp=I(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function A(C){var P,N,$,z=Math.pow(2,53),U=-z,Q=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,ee=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,G=this,F=0,H=0,W=!1,K=!1,ne=[],B={data:[],errors:[],meta:{}};if(M(C.step)){var oe=C.step;C.step=function(X){if(B=X,le())ie();else{if(ie(),B.data.length===0)return;F+=X.data.length,C.preview&&F>C.preview?N.abort():(B.data=B.data[0],oe(B,G))}}}function te(X){return C.skipEmptyLines==="greedy"?X.join("").trim()==="":X.length===1&&X[0].length===0}function ie(){return B&&$&&(xe("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+l.DefaultDelimiter+"'"),$=!1),C.skipEmptyLines&&(B.data=B.data.filter(function(X){return!te(X)})),le()&&function(){if(!B)return;function X(me,ye){M(C.transformHeader)&&(me=C.transformHeader(me,ye)),ne.push(me)}if(Array.isArray(B.data[0])){for(var se=0;le()&&se<B.data.length;se++)B.data[se].forEach(X);B.data.splice(0,1)}else B.data.forEach(X)}(),function(){if(!B||!C.header&&!C.dynamicTyping&&!C.transform)return B;function X(me,ye){var de,Ce=C.header?{}:[];for(de=0;de<me.length;de++){var ue=de,Z=me[de];C.header&&(ue=de>=ne.length?"__parsed_extra":ne[de]),C.transform&&(Z=C.transform(Z,ue)),Z=re(ue,Z),ue==="__parsed_extra"?(Ce[ue]=Ce[ue]||[],Ce[ue].push(Z)):Ce[ue]=Z}return C.header&&(de>ne.length?xe("FieldMismatch","TooManyFields","Too many fields: expected "+ne.length+" fields but parsed "+de,H+ye):de<ne.length&&xe("FieldMismatch","TooFewFields","Too few fields: expected "+ne.length+" fields but parsed "+de,H+ye)),Ce}var se=1;return!B.data.length||Array.isArray(B.data[0])?(B.data=B.data.map(X),se=B.data.length):B.data=X(B.data,0),C.header&&B.meta&&(B.meta.fields=ne),H+=se,B}()}function le(){return C.header&&ne.length===0}function re(X,se){return me=X,C.dynamicTypingFunction&&C.dynamicTyping[me]===void 0&&(C.dynamicTyping[me]=C.dynamicTypingFunction(me)),(C.dynamicTyping[me]||C.dynamicTyping)===!0?se==="true"||se==="TRUE"||se!=="false"&&se!=="FALSE"&&(function(ye){if(Q.test(ye)){var de=parseFloat(ye);if(U<de&&de<z)return!0}return!1}(se)?parseFloat(se):ee.test(se)?new Date(se):se===""?null:se):se;var me}function xe(X,se,me,ye){var de={type:X,code:se,message:me};ye!==void 0&&(de.row=ye),B.errors.push(de)}this.parse=function(X,se,me){var ye=C.quoteChar||'"';if(C.newline||(C.newline=function(ue,Z){ue=ue.substring(0,1048576);var ke=new RegExp(b(Z)+"([^]*?)"+b(Z),"gm"),Ne=(ue=ue.replace(ke,"")).split("\r"),Ze=ue.split(`
`),vt=1<Ze.length&&Ze[0].length<Ne[0].length;if(Ne.length===1||vt)return`
`;for(var Je=0,Me=0;Me<Ne.length;Me++)Ne[Me][0]===`
`&&Je++;return Je>=Ne.length/2?`\r
`:"\r"}(X,ye)),$=!1,C.delimiter)M(C.delimiter)&&(C.delimiter=C.delimiter(X),B.meta.delimiter=C.delimiter);else{var de=function(ue,Z,ke,Ne,Ze){var vt,Je,Me,Le;Ze=Ze||[",","	","|",";",l.RECORD_SEP,l.UNIT_SEP];for(var et=0;et<Ze.length;et++){var fe=Ze[et],Jt=0,en=0,yt=0;Me=void 0;for(var On=new w({comments:Ne,delimiter:fe,newline:Z,preview:10}).parse(ue),d=0;d<On.data.length;d++)if(ke&&te(On.data[d]))yt++;else{var g=On.data[d].length;en+=g,Me!==void 0?0<g&&(Jt+=Math.abs(g-Me),Me=g):Me=g}0<On.data.length&&(en/=On.data.length-yt),(Je===void 0||Jt<=Je)&&(Le===void 0||Le<en)&&1.99<en&&(Je=Jt,vt=fe,Le=en)}return{successful:!!(C.delimiter=vt),bestDelimiter:vt}}(X,C.newline,C.skipEmptyLines,C.comments,C.delimitersToGuess);de.successful?C.delimiter=de.bestDelimiter:($=!0,C.delimiter=l.DefaultDelimiter),B.meta.delimiter=C.delimiter}var Ce=R(C);return C.preview&&C.header&&Ce.preview++,P=X,N=new w(Ce),B=N.parse(P,se,me),ie(),W?{meta:{paused:!0}}:B||{meta:{paused:!1}}},this.paused=function(){return W},this.pause=function(){W=!0,N.abort(),P=M(C.chunk)?"":P.substring(N.getCharIndex())},this.resume=function(){G.streamer._halted?(W=!1,G.streamer.parseChunk(P,!0)):setTimeout(G.resume,3)},this.aborted=function(){return K},this.abort=function(){K=!0,N.abort(),B.meta.aborted=!0,M(C.complete)&&C.complete(B),P=""}}function b(C){return C.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function w(C){var P,N=(C=C||{}).delimiter,$=C.newline,z=C.comments,U=C.step,Q=C.preview,ee=C.fastMode,G=P=C.quoteChar===void 0||C.quoteChar===null?'"':C.quoteChar;if(C.escapeChar!==void 0&&(G=C.escapeChar),(typeof N!="string"||-1<l.BAD_DELIMITERS.indexOf(N))&&(N=","),z===N)throw new Error("Comment character same as delimiter");z===!0?z="#":(typeof z!="string"||-1<l.BAD_DELIMITERS.indexOf(z))&&(z=!1),$!==`
`&&$!=="\r"&&$!==`\r
`&&($=`
`);var F=0,H=!1;this.parse=function(W,K,ne){if(typeof W!="string")throw new Error("Input must be a string");var B=W.length,oe=N.length,te=$.length,ie=z.length,le=M(U),re=[],xe=[],X=[],se=F=0;if(!W)return x();if(C.header&&!K){var me=W.split($)[0].split(N),ye=[],de={},Ce=!1;for(var ue in me){var Z=me[ue];M(C.transformHeader)&&(Z=C.transformHeader(Z,ue));var ke=Z,Ne=de[Z]||0;for(0<Ne&&(Ce=!0,ke=Z+"_"+Ne),de[Z]=Ne+1;ye.includes(ke);)ke=ke+"_"+Ne;ye.push(ke)}if(Ce){var Ze=W.split($);Ze[0]=ye.join(N),W=Ze.join($)}}if(ee||ee!==!1&&W.indexOf(P)===-1){for(var vt=W.split($),Je=0;Je<vt.length;Je++){if(X=vt[Je],F+=X.length,Je!==vt.length-1)F+=$.length;else if(ne)return x();if(!z||X.substring(0,ie)!==z){if(le){if(re=[],yt(X.split(N)),L(),H)return x()}else yt(X.split(N));if(Q&&Q<=Je)return re=re.slice(0,Q),x(!0)}}return x()}for(var Me=W.indexOf(N,F),Le=W.indexOf($,F),et=new RegExp(b(G)+b(P),"g"),fe=W.indexOf(P,F);;)if(W[F]!==P)if(z&&X.length===0&&W.substring(F,F+ie)===z){if(Le===-1)return x();F=Le+te,Le=W.indexOf($,F),Me=W.indexOf(N,F)}else if(Me!==-1&&(Me<Le||Le===-1))X.push(W.substring(F,Me)),F=Me+oe,Me=W.indexOf(N,F);else{if(Le===-1)break;if(X.push(W.substring(F,Le)),g(Le+te),le&&(L(),H))return x();if(Q&&re.length>=Q)return x(!0)}else for(fe=F,F++;;){if((fe=W.indexOf(P,fe+1))===-1)return ne||xe.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:re.length,index:F}),d();if(fe===B-1)return d(W.substring(F,fe).replace(et,P));if(P!==G||W[fe+1]!==G){if(P===G||fe===0||W[fe-1]!==G){Me!==-1&&Me<fe+1&&(Me=W.indexOf(N,fe+1)),Le!==-1&&Le<fe+1&&(Le=W.indexOf($,fe+1));var Jt=On(Le===-1?Me:Math.min(Me,Le));if(W.substr(fe+1+Jt,oe)===N){X.push(W.substring(F,fe).replace(et,P)),W[F=fe+1+Jt+oe]!==P&&(fe=W.indexOf(P,F)),Me=W.indexOf(N,F),Le=W.indexOf($,F);break}var en=On(Le);if(W.substring(fe+1+en,fe+1+en+te)===$){if(X.push(W.substring(F,fe).replace(et,P)),g(fe+1+en+te),Me=W.indexOf(N,F),fe=W.indexOf(P,F),le&&(L(),H))return x();if(Q&&re.length>=Q)return x(!0);break}xe.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:re.length,index:F}),fe++}}else fe++}return d();function yt(D){re.push(D),se=F}function On(D){var j=0;if(D!==-1){var Y=W.substring(fe+1,D);Y&&Y.trim()===""&&(j=Y.length)}return j}function d(D){return ne||(D===void 0&&(D=W.substring(F)),X.push(D),F=B,yt(X),le&&L()),x()}function g(D){F=D,yt(X),X=[],Le=W.indexOf($,F)}function x(D){return{data:re,errors:xe,meta:{delimiter:N,linebreak:$,aborted:H,truncated:!!D,cursor:se+(K||0)}}}function L(){U(x()),re=[],xe=[]}},this.abort=function(){H=!0},this.getCharIndex=function(){return F}}function S(C){var P=C.data,N=o[P.workerId],$=!1;if(P.error)N.userError(P.error,P.file);else if(P.results&&P.results.data){var z={abort:function(){$=!0,E(P.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:T,resume:T};if(M(N.userStep)){for(var U=0;U<P.results.data.length&&(N.userStep({data:P.results.data[U],errors:P.results.errors,meta:P.results.meta},z),!$);U++);delete P.results}else M(N.userChunk)&&(N.userChunk(P.results,z,P.file),delete P.results)}P.finished&&!$&&E(P.workerId,P.results)}function E(C,P){var N=o[C];M(N.userComplete)&&N.userComplete(P),N.terminate(),delete o[C]}function T(){throw new Error("Not implemented.")}function R(C){if(typeof C!="object"||C===null)return C;var P=Array.isArray(C)?[]:{};for(var N in C)P[N]=R(C[N]);return P}function I(C,P){return function(){C.apply(P,arguments)}}function M(C){return typeof C=="function"}return s&&(i.onmessage=function(C){var P=C.data;if(l.WORKER_ID===void 0&&P&&(l.WORKER_ID=P.workerId),typeof P.input=="string")i.postMessage({workerId:l.WORKER_ID,results:l.parse(P.input,P.config),finished:!0});else if(i.File&&P.input instanceof File||P.input instanceof Object){var N=l.parse(P.input,P.config);N&&i.postMessage({workerId:l.WORKER_ID,results:N,finished:!0})}}),(f.prototype=Object.create(u.prototype)).constructor=f,(p.prototype=Object.create(u.prototype)).constructor=p,(m.prototype=Object.create(m.prototype)).constructor=m,(y.prototype=Object.create(u.prototype)).constructor=y,l})})(nR);var Q8=nR.exports;const Z8=SC(Q8),w0=({mainState:{currentDocument:t,config:e}})=>{const[n,i]=V.useState([]);return V.useEffect(()=>{var r;if(t!=null&&t.fileData){const s=Z8.parse(t.fileData,{delimiter:(e==null?void 0:e.csvDelimiter)??","});!((r=s.errors)!=null&&r.length)&&s.data&&i(s.data)}},[t,e==null?void 0:e.csvDelimiter]),n.length?O.jsx(J8,{children:O.jsxs(eB,{children:[O.jsx("thead",{children:O.jsx("tr",{children:n[0].map(r=>O.jsx("th",{children:r},r))})}),O.jsx("tbody",{children:n.slice(1,n.length).map(r=>O.jsx("tr",{children:r.map(s=>O.jsx("td",{children:s},s))},r.join("")))})]})}):null};w0.fileTypes=["csv","text/csv"];w0.weight=0;w0.fileLoader=j2;const J8=Se.div`
  width: 100%;
`,eB=Se.table`
  width: 100%;
  text-align: left;

  th,
  td {
    padding: 5px 10px;

    &:empty {
      display: none;
    }
  }
`,nA=t=>O.jsx(Cr,{...t});nA.fileTypes=["gif","image/gif"];nA.weight=0;const iA=({mainState:{currentDocument:t}})=>t?O.jsx(tB,{id:"video-renderer",children:O.jsx(nB,{controls:!0,src:t.uri})}):null;iA.fileTypes=["video/mp4","video/quicktime","video/x-msvideo"];iA.weight=0;const tB=Se.div`
  width: 100%;
`,nB=Se.video`
  width: 100%;
  height: 100%;
  border: 0;
`,rA=t=>O.jsx(Cr,{...t});rA.fileTypes=["webp","image/webp"];rA.weight=0;const iB=[Bx,Zm,zx,Jm,m0,tA,v0,y0,w0,nA,iA,rA],rB=V.forwardRef((t,e)=>{const{documents:n,theme:i}=t;if(!n)throw new Error("Please provide an array of documents to DocViewer!");return O.jsx(r4,{ref:e,pluginRenderers:iB,...t,children:O.jsx(z3,{theme:i?{...ik,...i}:ik,children:O.jsxs(oB,{id:"react-doc-viewer","data-testid":"react-doc-viewer",className:t.className,style:t.style,children:[O.jsx(L4,{}),O.jsx(W4,{})]})})})}),sB=V.memo(rB),oB=Se.div`
  display: flex;
  flex-direction: column;
  background: #ffffff;
  width: 100%;
  height: 100%;
`;function iR({urls:t=[]}){const e=t.map(n=>({uri:n}));return O.jsx(sB,{documents:e,pluginRenderers:[m0],theme:{primary:"rgb(109 40 217)",secondary:"#ffffff",tertiary:"rgb(109 40 217)",textPrimary:"#ffffff",textSecondary:"#ffffff",textTertiary:"#ffffff",disableThemeScrollbar:!1}})}iR.propTypes={urls:_l.array};function rR({bucketlink:t}){return O.jsx(iR,{urls:[t]})}rR.propTypes={bucketlink:_l.string};function sR(t){let{bucketlink:e,data:n=null}=t;switch(n&&(n=JSON.parse(decodeURIComponent(n))),n.pageType){case q0[404]:return O.jsx(pE,{});case q0.LIST:return O.jsx(wC,{urls:e,data:n});case q0.VIEWER:return O.jsx(rR,{bucketlink:e});default:return O.jsx(pE,{})}}sR.propTypes={bucketlink:_l.string,filetype:_l.string,data:_l.string};const aB=DL(sR,Cs,Fv,{props:{bucketlink:"string",filetype:"string",data:"string",title:"string",pageType:"string"}});customElements.define("simply-previewer",aB);export{Q1 as A,SC as J,ge as c,cB as q,Lc as r,lB as z};
